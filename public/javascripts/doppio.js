!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.Doppio=a()}}(function(){var define,module,exports;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){"use strict";var d="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;c.assign=function(a){for(var b=Array.prototype.slice.call(arguments,1);b.length;){var c=b.shift();if(c){if("object"!=typeof c)throw new TypeError(c+"must be non-object");for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}}return a},c.shrinkBuf=function(a,b){return a.length===b?a:a.subarray?a.subarray(0,b):(a.length=b,a)};var e={arraySet:function(a,b,c,d,e){if(b.subarray&&a.subarray)return void a.set(b.subarray(c,c+d),e);for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){var b,c,d,e,f,g;for(d=0,b=0,c=a.length;c>b;b++)d+=a[b].length;for(g=new Uint8Array(d),e=0,b=0,c=a.length;c>b;b++)f=a[b],g.set(f,e),e+=f.length;return g}},f={arraySet:function(a,b,c,d,e){for(var f=0;d>f;f++)a[e+f]=b[c+f]},flattenChunks:function(a){return[].concat.apply([],a)}};c.setTyped=function(a){a?(c.Buf8=Uint8Array,c.Buf16=Uint16Array,c.Buf32=Int32Array,c.assign(c,e)):(c.Buf8=Array,c.Buf16=Array,c.Buf32=Array,c.assign(c,f))},c.setTyped(d)},{}],2:[function(a,b,c){"use strict";function d(a,b,c,d){for(var e=65535&a|0,f=a>>>16&65535|0,g=0;0!==c;){g=c>2e3?2e3:c,c-=g;do e=e+b[d++]|0,f=f+e|0;while(--g);e%=65521,f%=65521}return e|f<<16|0}b.exports=d},{}],3:[function(a,b,c){"use strict";function d(){for(var a,b=[],c=0;256>c;c++){a=c;for(var d=0;8>d;d++)a=1&a?3988292384^a>>>1:a>>>1;b[c]=a}return b}function e(a,b,c,d){var e=f,g=d+c;a=-1^a;for(var h=d;g>h;h++)a=a>>>8^e[255&(a^b[h])];return-1^a}var f=d();b.exports=e},{}],4:[function(a,b,c){"use strict";function d(a,b){return a.msg=G[b],b}function e(a){return(a<<1)-(a>4?9:0)}function f(a){for(var b=a.length;--b>=0;)a[b]=0}function g(a){var b=a.state,c=b.pending;c>a.avail_out&&(c=a.avail_out),0!==c&&(C.arraySet(a.output,b.pending_buf,b.pending_out,c,a.next_out),a.next_out+=c,b.pending_out+=c,a.total_out+=c,a.avail_out-=c,b.pending-=c,0===b.pending&&(b.pending_out=0))}function h(a,b){D._tr_flush_block(a,a.block_start>=0?a.block_start:-1,a.strstart-a.block_start,b),a.block_start=a.strstart,g(a.strm)}function i(a,b){a.pending_buf[a.pending++]=b}function j(a,b){a.pending_buf[a.pending++]=b>>>8&255,a.pending_buf[a.pending++]=255&b}function k(a,b,c,d){var e=a.avail_in;return e>d&&(e=d),0===e?0:(a.avail_in-=e,C.arraySet(b,a.input,a.next_in,e,c),1===a.state.wrap?a.adler=E(a.adler,b,e,c):2===a.state.wrap&&(a.adler=F(a.adler,b,e,c)),a.next_in+=e,a.total_in+=e,e)}function l(a,b){var c,d,e=a.max_chain_length,f=a.strstart,g=a.prev_length,h=a.nice_match,i=a.strstart>a.w_size-ja?a.strstart-(a.w_size-ja):0,j=a.window,k=a.w_mask,l=a.prev,m=a.strstart+ia,n=j[f+g-1],o=j[f+g];a.prev_length>=a.good_match&&(e>>=2),h>a.lookahead&&(h=a.lookahead);do if(c=b,j[c+g]===o&&j[c+g-1]===n&&j[c]===j[f]&&j[++c]===j[f+1]){f+=2,c++;do;while(j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&j[++f]===j[++c]&&m>f);if(d=ia-(m-f),f=m-ia,d>g){if(a.match_start=b,g=d,d>=h)break;n=j[f+g-1],o=j[f+g]}}while((b=l[b&k])>i&&0!==--e);return g<=a.lookahead?g:a.lookahead}function m(a){var b,c,d,e,f,g=a.w_size;do{if(e=a.window_size-a.lookahead-a.strstart,a.strstart>=g+(g-ja)){C.arraySet(a.window,a.window,g,g,0),a.match_start-=g,a.strstart-=g,a.block_start-=g,c=a.hash_size,b=c;do d=a.head[--b],a.head[b]=d>=g?d-g:0;while(--c);c=g,b=c;do d=a.prev[--b],a.prev[b]=d>=g?d-g:0;while(--c);e+=g}if(0===a.strm.avail_in)break;if(c=k(a.strm,a.window,a.strstart+a.lookahead,e),a.lookahead+=c,a.lookahead+a.insert>=ha)for(f=a.strstart-a.insert,a.ins_h=a.window[f],a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[f+ha-1])&a.hash_mask,a.prev[f&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=f,f++,a.insert--,!(a.lookahead+a.insert<ha)););}while(a.lookahead<ja&&0!==a.strm.avail_in)}function n(a,b){var c=65535;for(c>a.pending_buf_size-5&&(c=a.pending_buf_size-5);;){if(a.lookahead<=1){if(m(a),0===a.lookahead&&b===H)return sa;if(0===a.lookahead)break}a.strstart+=a.lookahead,a.lookahead=0;var d=a.block_start+c;if((0===a.strstart||a.strstart>=d)&&(a.lookahead=a.strstart-d,a.strstart=d,h(a,!1),0===a.strm.avail_out))return sa;if(a.strstart-a.block_start>=a.w_size-ja&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.strstart>a.block_start&&(h(a,!1),0===a.strm.avail_out)?sa:sa}function o(a,b){for(var c,d;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===H)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),0!==c&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c)),a.match_length>=ha)if(d=D._tr_tally(a,a.strstart-a.match_start,a.match_length-ha),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=ha){a.match_length--;do a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart;while(0!==--a.match_length);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else d=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(d&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=a.strstart<ha-1?a.strstart:ha-1,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function p(a,b){for(var c,d,e;;){if(a.lookahead<ja){if(m(a),a.lookahead<ja&&b===H)return sa;if(0===a.lookahead)break}if(c=0,a.lookahead>=ha&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=ha-1,0!==c&&a.prev_length<a.max_lazy_match&&a.strstart-c<=a.w_size-ja&&(a.match_length=l(a,c),a.match_length<=5&&(a.strategy===S||a.match_length===ha&&a.strstart-a.match_start>4096)&&(a.match_length=ha-1)),a.prev_length>=ha&&a.match_length<=a.prev_length){e=a.strstart+a.lookahead-ha,d=D._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-ha),a.lookahead-=a.prev_length-1,a.prev_length-=2;do++a.strstart<=e&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+ha-1])&a.hash_mask,c=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart);while(0!==--a.prev_length);if(a.match_available=0,a.match_length=ha-1,a.strstart++,d&&(h(a,!1),0===a.strm.avail_out))return sa}else if(a.match_available){if(d=D._tr_tally(a,0,a.window[a.strstart-1]),d&&h(a,!1),a.strstart++,a.lookahead--,0===a.strm.avail_out)return sa}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(d=D._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<ha-1?a.strstart:ha-1,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function q(a,b){for(var c,d,e,f,g=a.window;;){if(a.lookahead<=ia){if(m(a),a.lookahead<=ia&&b===H)return sa;if(0===a.lookahead)break}if(a.match_length=0,a.lookahead>=ha&&a.strstart>0&&(e=a.strstart-1,d=g[e],d===g[++e]&&d===g[++e]&&d===g[++e])){f=a.strstart+ia;do;while(d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&d===g[++e]&&f>e);a.match_length=ia-(f-e),a.match_length>a.lookahead&&(a.match_length=a.lookahead)}if(a.match_length>=ha?(c=D._tr_tally(a,1,a.match_length-ha),a.lookahead-=a.match_length,a.strstart+=a.match_length,a.match_length=0):(c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++),c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function r(a,b){for(var c;;){if(0===a.lookahead&&(m(a),0===a.lookahead)){if(b===H)return sa;break}if(a.match_length=0,c=D._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++,c&&(h(a,!1),0===a.strm.avail_out))return sa}return a.insert=0,b===K?(h(a,!0),0===a.strm.avail_out?ua:va):a.last_lit&&(h(a,!1),0===a.strm.avail_out)?sa:ta}function s(a){a.window_size=2*a.w_size,f(a.head),a.max_lazy_match=B[a.level].max_lazy,a.good_match=B[a.level].good_length,a.nice_match=B[a.level].nice_length,a.max_chain_length=B[a.level].max_chain,a.strstart=0,a.block_start=0,a.lookahead=0,a.insert=0,a.match_length=a.prev_length=ha-1,a.match_available=0,a.ins_h=0}function t(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new C.Buf16(2*fa),this.dyn_dtree=new C.Buf16(2*(2*da+1)),this.bl_tree=new C.Buf16(2*(2*ea+1)),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new C.Buf16(ga+1),this.heap=new C.Buf16(2*ca+1),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new C.Buf16(2*ca+1),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function u(a){var b;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=X,b=a.state,b.pending=0,b.pending_out=0,b.wrap<0&&(b.wrap=-b.wrap),b.status=b.wrap?la:qa,a.adler=2===b.wrap?0:1,b.last_flush=H,D._tr_init(b),M):d(a,O)}function v(a){var b=u(a);return b===M&&s(a.state),b}function w(a,b){return a&&a.state?2!==a.state.wrap?O:(a.state.gzhead=b,M):O}function x(a,b,c,e,f,g){if(!a)return O;var h=1;if(b===R&&(b=6),0>e?(h=0,e=-e):e>15&&(h=2,e-=16),1>f||f>Z||c!==Y||8>e||e>15||0>b||b>9||0>g||g>V)return d(a,O);8===e&&(e=9);var i=new t;return a.state=i,i.strm=a,i.wrap=h,i.gzhead=null,i.w_bits=e,i.w_size=1<<i.w_bits,i.w_mask=i.w_size-1,i.hash_bits=f+7,i.hash_size=1<<i.hash_bits,i.hash_mask=i.hash_size-1,i.hash_shift=~~((i.hash_bits+ha-1)/ha),i.window=new C.Buf8(2*i.w_size),i.head=new C.Buf16(i.hash_size),i.prev=new C.Buf16(i.w_size),i.lit_bufsize=1<<f+6,i.pending_buf_size=4*i.lit_bufsize,i.pending_buf=new C.Buf8(i.pending_buf_size),i.d_buf=i.lit_bufsize>>1,i.l_buf=3*i.lit_bufsize,i.level=b,i.strategy=g,i.method=c,v(a)}function y(a,b){return x(a,b,Y,$,_,W)}function z(a,b){var c,h,k,l;if(!a||!a.state||b>L||0>b)return a?d(a,O):O;if(h=a.state,!a.output||!a.input&&0!==a.avail_in||h.status===ra&&b!==K)return d(a,0===a.avail_out?Q:O);if(h.strm=a,c=h.last_flush,h.last_flush=b,h.status===la)if(2===h.wrap)a.adler=0,i(h,31),i(h,139),i(h,8),h.gzhead?(i(h,(h.gzhead.text?1:0)+(h.gzhead.hcrc?2:0)+(h.gzhead.extra?4:0)+(h.gzhead.name?8:0)+(h.gzhead.comment?16:0)),i(h,255&h.gzhead.time),i(h,h.gzhead.time>>8&255),i(h,h.gzhead.time>>16&255),i(h,h.gzhead.time>>24&255),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,255&h.gzhead.os),h.gzhead.extra&&h.gzhead.extra.length&&(i(h,255&h.gzhead.extra.length),i(h,h.gzhead.extra.length>>8&255)),h.gzhead.hcrc&&(a.adler=F(a.adler,h.pending_buf,h.pending,0)),h.gzindex=0,h.status=ma):(i(h,0),i(h,0),i(h,0),i(h,0),i(h,0),i(h,9===h.level?2:h.strategy>=T||h.level<2?4:0),i(h,wa),h.status=qa);else{var m=Y+(h.w_bits-8<<4)<<8,n=-1;n=h.strategy>=T||h.level<2?0:h.level<6?1:6===h.level?2:3,m|=n<<6,0!==h.strstart&&(m|=ka),m+=31-m%31,h.status=qa,j(h,m),0!==h.strstart&&(j(h,a.adler>>>16),j(h,65535&a.adler)),a.adler=1}if(h.status===ma)if(h.gzhead.extra){for(k=h.pending;h.gzindex<(65535&h.gzhead.extra.length)&&(h.pending!==h.pending_buf_size||(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending!==h.pending_buf_size));)i(h,255&h.gzhead.extra[h.gzindex]),h.gzindex++;h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),h.gzindex===h.gzhead.extra.length&&(h.gzindex=0,h.status=na)}else h.status=na;if(h.status===na)if(h.gzhead.name){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.name.length?255&h.gzhead.name.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.gzindex=0,h.status=oa)}else h.status=oa;if(h.status===oa)if(h.gzhead.comment){k=h.pending;do{if(h.pending===h.pending_buf_size&&(h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),g(a),k=h.pending,h.pending===h.pending_buf_size)){l=1;break}l=h.gzindex<h.gzhead.comment.length?255&h.gzhead.comment.charCodeAt(h.gzindex++):0,i(h,l)}while(0!==l);h.gzhead.hcrc&&h.pending>k&&(a.adler=F(a.adler,h.pending_buf,h.pending-k,k)),0===l&&(h.status=pa)}else h.status=pa;if(h.status===pa&&(h.gzhead.hcrc?(h.pending+2>h.pending_buf_size&&g(a),h.pending+2<=h.pending_buf_size&&(i(h,255&a.adler),i(h,a.adler>>8&255),a.adler=0,h.status=qa)):h.status=qa),0!==h.pending){if(g(a),0===a.avail_out)return h.last_flush=-1,M}else if(0===a.avail_in&&e(b)<=e(c)&&b!==K)return d(a,Q);if(h.status===ra&&0!==a.avail_in)return d(a,Q);if(0!==a.avail_in||0!==h.lookahead||b!==H&&h.status!==ra){var o=h.strategy===T?r(h,b):h.strategy===U?q(h,b):B[h.level].func(h,b);if((o===ua||o===va)&&(h.status=ra),o===sa||o===ua)return 0===a.avail_out&&(h.last_flush=-1),M;if(o===ta&&(b===I?D._tr_align(h):b!==L&&(D._tr_stored_block(h,0,0,!1),b===J&&(f(h.head),0===h.lookahead&&(h.strstart=0,h.block_start=0,h.insert=0))),g(a),0===a.avail_out))return h.last_flush=-1,M}return b!==K?M:h.wrap<=0?N:(2===h.wrap?(i(h,255&a.adler),i(h,a.adler>>8&255),i(h,a.adler>>16&255),i(h,a.adler>>24&255),i(h,255&a.total_in),i(h,a.total_in>>8&255),i(h,a.total_in>>16&255),i(h,a.total_in>>24&255)):(j(h,a.adler>>>16),j(h,65535&a.adler)),g(a),h.wrap>0&&(h.wrap=-h.wrap),0!==h.pending?M:N)}function A(a){var b;return a&&a.state?(b=a.state.status,b!==la&&b!==ma&&b!==na&&b!==oa&&b!==pa&&b!==qa&&b!==ra?d(a,O):(a.state=null,b===qa?d(a,P):M)):O}var B,C=a("../utils/common"),D=a("./trees"),E=a("./adler32"),F=a("./crc32"),G=a("./messages"),H=0,I=1,J=3,K=4,L=5,M=0,N=1,O=-2,P=-3,Q=-5,R=-1,S=1,T=2,U=3,V=4,W=0,X=2,Y=8,Z=9,$=15,_=8,aa=29,ba=256,ca=ba+1+aa,da=30,ea=19,fa=2*ca+1,ga=15,ha=3,ia=258,ja=ia+ha+1,ka=32,la=42,ma=69,na=73,oa=91,pa=103,qa=113,ra=666,sa=1,ta=2,ua=3,va=4,wa=3,xa=function(a,b,c,d,e){this.good_length=a,this.max_lazy=b,this.nice_length=c,this.max_chain=d,this.func=e};B=[new xa(0,0,0,0,n),new xa(4,4,8,4,o),new xa(4,5,16,8,o),new xa(4,6,32,32,o),new xa(4,4,16,16,p),new xa(8,16,32,32,p),new xa(8,16,128,128,p),new xa(8,32,128,256,p),new xa(32,128,258,1024,p),new xa(32,258,258,4096,p)],c.deflateInit=y,c.deflateInit2=x,c.deflateReset=v,c.deflateResetKeep=u,c.deflateSetHeader=w,c.deflate=z,c.deflateEnd=A,c.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":1,"./adler32":2,"./crc32":3,"./messages":8,"./trees":9}],5:[function(a,b,c){"use strict";var d=30,e=12;b.exports=function(a,b){var c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;c=a.state,f=a.next_in,B=a.input,g=f+(a.avail_in-5),h=a.next_out,C=a.output,i=h-(b-a.avail_out),j=h+(a.avail_out-257),k=c.dmax,l=c.wsize,m=c.whave,n=c.wnext,o=c.window,p=c.hold,q=c.bits,r=c.lencode,s=c.distcode,t=(1<<c.lenbits)-1,u=(1<<c.distbits)-1;a:do{15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=r[p&t];b:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,0===w)C[h++]=65535&v;else{if(!(16&w)){if(0===(64&w)){v=r[(65535&v)+(p&(1<<w)-1)];continue b}if(32&w){c.mode=e;break a}a.msg="invalid literal/length code",c.mode=d;break a}x=65535&v,w&=15,w&&(w>q&&(p+=B[f++]<<q,q+=8),x+=p&(1<<w)-1,p>>>=w,q-=w),15>q&&(p+=B[f++]<<q,q+=8,p+=B[f++]<<q,q+=8),v=s[p&u];c:for(;;){if(w=v>>>24,p>>>=w,q-=w,w=v>>>16&255,!(16&w)){if(0===(64&w)){v=s[(65535&v)+(p&(1<<w)-1)];continue c}a.msg="invalid distance code",c.mode=d;break a}if(y=65535&v,w&=15,w>q&&(p+=B[f++]<<q,q+=8,w>q&&(p+=B[f++]<<q,q+=8)),y+=p&(1<<w)-1,y>k){a.msg="invalid distance too far back",c.mode=d;break a}if(p>>>=w,q-=w,w=h-i,y>w){if(w=y-w,w>m&&c.sane){a.msg="invalid distance too far back",c.mode=d;break a}if(z=0,A=o,0===n){if(z+=l-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}else if(w>n){if(z+=l+n-w,w-=n,x>w){x-=w;do C[h++]=o[z++];while(--w);if(z=0,x>n){w=n,x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}}}else if(z+=n-w,x>w){x-=w;do C[h++]=o[z++];while(--w);z=h-y,A=C}for(;x>2;)C[h++]=A[z++],C[h++]=A[z++],C[h++]=A[z++],x-=3;x&&(C[h++]=A[z++],x>1&&(C[h++]=A[z++]))}else{z=h-y;do C[h++]=C[z++],C[h++]=C[z++],C[h++]=C[z++],x-=3;while(x>2);x&&(C[h++]=C[z++],x>1&&(C[h++]=C[z++]))}break}}break}}while(g>f&&j>h);x=q>>3,f-=x,q-=x<<3,p&=(1<<q)-1,a.next_in=f,a.next_out=h,a.avail_in=g>f?5+(g-f):5-(f-g),a.avail_out=j>h?257+(j-h):257-(h-j),c.hold=p,c.bits=q}},{}],6:[function(a,b,c){"use strict";function d(a){return(a>>>24&255)+(a>>>8&65280)+((65280&a)<<8)+((255&a)<<24)}function e(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function f(a){var b;return a&&a.state?(b=a.state,a.total_in=a.total_out=b.total=0,a.msg="",b.wrap&&(a.adler=1&b.wrap),b.mode=K,b.last=0,b.havedict=0,b.dmax=32768,b.head=null,b.hold=0,b.bits=0,b.lencode=b.lendyn=new r.Buf32(oa),b.distcode=b.distdyn=new r.Buf32(pa),b.sane=1,b.back=-1,C):F}function g(a){var b;return a&&a.state?(b=a.state,b.wsize=0,b.whave=0,b.wnext=0,f(a)):F}function h(a,b){var c,d;return a&&a.state?(d=a.state,0>b?(c=0,b=-b):(c=(b>>4)+1,48>b&&(b&=15)),b&&(8>b||b>15)?F:(null!==d.window&&d.wbits!==b&&(d.window=null),d.wrap=c,d.wbits=b,g(a))):F}function i(a,b){var c,d;return a?(d=new e,a.state=d,d.window=null,c=h(a,b),c!==C&&(a.state=null),c):F}function j(a){return i(a,ra)}function k(a){if(sa){var b;for(p=new r.Buf32(512),q=new r.Buf32(32),b=0;144>b;)a.lens[b++]=8;for(;256>b;)a.lens[b++]=9;for(;280>b;)a.lens[b++]=7;for(;288>b;)a.lens[b++]=8;for(v(x,a.lens,0,288,p,0,a.work,{bits:9}),b=0;32>b;)a.lens[b++]=5;v(y,a.lens,0,32,q,0,a.work,{bits:5}),sa=!1}a.lencode=p,a.lenbits=9,a.distcode=q,a.distbits=5}function l(a,b,c,d){var e,f=a.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new r.Buf8(f.wsize)),d>=f.wsize?(r.arraySet(f.window,b,c-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(e=f.wsize-f.wnext,e>d&&(e=d),r.arraySet(f.window,b,c-d,e,f.wnext),d-=e,d?(r.arraySet(f.window,b,c-d,d,0),f.wnext=d,f.whave=f.wsize):(f.wnext+=e,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=e))),0}function m(a,b){var c,e,f,g,h,i,j,m,n,o,p,q,oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,Aa=0,Ba=new r.Buf8(4),Ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!a||!a.state||!a.output||!a.input&&0!==a.avail_in)return F;c=a.state,c.mode===V&&(c.mode=W),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,o=i,p=j,xa=C;a:for(;;)switch(c.mode){case K:if(0===c.wrap){c.mode=W;break}for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(2&c.wrap&&35615===m){c.check=0,Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0),m=0,n=0,c.mode=L;break}if(c.flags=0,c.head&&(c.head.done=!1),!(1&c.wrap)||(((255&m)<<8)+(m>>8))%31){a.msg="incorrect header check",c.mode=la;break}if((15&m)!==J){a.msg="unknown compression method",c.mode=la;break}if(m>>>=4,n-=4,wa=(15&m)+8,0===c.wbits)c.wbits=wa;else if(wa>c.wbits){a.msg="invalid window size",c.mode=la;break}c.dmax=1<<wa,a.adler=c.check=1,c.mode=512&m?T:V,m=0,n=0;break;case L:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.flags=m,(255&c.flags)!==J){a.msg="unknown compression method",c.mode=la;break}if(57344&c.flags){a.msg="unknown header flags set",c.mode=la;break}c.head&&(c.head.text=m>>8&1),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=M;case M:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.time=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,Ba[2]=m>>>16&255,Ba[3]=m>>>24&255,c.check=t(c.check,Ba,4,0)),m=0,n=0,c.mode=N;case N:for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.head&&(c.head.xflags=255&m,c.head.os=m>>8),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0,c.mode=O;case O:if(1024&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length=m,c.head&&(c.head.extra_len=m),512&c.flags&&(Ba[0]=255&m,Ba[1]=m>>>8&255,c.check=t(c.check,Ba,2,0)),m=0,n=0}else c.head&&(c.head.extra=null);c.mode=P;case P:if(1024&c.flags&&(q=c.length,q>i&&(q=i),q&&(c.head&&(wa=c.head.extra_len-c.length,c.head.extra||(c.head.extra=new Array(c.head.extra_len)),r.arraySet(c.head.extra,e,g,q,wa)),512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,c.length-=q),c.length))break a;c.length=0,c.mode=Q;case Q:if(2048&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.name+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.name=null);c.length=0,c.mode=R;case R:if(4096&c.flags){if(0===i)break a;q=0;do wa=e[g+q++],c.head&&wa&&c.length<65536&&(c.head.comment+=String.fromCharCode(wa));while(wa&&i>q);if(512&c.flags&&(c.check=t(c.check,e,q,g)),i-=q,g+=q,wa)break a}else c.head&&(c.head.comment=null);c.mode=S;case S:if(512&c.flags){for(;16>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(65535&c.check)){a.msg="header crc mismatch",c.mode=la;break}m=0,n=0}c.head&&(c.head.hcrc=c.flags>>9&1,c.head.done=!0),a.adler=c.check=0,c.mode=V;break;case T:for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}a.adler=c.check=d(m),m=0,n=0,c.mode=U;case U:if(0===c.havedict)return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,E;a.adler=c.check=1,c.mode=V;case V:if(b===A||b===B)break a;case W:if(c.last){m>>>=7&n,n-=7&n,c.mode=ia;break}for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}switch(c.last=1&m,m>>>=1,n-=1,3&m){case 0:c.mode=X;break;case 1:if(k(c),c.mode=ba,b===B){m>>>=2,n-=2;break a}break;case 2:c.mode=$;break;case 3:a.msg="invalid block type",c.mode=la}m>>>=2,n-=2;break;case X:for(m>>>=7&n,n-=7&n;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if((65535&m)!==(m>>>16^65535)){a.msg="invalid stored block lengths",c.mode=la;break}if(c.length=65535&m,m=0,n=0,c.mode=Y,b===B)break a;case Y:c.mode=Z;case Z:if(q=c.length){if(q>i&&(q=i),q>j&&(q=j),0===q)break a;r.arraySet(f,e,g,q,h),i-=q,g+=q,j-=q,h+=q,c.length-=q;break}c.mode=V;break;case $:for(;14>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(c.nlen=(31&m)+257,m>>>=5,n-=5,c.ndist=(31&m)+1,m>>>=5,n-=5,c.ncode=(15&m)+4,m>>>=4,n-=4,c.nlen>286||c.ndist>30){a.msg="too many length or distance symbols",c.mode=la;break}c.have=0,c.mode=_;case _:for(;c.have<c.ncode;){for(;3>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.lens[Ca[c.have++]]=7&m,m>>>=3,n-=3}for(;c.have<19;)c.lens[Ca[c.have++]]=0;if(c.lencode=c.lendyn,c.lenbits=7,ya={bits:c.lenbits},xa=v(w,c.lens,0,19,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid code lengths set",c.mode=la;break}c.have=0,c.mode=aa;case aa:for(;c.have<c.nlen+c.ndist;){for(;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(16>sa)m>>>=qa,n-=qa,c.lens[c.have++]=sa;else{if(16===sa){for(za=qa+2;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m>>>=qa,n-=qa,0===c.have){a.msg="invalid bit length repeat",c.mode=la;break}wa=c.lens[c.have-1],q=3+(3&m),m>>>=2,n-=2}else if(17===sa){for(za=qa+3;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=3+(7&m),m>>>=3,n-=3}else{for(za=qa+7;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=qa,n-=qa,wa=0,q=11+(127&m),m>>>=7,n-=7}if(c.have+q>c.nlen+c.ndist){a.msg="invalid bit length repeat",c.mode=la;break}for(;q--;)c.lens[c.have++]=wa}}if(c.mode===la)break;if(0===c.lens[256]){a.msg="invalid code -- missing end-of-block",c.mode=la;break}if(c.lenbits=9,ya={bits:c.lenbits},xa=v(x,c.lens,0,c.nlen,c.lencode,0,c.work,ya),c.lenbits=ya.bits,xa){a.msg="invalid literal/lengths set",c.mode=la;break}if(c.distbits=6,c.distcode=c.distdyn,ya={bits:c.distbits},xa=v(y,c.lens,c.nlen,c.ndist,c.distcode,0,c.work,ya),c.distbits=ya.bits,xa){a.msg="invalid distances set",c.mode=la;break}if(c.mode=ba,b===B)break a;case ba:c.mode=ca;case ca:if(i>=6&&j>=258){a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,u(a,p),h=a.next_out,f=a.output,j=a.avail_out,g=a.next_in,e=a.input,i=a.avail_in,m=c.hold,n=c.bits,c.mode===V&&(c.back=-1);break}for(c.back=0;Aa=c.lencode[m&(1<<c.lenbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(ra&&0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.lencode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,c.length=sa,0===ra){c.mode=ha;break}if(32&ra){c.back=-1,c.mode=V;break}if(64&ra){a.msg="invalid literal/length code",c.mode=la;break}c.extra=15&ra,c.mode=da;case da:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.length+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}c.was=c.length,c.mode=ea;case ea:for(;Aa=c.distcode[m&(1<<c.distbits)-1],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(0===(240&ra)){for(ta=qa,ua=ra,va=sa;Aa=c.distcode[va+((m&(1<<ta+ua)-1)>>ta)],qa=Aa>>>24,ra=Aa>>>16&255,sa=65535&Aa,!(n>=ta+qa);){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}m>>>=ta,n-=ta,c.back+=ta}if(m>>>=qa,n-=qa,c.back+=qa,64&ra){a.msg="invalid distance code",c.mode=la;break}c.offset=sa,c.extra=15&ra,c.mode=fa;case fa:if(c.extra){for(za=c.extra;za>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}c.offset+=m&(1<<c.extra)-1,m>>>=c.extra,n-=c.extra,c.back+=c.extra}if(c.offset>c.dmax){a.msg="invalid distance too far back",c.mode=la;break}c.mode=ga;case ga:if(0===j)break a;if(q=p-j,c.offset>q){if(q=c.offset-q,q>c.whave&&c.sane){a.msg="invalid distance too far back",c.mode=la;break}q>c.wnext?(q-=c.wnext,oa=c.wsize-q):oa=c.wnext-q,q>c.length&&(q=c.length),pa=c.window}else pa=f,oa=h-c.offset,q=c.length;q>j&&(q=j),j-=q,c.length-=q;do f[h++]=pa[oa++];while(--q);0===c.length&&(c.mode=ca);break;case ha:if(0===j)break a;f[h++]=c.length,j--,c.mode=ca;break;case ia:if(c.wrap){for(;32>n;){if(0===i)break a;i--,m|=e[g++]<<n,n+=8}if(p-=j,a.total_out+=p,c.total+=p,p&&(a.adler=c.check=c.flags?t(c.check,f,p,h-p):s(c.check,f,p,h-p)),p=j,(c.flags?m:d(m))!==c.check){a.msg="incorrect data check",c.mode=la;break}m=0,n=0}c.mode=ja;case ja:if(c.wrap&&c.flags){for(;32>n;){if(0===i)break a;i--,m+=e[g++]<<n,n+=8}if(m!==(4294967295&c.total)){a.msg="incorrect length check",c.mode=la;break}m=0,n=0}c.mode=ka;case ka:xa=D;break a;case la:xa=G;break a;case ma:return H;case na:default:return F}return a.next_out=h,a.avail_out=j,a.next_in=g,a.avail_in=i,c.hold=m,c.bits=n,(c.wsize||p!==a.avail_out&&c.mode<la&&(c.mode<ia||b!==z))&&l(a,a.output,a.next_out,p-a.avail_out)?(c.mode=ma,H):(o-=a.avail_in,p-=a.avail_out,a.total_in+=o,a.total_out+=p,c.total+=p,c.wrap&&p&&(a.adler=c.check=c.flags?t(c.check,f,p,a.next_out-p):s(c.check,f,p,a.next_out-p)),a.data_type=c.bits+(c.last?64:0)+(c.mode===V?128:0)+(c.mode===ba||c.mode===Y?256:0),(0===o&&0===p||b===z)&&xa===C&&(xa=I),xa)}function n(a){if(!a||!a.state)return F;var b=a.state;return b.window&&(b.window=null),a.state=null,C}function o(a,b){var c;return a&&a.state?(c=a.state,0===(2&c.wrap)?F:(c.head=b,b.done=!1,C)):F}var p,q,r=a("../utils/common"),s=a("./adler32"),t=a("./crc32"),u=a("./inffast"),v=a("./inftrees"),w=0,x=1,y=2,z=4,A=5,B=6,C=0,D=1,E=2,F=-2,G=-3,H=-4,I=-5,J=8,K=1,L=2,M=3,N=4,O=5,P=6,Q=7,R=8,S=9,T=10,U=11,V=12,W=13,X=14,Y=15,Z=16,$=17,_=18,aa=19,ba=20,ca=21,da=22,ea=23,fa=24,ga=25,ha=26,ia=27,ja=28,ka=29,la=30,ma=31,na=32,oa=852,pa=592,qa=15,ra=qa,sa=!0;c.inflateReset=g,c.inflateReset2=h,c.inflateResetKeep=f,c.inflateInit=j,c.inflateInit2=i,c.inflate=m,c.inflateEnd=n,c.inflateGetHeader=o,c.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":1,"./adler32":2,"./crc32":3,"./inffast":5,"./inftrees":7}],7:[function(a,b,c){"use strict";var d=a("../utils/common"),e=15,f=852,g=592,h=0,i=1,j=2,k=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],m=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],n=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(a,b,c,o,p,q,r,s){var t,u,v,w,x,y,z,A,B,C=s.bits,D=0,E=0,F=0,G=0,H=0,I=0,J=0,K=0,L=0,M=0,N=null,O=0,P=new d.Buf16(e+1),Q=new d.Buf16(e+1),R=null,S=0;for(D=0;e>=D;D++)P[D]=0;for(E=0;o>E;E++)P[b[c+E]]++;for(H=C,G=e;G>=1&&0===P[G];G--);if(H>G&&(H=G),0===G)return p[q++]=20971520,p[q++]=20971520,s.bits=1,0;for(F=1;G>F&&0===P[F];F++);for(F>H&&(H=F),K=1,D=1;e>=D;D++)if(K<<=1,K-=P[D],0>K)return-1;if(K>0&&(a===h||1!==G))return-1;for(Q[1]=0,D=1;e>D;D++)Q[D+1]=Q[D]+P[D];for(E=0;o>E;E++)0!==b[c+E]&&(r[Q[b[c+E]]++]=E);if(a===h?(N=R=r,y=19):a===i?(N=k,O-=257,R=l,S-=257,y=256):(N=m,R=n,y=-1),M=0,E=0,D=F,x=q,I=H,J=0,v=-1,L=1<<H,w=L-1,a===i&&L>f||a===j&&L>g)return 1;for(var T=0;;){T++,z=D-J,r[E]<y?(A=0,B=r[E]):r[E]>y?(A=R[S+r[E]],B=N[O+r[E]]):(A=96,B=0),t=1<<D-J,u=1<<I,F=u;do u-=t,p[x+(M>>J)+u]=z<<24|A<<16|B|0;while(0!==u);for(t=1<<D-1;M&t;)t>>=1;if(0!==t?(M&=t-1,M+=t):M=0,E++,0===--P[D]){if(D===G)break;D=b[c+r[E]]}if(D>H&&(M&w)!==v){for(0===J&&(J=H),x+=F,I=D-J,K=1<<I;G>I+J&&(K-=P[I+J],!(0>=K));)I++,K<<=1;if(L+=1<<I,a===i&&L>f||a===j&&L>g)return 1;v=M&w,p[v]=H<<24|I<<16|x-q|0}}return 0!==M&&(p[x+M]=D-J<<24|64<<16|0),s.bits=H,0}},{"../utils/common":1}],8:[function(a,b,c){"use strict";b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],9:[function(a,b,c){"use strict";function d(a){for(var b=a.length;--b>=0;)a[b]=0}function e(a){return 256>a?ga[a]:ga[256+(a>>>7)]}function f(a,b){a.pending_buf[a.pending++]=255&b,a.pending_buf[a.pending++]=b>>>8&255}function g(a,b,c){a.bi_valid>V-c?(a.bi_buf|=b<<a.bi_valid&65535,f(a,a.bi_buf),a.bi_buf=b>>V-a.bi_valid,a.bi_valid+=c-V):(a.bi_buf|=b<<a.bi_valid&65535,a.bi_valid+=c)}function h(a,b,c){g(a,c[2*b],c[2*b+1])}function i(a,b){var c=0;do c|=1&a,a>>>=1,c<<=1;while(--b>0);return c>>>1}function j(a){16===a.bi_valid?(f(a,a.bi_buf),a.bi_buf=0,a.bi_valid=0):a.bi_valid>=8&&(a.pending_buf[a.pending++]=255&a.bi_buf,a.bi_buf>>=8,a.bi_valid-=8)}function k(a,b){var c,d,e,f,g,h,i=b.dyn_tree,j=b.max_code,k=b.stat_desc.static_tree,l=b.stat_desc.has_stree,m=b.stat_desc.extra_bits,n=b.stat_desc.extra_base,o=b.stat_desc.max_length,p=0;
for(f=0;U>=f;f++)a.bl_count[f]=0;for(i[2*a.heap[a.heap_max]+1]=0,c=a.heap_max+1;T>c;c++)d=a.heap[c],f=i[2*i[2*d+1]+1]+1,f>o&&(f=o,p++),i[2*d+1]=f,d>j||(a.bl_count[f]++,g=0,d>=n&&(g=m[d-n]),h=i[2*d],a.opt_len+=h*(f+g),l&&(a.static_len+=h*(k[2*d+1]+g)));if(0!==p){do{for(f=o-1;0===a.bl_count[f];)f--;a.bl_count[f]--,a.bl_count[f+1]+=2,a.bl_count[o]--,p-=2}while(p>0);for(f=o;0!==f;f--)for(d=a.bl_count[f];0!==d;)e=a.heap[--c],e>j||(i[2*e+1]!==f&&(a.opt_len+=(f-i[2*e+1])*i[2*e],i[2*e+1]=f),d--)}}function l(a,b,c){var d,e,f=new Array(U+1),g=0;for(d=1;U>=d;d++)f[d]=g=g+c[d-1]<<1;for(e=0;b>=e;e++){var h=a[2*e+1];0!==h&&(a[2*e]=i(f[h]++,h))}}function m(){var a,b,c,d,e,f=new Array(U+1);for(c=0,d=0;O-1>d;d++)for(ia[d]=c,a=0;a<1<<_[d];a++)ha[c++]=d;for(ha[c-1]=d,e=0,d=0;16>d;d++)for(ja[d]=e,a=0;a<1<<aa[d];a++)ga[e++]=d;for(e>>=7;R>d;d++)for(ja[d]=e<<7,a=0;a<1<<aa[d]-7;a++)ga[256+e++]=d;for(b=0;U>=b;b++)f[b]=0;for(a=0;143>=a;)ea[2*a+1]=8,a++,f[8]++;for(;255>=a;)ea[2*a+1]=9,a++,f[9]++;for(;279>=a;)ea[2*a+1]=7,a++,f[7]++;for(;287>=a;)ea[2*a+1]=8,a++,f[8]++;for(l(ea,Q+1,f),a=0;R>a;a++)fa[2*a+1]=5,fa[2*a]=i(a,5);ka=new na(ea,_,P+1,Q,U),la=new na(fa,aa,0,R,U),ma=new na(new Array(0),ba,0,S,W)}function n(a){var b;for(b=0;Q>b;b++)a.dyn_ltree[2*b]=0;for(b=0;R>b;b++)a.dyn_dtree[2*b]=0;for(b=0;S>b;b++)a.bl_tree[2*b]=0;a.dyn_ltree[2*X]=1,a.opt_len=a.static_len=0,a.last_lit=a.matches=0}function o(a){a.bi_valid>8?f(a,a.bi_buf):a.bi_valid>0&&(a.pending_buf[a.pending++]=a.bi_buf),a.bi_buf=0,a.bi_valid=0}function p(a,b,c,d){o(a),d&&(f(a,c),f(a,~c)),E.arraySet(a.pending_buf,a.window,b,c,a.pending),a.pending+=c}function q(a,b,c,d){var e=2*b,f=2*c;return a[e]<a[f]||a[e]===a[f]&&d[b]<=d[c]}function r(a,b,c){for(var d=a.heap[c],e=c<<1;e<=a.heap_len&&(e<a.heap_len&&q(b,a.heap[e+1],a.heap[e],a.depth)&&e++,!q(b,d,a.heap[e],a.depth));)a.heap[c]=a.heap[e],c=e,e<<=1;a.heap[c]=d}function s(a,b,c){var d,f,i,j,k=0;if(0!==a.last_lit)do d=a.pending_buf[a.d_buf+2*k]<<8|a.pending_buf[a.d_buf+2*k+1],f=a.pending_buf[a.l_buf+k],k++,0===d?h(a,f,b):(i=ha[f],h(a,i+P+1,b),j=_[i],0!==j&&(f-=ia[i],g(a,f,j)),d--,i=e(d),h(a,i,c),j=aa[i],0!==j&&(d-=ja[i],g(a,d,j)));while(k<a.last_lit);h(a,X,b)}function t(a,b){var c,d,e,f=b.dyn_tree,g=b.stat_desc.static_tree,h=b.stat_desc.has_stree,i=b.stat_desc.elems,j=-1;for(a.heap_len=0,a.heap_max=T,c=0;i>c;c++)0!==f[2*c]?(a.heap[++a.heap_len]=j=c,a.depth[c]=0):f[2*c+1]=0;for(;a.heap_len<2;)e=a.heap[++a.heap_len]=2>j?++j:0,f[2*e]=1,a.depth[e]=0,a.opt_len--,h&&(a.static_len-=g[2*e+1]);for(b.max_code=j,c=a.heap_len>>1;c>=1;c--)r(a,f,c);e=i;do c=a.heap[1],a.heap[1]=a.heap[a.heap_len--],r(a,f,1),d=a.heap[1],a.heap[--a.heap_max]=c,a.heap[--a.heap_max]=d,f[2*e]=f[2*c]+f[2*d],a.depth[e]=(a.depth[c]>=a.depth[d]?a.depth[c]:a.depth[d])+1,f[2*c+1]=f[2*d+1]=e,a.heap[1]=e++,r(a,f,1);while(a.heap_len>=2);a.heap[--a.heap_max]=a.heap[1],k(a,b),l(f,j,a.bl_count)}function u(a,b,c){var d,e,f=-1,g=b[1],h=0,i=7,j=4;for(0===g&&(i=138,j=3),b[2*(c+1)+1]=65535,d=0;c>=d;d++)e=g,g=b[2*(d+1)+1],++h<i&&e===g||(j>h?a.bl_tree[2*e]+=h:0!==e?(e!==f&&a.bl_tree[2*e]++,a.bl_tree[2*Y]++):10>=h?a.bl_tree[2*Z]++:a.bl_tree[2*$]++,h=0,f=e,0===g?(i=138,j=3):e===g?(i=6,j=3):(i=7,j=4))}function v(a,b,c){var d,e,f=-1,i=b[1],j=0,k=7,l=4;for(0===i&&(k=138,l=3),d=0;c>=d;d++)if(e=i,i=b[2*(d+1)+1],!(++j<k&&e===i)){if(l>j){do h(a,e,a.bl_tree);while(0!==--j)}else 0!==e?(e!==f&&(h(a,e,a.bl_tree),j--),h(a,Y,a.bl_tree),g(a,j-3,2)):10>=j?(h(a,Z,a.bl_tree),g(a,j-3,3)):(h(a,$,a.bl_tree),g(a,j-11,7));j=0,f=e,0===i?(k=138,l=3):e===i?(k=6,l=3):(k=7,l=4)}}function w(a){var b;for(u(a,a.dyn_ltree,a.l_desc.max_code),u(a,a.dyn_dtree,a.d_desc.max_code),t(a,a.bl_desc),b=S-1;b>=3&&0===a.bl_tree[2*ca[b]+1];b--);return a.opt_len+=3*(b+1)+5+5+4,b}function x(a,b,c,d){var e;for(g(a,b-257,5),g(a,c-1,5),g(a,d-4,4),e=0;d>e;e++)g(a,a.bl_tree[2*ca[e]+1],3);v(a,a.dyn_ltree,b-1),v(a,a.dyn_dtree,c-1)}function y(a){var b,c=4093624447;for(b=0;31>=b;b++,c>>>=1)if(1&c&&0!==a.dyn_ltree[2*b])return G;if(0!==a.dyn_ltree[18]||0!==a.dyn_ltree[20]||0!==a.dyn_ltree[26])return H;for(b=32;P>b;b++)if(0!==a.dyn_ltree[2*b])return H;return G}function z(a){pa||(m(),pa=!0),a.l_desc=new oa(a.dyn_ltree,ka),a.d_desc=new oa(a.dyn_dtree,la),a.bl_desc=new oa(a.bl_tree,ma),a.bi_buf=0,a.bi_valid=0,n(a)}function A(a,b,c,d){g(a,(J<<1)+(d?1:0),3),p(a,b,c,!0)}function B(a){g(a,K<<1,3),h(a,X,ea),j(a)}function C(a,b,c,d){var e,f,h=0;a.level>0?(a.strm.data_type===I&&(a.strm.data_type=y(a)),t(a,a.l_desc),t(a,a.d_desc),h=w(a),e=a.opt_len+3+7>>>3,f=a.static_len+3+7>>>3,e>=f&&(e=f)):e=f=c+5,e>=c+4&&-1!==b?A(a,b,c,d):a.strategy===F||f===e?(g(a,(K<<1)+(d?1:0),3),s(a,ea,fa)):(g(a,(L<<1)+(d?1:0),3),x(a,a.l_desc.max_code+1,a.d_desc.max_code+1,h+1),s(a,a.dyn_ltree,a.dyn_dtree)),n(a),d&&o(a)}function D(a,b,c){return a.pending_buf[a.d_buf+2*a.last_lit]=b>>>8&255,a.pending_buf[a.d_buf+2*a.last_lit+1]=255&b,a.pending_buf[a.l_buf+a.last_lit]=255&c,a.last_lit++,0===b?a.dyn_ltree[2*c]++:(a.matches++,b--,a.dyn_ltree[2*(ha[c]+P+1)]++,a.dyn_dtree[2*e(b)]++),a.last_lit===a.lit_bufsize-1}var E=a("../utils/common"),F=4,G=0,H=1,I=2,J=0,K=1,L=2,M=3,N=258,O=29,P=256,Q=P+1+O,R=30,S=19,T=2*Q+1,U=15,V=16,W=7,X=256,Y=16,Z=17,$=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],aa=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],ba=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ca=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],da=512,ea=new Array(2*(Q+2));d(ea);var fa=new Array(2*R);d(fa);var ga=new Array(da);d(ga);var ha=new Array(N-M+1);d(ha);var ia=new Array(O);d(ia);var ja=new Array(R);d(ja);var ka,la,ma,na=function(a,b,c,d,e){this.static_tree=a,this.extra_bits=b,this.extra_base=c,this.elems=d,this.max_length=e,this.has_stree=a&&a.length},oa=function(a,b){this.dyn_tree=a,this.max_code=0,this.stat_desc=b},pa=!1;c._tr_init=z,c._tr_stored_block=A,c._tr_flush_block=C,c._tr_tally=D,c._tr_align=B},{"../utils/common":1}],10:[function(a,b,c){"use strict";function d(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}b.exports=d},{}],11:[function(a,b,c){b.exports={name:"doppiojvm",version:"0.3.1",engine:"node >= 4.0.0",license:"MIT",main:"dist/release/doppio.js",typings:"dist/typings/src/doppiojvm",dependencies:{async:"^1.4.2",browserfs:"^0.5.11",glob:"^5.0.14","gunzip-maybe":"^1.2.1",optimist:"~0.6",pako:"^0.2.8","source-map-support":"^0.4.0","tar-fs":"^1.8.1"},devDependencies:{"bfs-buffer":"^0.1.1","bfs-path":"^0.1.1","bfs-process":"^0.1.4",browserify:"^12.0.1","browserify-derequire":"^0.9.4","browserify-shim":"^3.8.11",cpr:"^1.0.0",escodegen:"^1.7.0",esprima:"^2.6.0",estraverse:"^4.1.0",grunt:"^0.4.5","grunt-browserify":"^4.0.1","grunt-cli":"^0.1.13","grunt-contrib-connect":"^0.11.2","grunt-contrib-copy":"^0.8.1","grunt-contrib-uglify":"^0.11.0","grunt-exorcise":"^2.1.0","grunt-karma":"^0.12.1","grunt-lineending":"^0.2.4","grunt-merge-source-maps":"^0.1.0","grunt-ts":"^5.2.0","jasmine-core":"^2.3.4",karma:"^0.13.19","karma-browserify":"^4.4.0","karma-chrome-launcher":"^0.2.1","karma-firefox-launcher":"^0.1.6","karma-ie-launcher":"^0.2.0","karma-jasmine":"^0.3.6","karma-opera-launcher":"^0.3.0","karma-safari-launcher":"^0.1.1","locate-java-home":"^0.1.4",rimraf:"^2.5.1",semver:"^5.1.0",tsify:"^0.13.0",typescript:"^1.7.3","uglify-js":"^2.6.1",undebugify:"^0.1.0",underscore:"^1.8.3"},scripts:{test:"./node_modules/.bin/grunt test",prepublish:"node ./prepublish.js",install:"node ./install.js"},"browserify-shim":{browserfs:"global:BrowserFS"},repository:{type:"git",url:"http://github.com/plasma-umass/doppio.git"},bin:{doppio:"./bin/doppio",doppioh:"./bin/doppioh","doppio-dev":"./bin/doppio-dev","doppio-fast-dev":"./bin/doppio-fast-dev"}}},{}],12:[function(a,b,c){b.exports=BrowserFS.BFSRequire("buffer")},{}],13:[function(a,b,c){b.exports=BrowserFS.BFSRequire("fs")},{}],14:[function(a,b,c){b.exports=BrowserFS.BFSRequire("path")},{}],15:[function(a,b,c){"use strict";var d=a("./gLong"),e=(a("./assert"),function(){function a(a){this.buffer=a,this._index=0}return a.prototype.incIndex=function(a){var b=this._index;return this._index+=a,b},a.prototype.rewind=function(){this._index=0},a.prototype.seek=function(a){this._index=a},a.prototype.pos=function(){return this._index},a.prototype.skip=function(a){this._index+=a},a.prototype.hasBytes=function(){return this._index<this.buffer.length},a.prototype.getFloat=function(){return this.buffer.readFloatBE(this.incIndex(4))},a.prototype.getDouble=function(){return this.buffer.readDoubleBE(this.incIndex(8))},a.prototype.getUint=function(a){switch(a){case 1:return this.getUint8();case 2:return this.getUint16();case 4:return this.getUint32();default:throw new Error("Invalid byte count for getUint: "+a)}},a.prototype.getInt=function(a){switch(a){case 1:return this.getInt8();case 2:return this.getInt16();case 4:return this.getInt32();default:throw new Error("Invalid byte count for getUint: "+a)}},a.prototype.getUint8=function(){return this.buffer.readUInt8(this.incIndex(1))},a.prototype.getUint16=function(){return this.buffer.readUInt16BE(this.incIndex(2))},a.prototype.getUint32=function(){return this.buffer.readUInt32BE(this.incIndex(4))},a.prototype.getInt8=function(){return this.buffer.readInt8(this.incIndex(1))},a.prototype.getInt16=function(){return this.buffer.readInt16BE(this.incIndex(2))},a.prototype.getInt32=function(){return this.buffer.readInt32BE(this.incIndex(4))},a.prototype.getInt64=function(){var a=this.getUint32(),b=this.getUint32();return d.fromBits(b,a)},a.prototype.read=function(a){var b=this.buffer.slice(this._index,this._index+a);return this._index+=a,b},a.prototype.peek=function(){return this.buffer.readUInt8(this._index)},a.prototype.size=function(){return this.buffer.length-this._index},a.prototype.slice=function(b){var c=new a(this.buffer.slice(this._index,this._index+b));return this._index+=b,c},a.prototype.getBuffer=function(){return this.buffer},a}());b.exports=e},{"./assert":26,"./gLong":32}],16:[function(_dereq_,module,exports){"use strict";function extendClass(a,b){function c(){this.constructor=a}c.prototype=b.prototype,a.prototype=new c}var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},util=_dereq_("./util"),ByteStream=_dereq_("./ByteStream"),ConstantPool=_dereq_("./ConstantPool"),attributes=_dereq_("./attributes"),threading_1=_dereq_("./threading"),logging=_dereq_("./logging"),methods=_dereq_("./methods"),enums=_dereq_("./enums"),ClassLock=_dereq_("./ClassLock"),assert=_dereq_("./assert"),gLong=_dereq_("./gLong"),StringOutputStream=_dereq_("./StringOutputStream"),ClassState=enums.ClassState,trace=logging.trace,debug=logging.debug,global=_dereq_("./global"),ref=1,injectedFields={"Ljava/lang/invoke/MemberName;":{vmtarget:["(thread: JVMThread, descriptor: string, args: any[], cb?: (e?: JVMTypes.java_lang_Throwable, rv?: any) => void) => void","null"],vmindex:["number","-1"]},"Ljava/lang/Object;":{ref:["number","ref++"],$monitor:["Monitor","null"]},"Ljava/net/PlainSocketImpl;":{$is_shutdown:["boolean","false"],$ws:["Interfaces.IWebsock","null"]},"Ljava/io/FileDescriptor;":{$pos:["number","-1"]},"Ljava/lang/Class;":{$cls:["ClassData","null"]},"Ljava/lang/ClassLoader;":{$loader:["ClassLoader","new ClassLoader.CustomClassLoader(thread.getBsCl(), this);"]},"Ljava/lang/Thread;":{$thread:["JVMThread","thread ? new thread.constructor(thread.getJVM(), thread.getThreadPool(), this) : null"]}},injectedMethods={"Ljava/lang/Object;":{getClass:["(): ClassData","function() { return this.constructor.cls }"],getMonitor:["(): Monitor","function() {\n  if (this.$monitor === null) {\n    this.$monitor = new Monitor();\n  }\n  return this.$monitor;\n}"]},"Ljava/lang/String;":{toString:["(): string","function() { return util.chars2jsStr(this['java/lang/String/value']); }"]},"Ljava/lang/Byte;":{unbox:["(): number","function() { return this['java/lang/Byte/value']; }"]},"Ljava/lang/Character;":{unbox:["(): number","function() { return this['java/lang/Character/value']; }"]},"Ljava/lang/Double;":{unbox:["(): number","function() { return this['java/lang/Double/value']; }"]},"Ljava/lang/Float;":{unbox:["(): number","function() { return this['java/lang/Float/value']; }"]},"Ljava/lang/Integer;":{unbox:["(): number","function() { return this['java/lang/Integer/value']; }"]},"Ljava/lang/Long;":{unbox:["(): Long","function() { return this['java/lang/Long/value']; }"]},"Ljava/lang/Short;":{unbox:["(): number","function() { return this['java/lang/Short/value']; }"]},"Ljava/lang/Boolean;":{unbox:["(): number","function() { return this['java/lang/Boolean/value']; }"]},"Ljava/lang/Void;":{unbox:["(): number",'function() { throw new Error("Cannot unbox a Void type."); }']},"Ljava/lang/invoke/MethodType;":{toString:["(): string",'function() { return "(" + this[\'java/lang/invoke/MethodType/ptypes\'].array.map(function (type) { return type.$cls.getInternalName(); }).join("") + ")" + this[\'java/lang/invoke/MethodType/rtype\'].$cls.getInternalName(); }']}},injectedStaticMethods={"Ljava/lang/Byte;":{box:["(val: number): java_lang_Byte","function(val) { var rv = new this(null); rv['java/lang/Byte/value'] = val; return rv; }"]},"Ljava/lang/Character;":{box:["(val: number): java_lang_Character","function(val) { var rv = new this(null); rv['java/lang/Character/value'] = val; return rv; }"]},"Ljava/lang/Double;":{box:["(val: number): java_lang_Double","function(val) { var rv = new this(null); rv['java/lang/Double/value'] = val; return rv; }"]},"Ljava/lang/Float;":{box:["(val: number): java_lang_Float","function(val) { var rv = new this(null); rv['java/lang/Float/value'] = val; return rv; }"]},"Ljava/lang/Integer;":{box:["(val: number): java_lang_Integer","function(val) { var rv = new this(null); rv['java/lang/Integer/value'] = val; return rv; }"]},"Ljava/lang/Long;":{box:["(val: Long): java_lang_Long","function(val) { var rv = new this(null); rv['java/lang/Long/value'] = val; return rv; }"]},"Ljava/lang/Short;":{box:["(val: number): java_lang_Short","function(val) { var rv = new this(null); rv['java/lang/Short/value'] = val; return rv; }"]},"Ljava/lang/Boolean;":{box:["(val: number): java_lang_Boolean","function(val) { var rv = new this(null); rv['java/lang/Boolean/value'] = val; return rv; }"]},"Ljava/lang/Void;":{box:["(): java_lang_Void","function() { return new this(null); }"]}},ClassData=function(){function a(a){this.accessFlags=null,this.state=enums.ClassState.LOADED,this.jco=null,this.superClass=null,this.loader=a}return a.prototype.getExternalName=function(){return util.ext_classname(this.className)},a.prototype.getInternalName=function(){return this.className},a.prototype.getPackageName=function(){var a,b=this.getExternalName();for(a=b.length-1;a>=0&&"."!==b[a];a--);return a>=0?b.slice(0,a):""},a.prototype.getLoader=function(){return this.loader},a.prototype.getSuperClass=function(){return this.superClass},a.prototype.getInterfaces=function(){return[]},a.prototype.getInjectedFields=function(){var a={};if(void 0!==injectedFields[this.getInternalName()]){var b=injectedFields[this.getInternalName()];Object.keys(b).forEach(function(c){a[c]=b[c][0]})}return a},a.prototype.getInjectedMethods=function(){var a={},b=this.getInternalName();if("["===b[0]&&(b="["),void 0!==injectedMethods[b]){var c=injectedMethods[b];Object.keys(c).forEach(function(b){a[b]=c[b][0]})}return a},a.prototype.getInjectedStaticMethods=function(){var a={},b=this.getInternalName();if("["===b[0]&&(b="["),void 0!==injectedStaticMethods[b]){var c=injectedStaticMethods[b];Object.keys(c).forEach(function(b){a[b]=c[b][0]})}return a},a.prototype.getClassObject=function(a){return null===this.jco&&(this.jco=new(a.getBsCl().getResolvedClass("Ljava/lang/Class;").getConstructor(a))(a),this.jco.$cls=this,this.jco["java/lang/Class/classLoader"]=this.getLoader().getLoaderObject()),this.jco},a.prototype.getProtectionDomain=function(){return null},a.prototype.getMethod=function(a){return null},a.prototype.getMethods=function(){return[]},a.prototype.getFields=function(){return[]},a.prototype.setState=function(a){this.state=a},a.prototype.getState=function(){if(this.state===ClassState.RESOLVED&&null===this.getMethod("<clinit>()V")){var a=this.getSuperClass();null!==a&&a.getState()===ClassState.INITIALIZED&&(this.state=ClassState.INITIALIZED)}return this.state},a.prototype.isInitialized=function(a){return this.getState()===ClassState.INITIALIZED},a.prototype.isResolved=function(){return this.getState()!==ClassState.LOADED},a.prototype.isSubinterface=function(a){return!1},a.prototype.isSubclass=function(a){return this===a?!0:null===this.getSuperClass()?!1:this.getSuperClass().isSubclass(a)},a.prototype.resolve=function(a,b,c){throw void 0===c&&(c=!0),new Error("Unimplemented.")},a.prototype.initialize=function(a,b,c){throw void 0===c&&(c=!0),new Error("Unimplemented.")},a.prototype.outputInjectedMethods=function(a,b){var c=this.getInternalName();if("["===c[0]&&(c="["),void 0!==injectedMethods[c]){var d=injectedMethods[c];Object.keys(d).forEach(function(c){b.write("  "+a+".prototype."+c+" = "+d[c][1]+";\n")})}if(void 0!==injectedStaticMethods[c]){var e=injectedStaticMethods[c];Object.keys(e).forEach(function(c){b.write("  "+a+"."+c+" = "+e[c][1]+";\n")})}},a}();exports.ClassData=ClassData;var PrimitiveClassData=function(a){function b(b,c){a.call(this,c),this.className=b,this.accessFlags=new util.Flags(1041),this.setState(ClassState.INITIALIZED)}return __extends(b,a),b.prototype.isCastable=function(a){return this.className===a.getInternalName()},b.prototype.boxClassName=function(){return util.boxClassName(this.className)},b.prototype.createWrapperObject=function(a,b){var c=this.boxClassName(),d=a.getBsCl().getInitializedClass(a,c),e=d.getConstructor(a),f=new e(a);return"V"!==c&&(f[util.descriptor2typestr(c)+"/value"]=b),f},b.prototype.tryToResolve=function(){return!0},b.prototype.tryToInitialize=function(){return!0},b.prototype.resolve=function(a,b,c){var d=this;void 0===c&&(c=!0),setImmediate(function(){return b(d)})},b}(ClassData);exports.PrimitiveClassData=PrimitiveClassData;var ArrayClassData=function(_super){function ArrayClassData(a,b){_super.call(this,b),this._constructor=null,this.className="["+a,this.accessFlags=new util.Flags(1041),this.componentClassName=a}return __extends(ArrayClassData,_super),ArrayClassData.prototype.methodLookup=function(a){return this.superClass.methodLookup(a)},ArrayClassData.prototype.fieldLookup=function(a){return this.superClass.fieldLookup(a)},ArrayClassData.prototype.resolve=function(a,b,c){var d=this;return void 0===c&&(c=!0),this.isResolved()?void setImmediate(function(){return b(d)}):void util.asyncForEach(["Ljava/lang/Object;",this.componentClassName],function(b,c){d.loader.resolveClass(a,b,function(a){null!==a?c():c("Failed.")})},function(a){a?b(null):(d.setResolved(d.loader.getResolvedClass("Ljava/lang/Object;"),d.loader.getResolvedClass(d.componentClassName)),b(d))})},ArrayClassData.prototype.getComponentClass=function(){return this.componentClass},ArrayClassData.prototype.setResolved=function(a,b){this.superClass=a,this.componentClass=b,this.setState(ClassState.INITIALIZED)},ArrayClassData.prototype.tryToResolve=function(){var a=this.loader,b=a.getResolvedClass("Ljava/lang/Object;"),c=a.getResolvedClass(this.componentClassName);return null===b||null===c?!1:(this.setResolved(b,c),!0)},ArrayClassData.prototype.tryToInitialize=function(){return this.tryToResolve()},ArrayClassData.prototype.isCastable=function(a){if(!(a instanceof ArrayClassData)){if(a instanceof PrimitiveClassData)return!1;if(a.accessFlags.isInterface()){var b=a.getInternalName();return"Ljava/lang/Cloneable;"===b||"Ljava/io/Serializable;"===b}return"Ljava/lang/Object;"===a.getInternalName()}return this.getComponentClass().isCastable(a.getComponentClass())},ArrayClassData.prototype.initialize=function(a,b,c){void 0===c&&(c=!0),this.resolve(a,b,c)},ArrayClassData.prototype.getJSArrayConstructor=function(){if(!util.typedArraysSupported)return"Array";switch(this.componentClassName){case"B":return"Int8Array";case"C":return"Uint16Array";case"S":return"Int16Array";case"I":return"Int32Array";case"F":return"Float32Array";case"D":return"Float64Array";default:return"Array"}},ArrayClassData.prototype.getJSDefaultArrayElement=function(){switch(this.componentClassName[0]){case"[":return"new (cls.getComponentClass().getConstructor())(thread, otherLengths)";case"L":return"null";case"J":return"gLongZero";default:return"0"}},ArrayClassData.prototype._getSliceMethod=function(){var a=new StringOutputStream,b=this.getJSArrayConstructor();if(a.write("function(start, end) {\n    var newObj = new this.constructor(null, 0);\n"),"Array"===b)a.write("    newObj.array = this.array.slice(start, end);\n");else{var c;switch(b){case"Int8Array":c=1;break;case"Int16Array":case"Uint16Array":c=2;break;case"Int32Array":case"Float32Array":c=4;break;case"Float64Array":c=8}a.write("    if (end === undefined) end = this.array.length;\n      "+(c>1?"start *= "+c+";\nend *= "+c+";":"")+"\n      newObj.array = new "+b+"(this.array.buffer.slice(start, end));\n")}return a.write("    return newObj;\n  }"),a.flush()},ArrayClassData.prototype._constructConstructor=function(thread){var outputStream=new StringOutputStream,jsClassName=util.jvmName2JSName(this.getInternalName());return outputStream.write("function _create(extendClass, cls, superCls, gLongZero, thread) {\n  extendClass("+jsClassName+", superCls.getConstructor(thread));\n  function "+jsClassName+"(thread, lengths) {\n"),this.superClass.outputInjectedFields(outputStream),"["!==this.componentClassName[0]?(outputStream.write("    this.array = new "+this.getJSArrayConstructor()+"(lengths);\n"),"Array"===this.getJSArrayConstructor()&&outputStream.write("    for (var i = 0; i < lengths; i++) {\n      this.array[i] = "+this.getJSDefaultArrayElement()+";\n    }\n")):outputStream.write("    if (typeof lengths === 'number') {\n        this.array = new "+this.getJSArrayConstructor()+"(lengths);\n        for (var i = 0; i < length; i++) {\n          this.array[i] = null;\n        }\n      } else {\n        var length = lengths[0], otherLengths = lengths.length > 2 ? lengths.slice(1) : lengths[1];\n        this.array = new "+this.getJSArrayConstructor()+"(length);\n        for (var i = 0; i < length; i++) {\n          this.array[i] = "+this.getJSDefaultArrayElement()+";\n        }\n      }\n"),outputStream.write("  }\n\n  "+jsClassName+".prototype.slice = "+this._getSliceMethod()+";\n  "+jsClassName+".cls = cls;\n"),this.outputInjectedMethods(jsClassName,outputStream),outputStream.write("\n  return "+jsClassName+";\n}\n// Last statement is return value of eval.\n_create"),eval(outputStream.flush())(extendClass,this,this.superClass,gLong.ZERO,thread)},ArrayClassData.prototype.getConstructor=function(a){return null===this._constructor&&(this._constructor=this._constructConstructor(a)),this._constructor},ArrayClassData}(ClassData);exports.ArrayClassData=ArrayClassData;var ReferenceClassData=function(_super){function ReferenceClassData(a,b,c,d){_super.call(this,c),this.interfaceClasses=null,this.superClassRef=null,this.initLock=new ClassLock,this._constructor=null,this._fieldLookup={},this._objectFields=[],this._staticFields=[],this._methodLookup={},this._vmTable=[],this._uninheritedDefaultMethods=[],this._protectionDomain=b?b:null;var e=new ByteStream(a),f=0;if(3405691582!==e.getUint32())throw new Error("Magic number invalid");if(this.minorVersion=e.getUint16(),this.majorVersion=e.getUint16(),!(45<=this.majorVersion&&this.majorVersion<=52))throw new Error("Major version invalid");this.constantPool=new ConstantPool.ConstantPool,this.constantPool.parse(e,d),this.accessFlags=new util.Flags(e.getUint16()),this.className=this.constantPool.get(e.getUint16()).name;var g=e.getUint16();0!==g&&(this.superClassRef=this.constantPool.get(g));var h=e.getUint16();for(this.interfaceRefs=new Array(h),f=0;h>f;++f)this.interfaceRefs[f]=this.constantPool.get(e.getUint16());var i=e.getUint16();for(this.fields=new Array(i),f=0;i>f;++f)this.fields[f]=new methods.Field(this,this.constantPool,f,e);var j=e.getUint16();for(this.methods=new Array(j),f=0;j>f;f++){var k=new methods.Method(this,this.constantPool,f,e);this.methods[f]=k}if(this.attrs=attributes.makeAttributes(e,this.constantPool),e.hasBytes())throw"Leftover bytes in classfile: "+e}return __extends(ReferenceClassData,_super),ReferenceClassData.prototype.getSuperClassReference=function(){return this.superClassRef},ReferenceClassData.prototype.getInterfaceClassReferences=function(){return this.interfaceRefs.slice(0)},ReferenceClassData.prototype.getInterfaces=function(){return this.interfaceClasses},ReferenceClassData.prototype.getFields=function(){return this.fields},ReferenceClassData.prototype.getVMTable=function(){return this._vmTable},ReferenceClassData.prototype.getVMIndexForMethod=function(a){return this._vmTable.indexOf(this.methodLookup(a.signature))},ReferenceClassData.prototype.getMethodFromVMIndex=function(a){return void 0!==this._vmTable[a]?this._vmTable[a]:null},ReferenceClassData.prototype.getVMIndexForField=function(a){return a.accessFlags.isStatic()?this._staticFields.indexOf(a):this._objectFields.indexOf(a)},ReferenceClassData.prototype.getStaticFieldFromVMIndex=function(a){var b=this._staticFields[a];return void 0!==b?b:null},ReferenceClassData.prototype.getObjectFieldFromVMIndex=function(a){var b=this._objectFields[a];return void 0!==b?b:null},ReferenceClassData.prototype.getFieldFromSlot=function(a){return this.fields[a]},ReferenceClassData.prototype.getMethodFromSlot=function(a){return this.methods[a]},ReferenceClassData.prototype.getMethod=function(a){var b=this._methodLookup[a];return b.cls===this?b:null},ReferenceClassData.prototype.getSpecificMethod=function(a,b){if(this.getInternalName()===a)return this.getMethod(b);var c,d=this.interfaceClasses.slice(0);this.superClass&&d.push(this.superClass);for(var e=0;e<d.length;e++)if(null!==(c=d[e].getSpecificMethod(a,b)))return c;return null},ReferenceClassData.prototype.getMethods=function(){return this.methods},ReferenceClassData.prototype.getUninheritedDefaultMethods=function(){return this._uninheritedDefaultMethods},ReferenceClassData.prototype.getProtectionDomain=function(){return this._protectionDomain},ReferenceClassData.prototype._resolveMethods=function(){var a=this;null!==this.superClass&&(this._vmTable=this._vmTable.concat(this.superClass._vmTable),Object.keys(this.superClass._methodLookup).forEach(function(b){a._methodLookup[b]=a.superClass._methodLookup[b]})),this.methods.forEach(function(b){var c=a._methodLookup[b.signature];b.accessFlags.isStatic()||"<init>"===b.name||(void 0===c?a._vmTable.push(b):a._vmTable[a._vmTable.indexOf(c)]=b),a._methodLookup[b.signature]=b}),this.interfaceClasses.forEach(function(b){Object.keys(b._methodLookup).forEach(function(c){var d=b._methodLookup[c];void 0===a._methodLookup[c]?(d.accessFlags.isStatic()||a._vmTable.push(d),a._methodLookup[c]=d):d.isDefault()&&a._uninheritedDefaultMethods.push(d)})})},ReferenceClassData.prototype._resolveFields=function(){var a=this;null!==this.superClass&&(this._objectFields=this._objectFields.concat(this.superClass._objectFields),Object.keys(this.superClass._fieldLookup).forEach(function(b){a._fieldLookup[b]=a.superClass._fieldLookup[b]})),this.interfaceClasses.forEach(function(b){Object.keys(b._fieldLookup).forEach(function(c){var d=b._fieldLookup[c];a._fieldLookup[c]=d})}),this.fields.forEach(function(b){a._fieldLookup[b.name]=b,b.accessFlags.isStatic()?a._staticFields.push(b):a._objectFields.push(b)})},ReferenceClassData.prototype.methodLookup=function(a){var b=this._methodLookup[a];return void 0!==b?b:null},ReferenceClassData.prototype.signaturePolymorphicAwareMethodLookup=function(a){var b;if(null!==(b=this.methodLookup(a)))return b;if("Ljava/lang/invoke/MethodHandle;"===this.className){var c=a.slice(0,a.indexOf("("))+"([Ljava/lang/Object;)Ljava/lang/Object;",b=this._methodLookup[c];if(void 0!==b&&b.accessFlags.isNative()&&b.accessFlags.isVarArgs()&&b.cls===this)return b}else if(null!==this.superClass)return this.superClass.signaturePolymorphicAwareMethodLookup(a);return null},ReferenceClassData.prototype.fieldLookup=function(a){var b=this._fieldLookup[a];return void 0!==b?b:null},ReferenceClassData.prototype.getAttribute=function(a){for(var b=this.attrs,c=0;c<b.length;c++){var d=b[c];if(d.getName()===a)return d}return null},ReferenceClassData.prototype.getAttributes=function(a){for(var b=this.attrs,c=[],d=0;d<b.length;d++){var e=b[d];e.getName()===a&&c.push(e)}return c},ReferenceClassData.prototype.getBootstrapMethod=function(a){var b=this.getAttribute("BootstrapMethods");return b.bootstrapMethods[a]},ReferenceClassData.prototype._getInitialStaticFieldValue=function(a,b){var c=this.fieldLookup(b);if(null!==c&&c.accessFlags.isStatic()){var d=c.getAttribute("ConstantValue");if(null===d)return util.initialValue(c.rawDescriptor);switch(d.value.getType()){case enums.ConstantPoolItemType.STRING:var e=d.value;return null===e.value&&(e.value=a.getJVM().internString(e.stringValue)),e.value;default:return d.value.value}}},ReferenceClassData.prototype.setResolved=function(a,b){this.superClass=a,this.interfaceClasses=b,this._resolveMethods(),this._resolveFields(),this.setState(ClassState.RESOLVED)},ReferenceClassData.prototype.tryToResolve=function(){if(this.getState()===ClassState.LOADED){var a,b,c=this.loader,d=null!==this.superClassRef?this.interfaceRefs.concat(this.superClassRef):this.interfaceRefs,e=[];for(a=0;a<d.length;a++){if(b=d[a],!b.tryResolve(c))return!1;e.push(b.cls)}this.setResolved(null!==this.superClassRef?e.pop():null,e)}return!0},ReferenceClassData.prototype.tryToInitialize=function(){if(this.getState()===ClassState.INITIALIZED)return!0;if(this.getState()===ClassState.RESOLVED||this.tryToResolve()){if(null!==this.superClass&&!this.superClass.tryToInitialize())return!1;var a=this.getMethod("<clinit>()V");return null!==a?!1:(this.setState(ClassState.INITIALIZED),!0)}return!1},ReferenceClassData.prototype.isCastable=function(a){return a instanceof ReferenceClassData?this.accessFlags.isInterface()?a.accessFlags.isInterface()?this.isSubinterface(a):a.accessFlags.isInterface()?void 0:"Ljava/lang/Object;"===a.getInternalName():a.accessFlags.isInterface()?this.isSubinterface(a):this.isSubclass(a):!1},ReferenceClassData.prototype.isSubinterface=function(a){if(this.className===a.getInternalName())return!0;for(var b=this.getInterfaces(),c=0;c<b.length;c++){var d=b[c];if(d.isSubinterface(a))return!0}return null==this.getSuperClass()?!1:this.getSuperClass().isSubinterface(a)},ReferenceClassData.prototype.initialize=function(a,b,c){var d=this;void 0===c&&(c=!0),this.isResolved()?this.isInitialized(a)?setImmediate(function(){b(d)}):this.initLock.tryLock(a,b)&&(null!=this.superClass?this.superClass.initialize(a,function(b){null==b?d.initLock.unlock(null):d._initialize(a,function(a){d.initLock.unlock(a)})},c):this._initialize(a,function(a){d.initLock.unlock(a)})):this.resolve(a,function(e){null!==e?d.initialize(a,b,c):b(e)},c)},ReferenceClassData.prototype._initialize=function(a,b){var c=this,d=this.getConstructor(a);void 0!==d["<clinit>()V"]?d["<clinit>()V"](a,null,function(d){d?(c.setState(enums.ClassState.RESOLVED),d.getClass().isCastable(a.getBsCl().getResolvedClass("Ljava/lang/Error;"))?(a.throwException(d),b(null)):a.getBsCl().initializeClass(a,"Ljava/lang/ExceptionInInitializerError;",function(c){if(null==c)b(null);else{var e=c.getConstructor(a),f=new e(a);f["<init>(Ljava/lang/Throwable;)V"](a,[d],function(c){a.throwException(f),b(null)})}})):(c.setState(enums.ClassState.INITIALIZED),b(c))}):(this.setState(enums.ClassState.INITIALIZED),b(this))},ReferenceClassData.prototype.isInitialized=function(a){return this.getState()===ClassState.INITIALIZED||this.initLock.getOwner()===a},ReferenceClassData.prototype.resolve=function(a,b,c){
var d=this;void 0===c&&(c=!0);var e=this.interfaceRefs.slice(0);null!==this.superClassRef&&e.push(this.superClassRef),e=e.filter(function(a){return!a.isResolved()}),util.asyncForEach(e,function(b,e){b.resolve(a,d.loader,d,function(a){a?e():e("Failed.")},c)},function(a){a?b(null):(d.setResolved(null!==d.superClassRef?d.superClassRef.cls:null,d.interfaceRefs.map(function(a){return a.cls})),b(d))})},ReferenceClassData.prototype.getMirandaAndDefaultMethods=function(){var a=this,b=null!==this.superClass?this.superClass.getVMTable():[];return this.getVMTable().slice(b.length).filter(function(b){return b.cls!==a})},ReferenceClassData.prototype.outputInjectedFields=function(a){null!==this.superClass&&this.superClass.outputInjectedFields(a);var b=injectedFields[this.getInternalName()];void 0!==b&&Object.keys(b).forEach(function(c){a.write("this."+c+" = "+b[c][1]+";\n")})},ReferenceClassData.prototype._constructConstructor=function(thread){var jsClassName=util.jvmName2JSName(this.getInternalName()),outputStream=new StringOutputStream;outputStream.write("function _create(extendClass, cls, InternalStackFrame, NativeStackFrame, BytecodeStackFrame, gLongZero, ClassLoader, Monitor, thread) {\n  if (cls.superClass !== null) {\n    extendClass("+jsClassName+", cls.superClass.getConstructor(thread));\n  }\n  function "+jsClassName+"(thread) {\n"),this.outputInjectedFields(outputStream),this._objectFields.forEach(function(a){return a.outputJavaScriptField(jsClassName,outputStream)}),outputStream.write("  }\n  "+jsClassName+".cls = cls;\n"),this.outputInjectedMethods(jsClassName,outputStream),this._staticFields.forEach(function(a){return a.outputJavaScriptField(jsClassName,outputStream)}),this.getMethods().forEach(function(a){return a.outputJavaScriptFunction(jsClassName,outputStream)}),this.getMirandaAndDefaultMethods().forEach(function(a){return a.outputJavaScriptFunction(jsClassName,outputStream)}),this.getUninheritedDefaultMethods().forEach(function(a){return a.outputJavaScriptFunction(jsClassName,outputStream,!0)}),outputStream.write("  return "+jsClassName+";\n}\n_create");var evalText=outputStream.flush();return eval(evalText)(extendClass,this,threading_1.InternalStackFrame,threading_1.NativeStackFrame,threading_1.BytecodeStackFrame,gLong.ZERO,_dereq_("./ClassLoader"),_dereq_("./Monitor"),thread)},ReferenceClassData.prototype.getConstructor=function(a){return null==this._constructor&&(this._constructor=this._constructConstructor(a)),this._constructor},ReferenceClassData}(ClassData);exports.ReferenceClassData=ReferenceClassData},{"./ByteStream":15,"./ClassLoader":18,"./ClassLock":19,"./ConstantPool":20,"./Monitor":22,"./StringOutputStream":24,"./assert":26,"./attributes":27,"./enums":31,"./gLong":32,"./global":33,"./logging":39,"./methods":40,"./threading":45,"./util":47}],17:[function(a,b,c){function d(a){for(var b in a)c.hasOwnProperty(b)||(c[b]=a[b])}var e=a("./ConstantPool");c.ConstantPool=e;var f=a("./attributes");c.Attributes=f,d(a("./ClassData")),d(a("./methods")),d(a("./ClassLoader")),d(a("./classpath"))},{"./ClassData":16,"./ClassLoader":18,"./ConstantPool":20,"./attributes":27,"./classpath":28,"./methods":40}],18:[function(a,b,c){var d=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},e=a("./ClassData"),f=a("./ClassLock"),g=a("./classpath"),h=a("./enums"),i=a("./util"),j=a("./logging"),k=(a("./assert"),j.debug,function(){function a(){this.locks={}}return a.prototype.tryLock=function(a,b,c){return"undefined"==typeof this.locks[a]&&(this.locks[a]=new f),this.locks[a].tryLock(b,c)},a.prototype.unlock=function(a,b){this.locks[a].unlock(b),delete this.locks[a]},a.prototype.getOwner=function(a){return this.locks[a]?this.locks[a].getOwner():null},a}()),l=function(){function a(a){this.bootstrap=a,this.loadedClasses={},this.loadClassLocks=new k}return a.prototype.getLoadedClassNames=function(){return Object.keys(this.loadedClasses)},a.prototype.addClass=function(a,b){this.loadedClasses[a]=b},a.prototype.getClass=function(a){return this.loadedClasses[a]},a.prototype.defineClass=function(a,b,c,d){try{var f=new e.ReferenceClassData(c,d,this);return this.addClass(b,f),f}catch(g){return null===a?(j.error("JVM initialization failed: "+g),j.error(g.stack)):a.throwNewException("Ljava/lang/ClassFormatError;",g),null}},a.prototype.defineArrayClass=function(a){var b=new e.ArrayClassData(i.get_component_type(a),this);return this.addClass(a,b),b},a.prototype.getLoadedClass=function(a){var b=this.loadedClasses[a];if(null!=b)return b;if(i.is_primitive_type(a))return this.bootstrap.getPrimitiveClass(a);if(i.is_array_type(a)){var c=this.getLoadedClass(i.get_component_type(a));if(null!=c){var d=c.getLoader();return d===this?this.defineArrayClass(a):(b=d.getLoadedClass(a),this.addClass(a,b),b)}}return null},a.prototype.getResolvedClass=function(a){var b=this.getLoadedClass(a);return null!==b&&(b.isResolved()||b.tryToResolve())?b:null},a.prototype.getInitializedClass=function(a,b){var c=this.getLoadedClass(b);return null!==c?c.isInitialized(a)||c.tryToInitialize()?c:null:c},a.prototype.loadClass=function(a,b,c,d){var e=this;void 0===d&&(d=!0);var f=this.getLoadedClass(b);f?setImmediate(function(){c(f)}):this.loadClassLocks.tryLock(b,a,c)&&(i.is_reference_type(b)?this._loadClass(a,b,function(a){e.loadClassLocks.unlock(b,a)},d):this.loadClass(a,i.get_component_type(b),function(a){null!=a&&e.loadClassLocks.unlock(b,e.getLoadedClass(b))},d))},a.prototype.resolveClasses=function(a,b,c){var d=this,e={};i.asyncForEach(b,function(b,c){d.resolveClass(a,b,function(a){null===a?c("Error resolving class: "+b):(e[b]=a,c())})},function(a){c(a?null:e)})},a.prototype.resolveClass=function(a,b,c,d){void 0===d&&(d=!0),this.loadClass(a,b,function(b){null===b||b.isResolved()?setImmediate(function(){c(b)}):b.resolve(a,c,d)},d)},a.prototype.initializeClass=function(a,b,c,d){void 0===d&&(d=!0),this.resolveClass(a,b,function(b){null===b||b.isInitialized(a)?setImmediate(function(){c(b)}):b.initialize(a,c,d)},d)},a.prototype.throwClassNotFoundException=function(a,b,c){a.throwNewException(c?"Ljava/lang/ClassNotFoundException;":"Ljava/lang/NoClassDefFoundError;","Cannot load class: "+i.ext_classname(b))},a}();c.ClassLoader=l;var m=function(a){function b(b,c,d){var e=this;a.call(this,this),this.classpath=null,this.loadedPackages={},g.ClasspathFactory(b,c,function(a){e.classpath=a.reverse(),d()})}return d(b,a),b.prototype._registerLoadedClass=function(a,b){var c=a.slice(0,a.lastIndexOf("/")),d=this.loadedPackages[c];d?d[0]!==b&&-1===d.indexOf(b)&&d.push(b):this.loadedPackages[c]=[b]},b.prototype.getPackages=function(){var a=this;return Object.keys(this.loadedPackages).map(function(b){return[b,a.loadedPackages[b].map(function(a){return a.getPath()})]})},b.prototype.getPrimitiveClass=function(a){var b=this.getClass(a);return null==b&&(b=new e.PrimitiveClassData(a,this),this.addClass(a,b)),b},b.prototype._loadClass=function(a,b,c,d){var e=this;void 0===d&&(d=!0);var f,g=i.descriptor2typestr(b),j=this.classpath.length,k=[];a:for(var l=0;j>l;l++){var m=this.classpath[l];switch(m.hasClass(g)){case h.TriState.INDETERMINATE:k.push(m);break;case h.TriState.TRUE:k.push(m);break a}}i.asyncFind(k,function(a,b){a.loadClass(g,function(a,c){a?b(!1):(f=c,b(!0))})},function(h){if(h){var i=e.defineClass(a,b,f,null);null!==i&&e._registerLoadedClass(g,h),c(i)}else e.throwClassNotFoundException(a,b,d),c(null)})},b.prototype.getLoadedClassFiles=function(){var a=this.getLoadedClassNames();return a.filter(function(a){return i.is_reference_type(a)})},b.prototype.getLoaderObject=function(){return null},b.prototype.getClassPath=function(){for(var a=this.classpath.length,b=new Array(a),c=0;a>c;c++)b[c]=this.classpath[a-c-1].getPath();return b},b.prototype.getClassPathItems=function(){return this.classpath.slice(0)},b}(l);c.BootstrapClassLoader=m;var n=function(a){function b(b,c){a.call(this,b),this.loaderObj=c}return d(b,a),b.prototype._loadClass=function(a,b,c,d){var e=this;void 0===d&&(d=!0),this.loaderObj["loadClass(Ljava/lang/String;)Ljava/lang/Class;"](a,[i.initString(this.bootstrap,i.ext_classname(b))],function(f,g){if(f)e.throwClassNotFoundException(a,b,d),c(null);else{var h=g.$cls;e.addClass(b,h),c(h)}})},b.prototype.getLoaderObject=function(){return this.loaderObj},b}(l);c.CustomClassLoader=n},{"./ClassData":16,"./ClassLock":19,"./assert":26,"./classpath":28,"./enums":31,"./logging":39,"./util":47}],19:[function(a,b,c){var d=function(){function a(){this.queue=[]}return a.prototype.tryLock=function(a,b){return 1===this.queue.push({thread:a,cb:b})},a.prototype.unlock=function(a){var b,c=this.queue.length;for(b=0;c>b;b++)this.queue[b].cb(a);this.queue=[]},a.prototype.getOwner=function(){return this.queue.length>0?this.queue[0].thread:null},a}();b.exports=d},{}],20:[function(a,b,c){"use strict";var d=a("./util"),e=a("./enums"),f=(a("./assert"),{}),g=function(){function a(a){this.value=this.bytes2str(a)}return a.prototype.bytes2str=function(a){for(var b,c,d,e,f=0,g="";f<a.length;)d=255&a.readUInt8(f++),127>=d?e=d:223>=d?(b=a.readUInt8(f++),e=((31&d)<<6)+(63&b)):(b=a.readUInt8(f++),c=a.readUInt8(f++),e=((15&d)<<12)+((63&b)<<6)+(63&c)),g+=String.fromCharCode(e);return g},a.prototype.getType=function(){return e.ConstantPoolItemType.UTF8},a.prototype.getConstant=function(a){return this.value},a.prototype.isResolved=function(){return!0},a.fromBytes=function(a,b){var c=a.getUint16();return new this(a.read(c))},a.size=1,a.infoByteSize=0,a}();c.ConstUTF8=g,f[e.ConstantPoolItemType.UTF8]=g;var h=function(){function a(a){this.value=a}return a.prototype.getType=function(){return e.ConstantPoolItemType.INTEGER},a.prototype.getConstant=function(a){return this.value},a.prototype.isResolved=function(){return!0},a.fromBytes=function(a,b){return new this(a.getInt32())},a.size=1,a.infoByteSize=4,a}();c.ConstInt32=h,f[e.ConstantPoolItemType.INTEGER]=h;var i=function(){function a(a){this.value=a}return a.prototype.getType=function(){return e.ConstantPoolItemType.FLOAT},a.prototype.getConstant=function(a){return this.value},a.prototype.isResolved=function(){return!0},a.fromBytes=function(a,b){return new this(a.getFloat())},a.size=1,a.infoByteSize=4,a}();c.ConstFloat=i,f[e.ConstantPoolItemType.FLOAT]=i;var j=function(){function a(a){this.value=a}return a.prototype.getType=function(){return e.ConstantPoolItemType.LONG},a.prototype.getConstant=function(a){return this.value},a.prototype.isResolved=function(){return!0},a.fromBytes=function(a,b){return new this(a.getInt64())},a.size=2,a.infoByteSize=8,a}();c.ConstLong=j,f[e.ConstantPoolItemType.LONG]=j;var k=function(){function a(a){this.value=a}return a.prototype.getType=function(){return e.ConstantPoolItemType.DOUBLE},a.prototype.getConstant=function(a){return this.value},a.prototype.isResolved=function(){return!0},a.fromBytes=function(a,b){return new this(a.getDouble())},a.size=2,a.infoByteSize=8,a}();c.ConstDouble=k,f[e.ConstantPoolItemType.DOUBLE]=k;var l=function(){function a(a){this.cls=null,this.clsConstructor=null,this.arrayClass=null,this.arrayClassConstructor=null,this.name=a}return a.prototype.tryResolve=function(a){return null===this.cls&&(this.cls=a.getResolvedClass(this.name)),null!==this.cls},a.prototype.resolve=function(a,b,c,d,e){var f=this;if(void 0===e&&(e=!0),null!==a){var g=a.currentMethod();if(null!==g&&this.name===g.cls.getInternalName())return this.setResolved(a,a.currentMethod().cls),d(!0)}b.resolveClass(a,this.name,function(b){f.setResolved(a,b),d(null!==b)},e)},a.prototype.setResolved=function(a,b){this.cls=b,null!==b&&(this.clsConstructor=b.getConstructor(a))},a.prototype.getType=function(){return e.ConstantPoolItemType.CLASS},a.prototype.getConstant=function(a){return this.cls.getClassObject(a)},a.prototype.isResolved=function(){return null!==this.cls},a.fromBytes=function(a,b){var c=a.getUint16(),e=b.get(c);return new this(d.typestr2descriptor(e.value))},a.size=1,a.infoByteSize=2,a}();c.ClassReference=l,f[e.ConstantPoolItemType.CLASS]=l;var m=function(){function a(a,b){this.name=a,this.descriptor=b}return a.prototype.getType=function(){return e.ConstantPoolItemType.NAME_AND_TYPE},a.prototype.isResolved=function(){return!0},a.fromBytes=function(a,b){var c=a.getUint16(),d=a.getUint16(),e=b.get(c),f=b.get(d);return new this(e.value,f.value)},a.size=1,a.infoByteSize=4,a}();c.NameAndTypeInfo=m,f[e.ConstantPoolItemType.NAME_AND_TYPE]=m;var n=function(){function a(a){this.value=null,this.stringValue=a}return a.prototype.getType=function(){return e.ConstantPoolItemType.STRING},a.prototype.resolve=function(a,b,c,d){this.value=a.getJVM().internString(this.stringValue),setImmediate(function(){return d(!0)})},a.prototype.getConstant=function(a){return this.value},a.prototype.isResolved=function(){return null!==this.value},a.fromBytes=function(a,b){var c=a.getUint16(),d=b.get(c);return new this(d.value)},a.size=1,a.infoByteSize=2,a}();c.ConstString=n,f[e.ConstantPoolItemType.STRING]=n;var o=function(){function a(a){this.methodType=null,this.descriptor=a}return a.prototype.resolve=function(a,b,c,e){var f=this;d.createMethodType(a,b,this.descriptor,function(b,c){b?(a.throwException(b),e(!1)):(f.methodType=c,e(!0))})},a.prototype.getConstant=function(a){return this.methodType},a.prototype.getType=function(){return e.ConstantPoolItemType.METHOD_TYPE},a.prototype.isResolved=function(){return null!==this.methodType},a.fromBytes=function(a,b){var c=a.getUint16(),d=b.get(c);return new this(d.value)},a.size=1,a.infoByteSize=2,a}();c.MethodType=o,f[e.ConstantPoolItemType.METHOD_TYPE]=o;var p=function(){function a(a,b){this.method=null,this.fullSignature=null,this.paramWordSize=-1,this.memberName=null,this.appendix=null,this.jsConstructor=null,this.classInfo=a,this.nameAndTypeInfo=b,this.signature=this.nameAndTypeInfo.name+this.nameAndTypeInfo.descriptor}return a.prototype.getType=function(){return e.ConstantPoolItemType.METHODREF},a.prototype.hasAccess=function(a,b,c){var e=this.method,f=b.method.cls;return e.accessFlags.isStatic()!==c?(a.throwNewException("Ljava/lang/IncompatibleClassChangeError;","Method "+e.name+" from class "+e.cls.getExternalName()+" is "+(c?"not ":"")+"static."),b.returnToThreadLoop=!0,!1):d.checkAccess(f,e.cls,e.accessFlags)?!0:(a.throwNewException("Ljava/lang/IllegalAccessError;",f.getExternalName()+" cannot access "+e.cls.getExternalName()+"."+e.name),b.returnToThreadLoop=!0,!1)},a.prototype.resolveMemberName=function(a,b,c,f,g){var h=this,i=b.getBsCl().getInitializedClass(b,"Ljava/lang/invoke/MethodHandleNatives;").getConstructor(b),j=new(b.getBsCl().getInitializedClass(b,"[Ljava/lang/Object;").getConstructor(b))(b,1);d.createMethodType(b,c,this.nameAndTypeInfo.descriptor,function(a,c){a?(b.throwException(a),g(!1)):i["java/lang/invoke/MethodHandleNatives/linkMethod(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;"](b,[f.getClassObject(b),e.MethodHandleReferenceKind.INVOKEVIRTUAL,h.classInfo.cls.getClassObject(b),b.getJVM().internString(h.nameAndTypeInfo.name),c,j],function(a,c){null!==a?(b.throwException(a),g(!1)):(h.appendix=j.array[0],h.memberName=c,g(!0))})})},a.prototype.resolve=function(a,b,c,e,f){var g=this;if(void 0===f&&(f=!0),this.classInfo.isResolved()){var h=this.classInfo.cls,i=h.methodLookup(this.signature);if(null===i&&d.is_reference_type(h.getInternalName())&&(i=h.signaturePolymorphicAwareMethodLookup(this.signature),null!==i&&("invoke"===i.name||"invokeExact"===i.name)))return this.resolveMemberName(i,a,b,c,function(b){b===!0?g.setResolved(a,i):a.throwNewException("Ljava/lang/NoSuchMethodError;","Method "+g.signature+" does not exist in class "+g.classInfo.cls.getExternalName()+"."),e(b)});null!==i?(this.setResolved(a,i),e(!0)):(a.throwNewException("Ljava/lang/NoSuchMethodError;","Method "+this.signature+" does not exist in class "+this.classInfo.cls.getExternalName()+"."),e(!1))}else this.classInfo.resolve(a,b,c,function(d){d?g.resolve(a,b,c,e,f):e(!1)},f)},a.prototype.setResolved=function(a,b){this.method=b,this.paramWordSize=d.getMethodDescriptorWordSize(this.nameAndTypeInfo.descriptor),this.fullSignature=this.method.fullSignature,this.jsConstructor=this.method.cls.getConstructor(a)},a.prototype.isResolved=function(){return null!==this.method},a.prototype.getParamWordSize=function(){return-1===this.paramWordSize&&(this.paramWordSize=d.getMethodDescriptorWordSize(this.nameAndTypeInfo.descriptor)),this.paramWordSize},a.fromBytes=function(a,b){var c=a.getUint16(),d=a.getUint16(),e=b.get(c),f=b.get(d);return new this(e,f)},a.size=1,a.infoByteSize=4,a}();c.MethodReference=p,f[e.ConstantPoolItemType.METHODREF]=p;var q=function(){function a(a,b){this.fullSignature=null,this.method=null,this.paramWordSize=-1,this.jsConstructor=null,this.classInfo=a,this.nameAndTypeInfo=b,this.signature=this.nameAndTypeInfo.name+this.nameAndTypeInfo.descriptor}return a.prototype.getType=function(){return e.ConstantPoolItemType.INTERFACE_METHODREF},a.prototype.hasAccess=function(a,b,c){var e=this.method,f=b.method.cls;return e.accessFlags.isStatic()!==c?(a.throwNewException("Ljava/lang/IncompatibleClassChangeError;","Method "+e.name+" from class "+e.cls.getExternalName()+" is "+(c?"not ":"")+"static."),b.returnToThreadLoop=!0,!1):d.checkAccess(f,e.cls,e.accessFlags)?!0:(a.throwNewException("Ljava/lang/IllegalAccessError;",f.getExternalName()+" cannot access "+e.cls.getExternalName()+"."+e.name),b.returnToThreadLoop=!0,!1)},a.prototype.resolve=function(a,b,c,e,f){var g=this;if(void 0===f&&(f=!0),this.classInfo.isResolved()){var h=this.classInfo.cls,i=h.methodLookup(this.signature);this.paramWordSize=d.getMethodDescriptorWordSize(this.nameAndTypeInfo.descriptor),null!==i?(this.setResolved(a,i),e(!0)):(a.throwNewException("Ljava/lang/NoSuchMethodError;","Method "+this.signature+" does not exist in class "+this.classInfo.cls.getExternalName()+"."),e(!1))}else this.classInfo.resolve(a,b,c,function(d){d?g.resolve(a,b,c,e,f):e(!1)},f)},a.prototype.setResolved=function(a,b){this.method=b,this.paramWordSize=d.getMethodDescriptorWordSize(this.nameAndTypeInfo.descriptor),this.fullSignature=this.method.fullSignature,this.jsConstructor=this.method.cls.getConstructor(a)},a.prototype.getParamWordSize=function(){return-1===this.paramWordSize&&(this.paramWordSize=d.getMethodDescriptorWordSize(this.nameAndTypeInfo.descriptor)),this.paramWordSize},a.prototype.isResolved=function(){return null!==this.method},a.fromBytes=function(a,b){var c=a.getUint16(),d=a.getUint16(),e=b.get(c),f=b.get(d);return new this(e,f)},a.size=1,a.infoByteSize=4,a}();c.InterfaceMethodReference=q,f[e.ConstantPoolItemType.INTERFACE_METHODREF]=q;var r=function(){function a(a,b){this.field=null,this.fullFieldName=null,this.fieldOwnerConstructor=null,this.classInfo=a,this.nameAndTypeInfo=b}return a.prototype.getType=function(){return e.ConstantPoolItemType.FIELDREF},a.prototype.hasAccess=function(a,b,c){var e=this.field,f=b.method.cls;return e.accessFlags.isStatic()!==c?(a.throwNewException("Ljava/lang/IncompatibleClassChangeError;","Field "+name+" from class "+e.cls.getExternalName()+" is "+(c?"not ":"")+"static."),b.returnToThreadLoop=!0,!1):d.checkAccess(f,e.cls,e.accessFlags)?!0:(a.throwNewException("Ljava/lang/IllegalAccessError;",f.getExternalName()+" cannot access "+e.cls.getExternalName()+"."+name),b.returnToThreadLoop=!0,!1)},a.prototype.resolve=function(a,b,c,e,f){var g=this;if(void 0===f&&(f=!0),this.classInfo.isResolved()){var h=this.classInfo.cls,i=h.fieldLookup(this.nameAndTypeInfo.name);null!==i?(this.fullFieldName=d.descriptor2typestr(i.cls.getInternalName())+"/"+i.name,this.field=i,e(!0)):(a.throwNewException("Ljava/lang/NoSuchFieldError;","Field "+this.nameAndTypeInfo.name+" does not exist in class "+this.classInfo.cls.getExternalName()+"."),e(!1))}else this.classInfo.resolve(a,b,c,function(d){d?g.resolve(a,b,c,e,f):e(!1)},f)},a.prototype.isResolved=function(){return null!==this.field},a.fromBytes=function(a,b){var c=a.getUint16(),d=a.getUint16(),e=b.get(c),f=b.get(d);return new this(e,f)},a.size=1,a.infoByteSize=4,a}();c.FieldReference=r,f[e.ConstantPoolItemType.FIELDREF]=r;var s=function(){function a(a,b){this.callSiteObjects={},this.methodType=null,this.bootstrapMethodAttrIndex=a,this.nameAndTypeInfo=b,this.paramWordSize=d.getMethodDescriptorWordSize(this.nameAndTypeInfo.descriptor)}return a.prototype.getType=function(){return e.ConstantPoolItemType.INVOKE_DYNAMIC},a.prototype.isResolved=function(){return null!==this.methodType},a.prototype.resolve=function(a,b,c,e){var f=this;d.createMethodType(a,b,this.nameAndTypeInfo.descriptor,function(b,c){b?(a.throwException(b),e(!1)):(f.methodType=c,e(!0))})},a.prototype.getCallSiteObject=function(a){var b=this.callSiteObjects[a];return b?b:null},a.prototype.constructCallSiteObject=function(a,b,c,f,g,h){function i(){var c,d,f=k[1],g=new(a.getBsCl().getInitializedClass(a,"[Ljava/lang/Object;").getConstructor(a))(a,f.length),h=g.array;for(c=0;c<f.length;c++)switch(d=f[c],d.getType()){case e.ConstantPoolItemType.CLASS:h[c]=d.cls.getClassObject(a);break;case e.ConstantPoolItemType.METHOD_HANDLE:h[c]=d.methodHandle;break;case e.ConstantPoolItemType.METHOD_TYPE:h[c]=d.methodType;break;case e.ConstantPoolItemType.STRING:h[c]=d.value;break;case e.ConstantPoolItemType.UTF8:h[c]=a.getJVM().internString(d.value);break;case e.ConstantPoolItemType.INTEGER:h[c]=b.getInitializedClass(a,"I").createWrapperObject(a,d.value);break;case e.ConstantPoolItemType.LONG:h[c]=b.getInitializedClass(a,"J").createWrapperObject(a,d.value);break;case e.ConstantPoolItemType.FLOAT:h[c]=b.getInitializedClass(a,"F").createWrapperObject(a,d.value);break;case e.ConstantPoolItemType.DOUBLE:h[c]=b.getInitializedClass(a,"D").createWrapperObject(a,d.value)}return g}var j=this;void 0===h&&(h=!0);var k=c.getBootstrapMethod(this.bootstrapMethodAttrIndex),l=k[1].concat(k[0],this).filter(function(a){return!a.isResolved()});if(l.length>0)return d.asyncForEach(l,function(d,e){d.resolve(a,b,c,function(a){a?e():e("Failed.")},h)},function(d){d?g(!1):j.constructCallSiteObject(a,b,c,f,g,h)});var m=a.getJVM().internString(this.nameAndTypeInfo.name),n=new(b.getInitializedClass(a,"[Ljava/lang/Object;").getConstructor(a))(a,1),o=i(),p=b.getInitializedClass(a,"Ljava/lang/invoke/MethodHandleNatives;").getConstructor(a);p["java/lang/invoke/MethodHandleNatives/linkCallSite(Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;Ljava/lang/Object;[Ljava/lang/Object;)Ljava/lang/invoke/MemberName;"](a,[c.getClassObject(a),k[0].methodHandle,m,this.methodType,o,n],function(b,c){b?(a.throwException(b),g(!1)):(j.setResolved(f,[c,n.array[0]]),g(!0))})},a.prototype.setResolved=function(a,b){void 0===this.callSiteObjects[a]&&(this.callSiteObjects[a]=b)},a.fromBytes=function(a,b){var c=a.getUint16(),d=a.getUint16(),e=b.get(d);return new this(c,e)},a.size=1,a.infoByteSize=4,a}();c.InvokeDynamic=s,f[e.ConstantPoolItemType.INVOKE_DYNAMIC]=s;var t=function(){function a(a,b){this.methodHandle=null,this.reference=a,this.referenceType=b}return a.prototype.getType=function(){return e.ConstantPoolItemType.METHOD_HANDLE},a.prototype.isResolved=function(){return null!==this.methodHandle},a.prototype.getConstant=function(a){return this.methodHandle},a.prototype.resolve=function(a,b,c,d,e){var f=this;return this.reference.isResolved()?void this.constructMethodHandleType(a,b,function(e){if(null===e)d(!1);else{var g=b.getInitializedClass(a,"Ljava/lang/invoke/MethodHandleNatives;").getConstructor(a);g["linkMethodHandleConstant(Ljava/lang/Class;ILjava/lang/Class;Ljava/lang/String;Ljava/lang/Object;)Ljava/lang/invoke/MethodHandle;"](a,[c.getClassObject(a),f.referenceType,f.getDefiningClassObj(a),a.getJVM().internString(f.reference.nameAndTypeInfo.name),e],function(b,c){b?(a.throwException(b),d(!1)):(f.methodHandle=c,d(!0))})}}):this.reference.resolve(a,b,c,function(g){g?f.resolve(a,b,c,d,e):d(!1)},e)},a.prototype.getDefiningClassObj=function(a){return this.reference.getType()===e.ConstantPoolItemType.FIELDREF?this.reference.field.cls.getClassObject(a):this.reference.method.cls.getClassObject(a)},a.prototype.constructMethodHandleType=function(a,b,c){if(this.reference.getType()===e.ConstantPoolItemType.FIELDREF){var f=this.reference.nameAndTypeInfo.descriptor;b.resolveClass(a,f,function(b){c(null!==b?b.getClassObject(a):null)})}else d.createMethodType(a,b,this.reference.nameAndTypeInfo.descriptor,function(b,d){b?(a.throwException(b),c(null)):c(d)})},a.fromBytes=function(a,b){var c=a.getUint8(),d=a.getUint16(),e=b.get(d);return new this(e,c)},a.size=1,a.infoByteSize=3,a}();c.MethodHandle=t,f[e.ConstantPoolItemType.METHOD_HANDLE]=t;var u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];!function(a){a.forEach(function(a,b){a.forEach(function(a){u[a]=b})})}([[e.ConstantPoolItemType.UTF8,e.ConstantPoolItemType.INTEGER,e.ConstantPoolItemType.FLOAT,e.ConstantPoolItemType.LONG,e.ConstantPoolItemType.DOUBLE],[e.ConstantPoolItemType.CLASS,e.ConstantPoolItemType.STRING,e.ConstantPoolItemType.NAME_AND_TYPE,e.ConstantPoolItemType.METHOD_TYPE],[e.ConstantPoolItemType.FIELDREF,e.ConstantPoolItemType.METHODREF,e.ConstantPoolItemType.INTERFACE_METHODREF,e.ConstantPoolItemType.INVOKE_DYNAMIC],[e.ConstantPoolItemType.METHOD_HANDLE]]);var v=function(){function a(){}return a.prototype.parse=function(a,b){var c=this;void 0===b&&(b=null);var d=a.getUint16(),e=[[],[],[]],g=0,h=1,i=0,j=0,k=0;for(this.constantPool=new Array(d);d>h;)j=a.pos(),i=a.getUint8(),k=u[i],k>0?(e[k-1].push({offset:j,index:h}),a.skip(f[i].infoByteSize)):this.constantPool[h]=f[i].fromBytes(a,this),h+=f[i].size;return g=a.pos(),e.forEach(function(d){d.forEach(function(d){if(a.seek(d.offset),i=a.getUint8(),c.constantPool[d.index]=f[i].fromBytes(a,c),null!==b&&null!==b.array[d.index]&&void 0!==b.array[d.index]){var e=b.array[d.index];switch(e.getClass().getInternalName()){case"Ljava/lang/Integer;":c.constantPool[d.index].value=e["java/lang/Integer/value"];break;case"Ljava/lang/Long;":c.constantPool[d.index].value=e["java/lang/Long/value"];break;case"Ljava/lang/Float;":c.constantPool[d.index].value=e["java/lang/Float/value"];break;case"Ljava/lang/Double;":c.constantPool[d.index].value=e["java/lang/Double/value"];break;case"Ljava/lang/String;":c.constantPool[d.index].value=e.toString();break;case"Ljava/lang/Class;":c.constantPool[d.index].name=e.$cls.getInternalName(),c.constantPool[d.index].cls=e.$cls;break;default:c.constantPool[d.index].stringValue="",c.constantPool[d.index].value=e}}})}),a.seek(g),a},a.prototype.get=function(a){return this.constantPool[a]},a.prototype.each=function(a){this.constantPool.forEach(function(b,c){void 0!==b&&a(c,b)})},a}();c.ConstantPool=v},{"./assert":26,"./enums":31,"./util":47}],21:[function(a,b,c){var d=a("./assert");c.Assert=d;var e=a("./logging");c.Logging=e;var f=a("./difflib");c.Difflib=f},{"./assert":26,"./difflib":29,"./logging":39}],22:[function(a,b,c){var d=a("./enums"),e=(a("./assert"),function(){function a(){this.owner=null,this.count=0,this.blocked={},this.waiting={}}return a.prototype.enter=function(a,b){return this.owner===a?(this.count++,!0):this.contendForLock(a,1,d.ThreadStatus.BLOCKED,b)},a.prototype.contendForLock=function(a,b,c,d){var e=this.owner;return null===e?(this.owner=a,this.count=b,!0):(this.blocked[a.getRef()]={thread:a,cb:d,count:b},a.setStatus(c,this),!1)},a.prototype.exit=function(a){var b=this.owner;return b===a?0===--this.count&&(this.owner=null,this.appointNewOwner()):a.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot exit a monitor that you do not own."),b===a},a.prototype.appointNewOwner=function(){var a=Object.keys(this.blocked);if(a.length>0){var b=a[Math.floor(Math.random()*a.length)],c=this.blocked[b];this.unblock(c.thread,!1)}},a.prototype.wait=function(a,b,c,e){var f=this;return this.getOwner()===a?(this.waiting[a.getRef()]={thread:a,cb:b,count:this.count,isTimed:null!=c&&0!==c},this.owner=null,this.count=0,null!=c&&0!==c?(this.waiting[a.getRef()].timer=setTimeout(function(){f.unwait(a,!0)},c),a.setStatus(d.ThreadStatus.TIMED_WAITING,this)):a.setStatus(d.ThreadStatus.WAITING,this),this.appointNewOwner(),!0):(a.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot wait on an object that you do not own."),!1)},a.prototype.unwait=function(a,b,c,e){void 0===c&&(c=!1),void 0===e&&(e=null);var f=this.waiting[a.getRef()],g=d.ThreadStatus.UNINTERRUPTABLY_BLOCKED,h=function(){a.setStatus(d.ThreadStatus.RUNNABLE),c?e():f.cb(b)};if(delete this.waiting[a.getRef()],a.getStatus()===d.ThreadStatus.TIMED_WAITING&&!b){var i=f.timer;clearTimeout(i)}this.contendForLock(a,f.count,g,h)&&h()},a.prototype.unblock=function(a,b){void 0===b&&(b=!1);var c=this.blocked[a.getRef()];null!=c&&(delete this.blocked[a.getRef()],a.setStatus(d.ThreadStatus.RUNNABLE),b||(this.owner=a,this.count=c.count,c.cb()))},a.prototype.notify=function(a){if(this.owner===a){var b=Object.keys(this.waiting);b.length>0&&this.unwait(this.waiting[b[Math.floor(Math.random()*b.length)]].thread,!1)}else a.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot notify on a monitor that you do not own.")},a.prototype.notifyAll=function(a){if(this.owner===a){var b,c=Object.keys(this.waiting);for(b=0;b<c.length;b++)this.unwait(this.waiting[c[b]].thread,!1)}else a.throwNewException("Ljava/lang/IllegalMonitorStateException;","Cannot notifyAll on a monitor that you do not own.")},a.prototype.getOwner=function(){return this.owner},a.prototype.isWaiting=function(a){return null!=this.waiting[a.getRef()]&&!this.waiting[a.getRef()].isTimed},a.prototype.isTimedWaiting=function(a){return null!=this.waiting[a.getRef()]&&this.waiting[a.getRef()].isTimed},a.prototype.isBlocked=function(a){return null!=this.blocked[a.getRef()]},a}());b.exports=e},{"./assert":26,"./enums":31}],23:[function(a,b,c){var d=function(){function a(){this.cache=Object.create(null)}return a.prototype.fixKey=function(a){return";"+a},a.prototype.get=function(a){return a=this.fixKey(a),void 0!==this.cache[a]?this.cache[a]:void 0},a.prototype.has=function(a){return void 0!==this.get(a)},a.prototype.set=function(a,b){this.cache[this.fixKey(a)]=b},a}();b.exports=d},{}],24:[function(a,b,c){var d=function(){function a(){this._data=[]}return a.prototype.write=function(a){this._data.push(a)},a.prototype.flush=function(){var a=this._data.join("");return this._data=[],a},a}();b.exports=d},{}],25:[function(a,b,c){var d=a("./jvm");c.JVM=d;var e=a("./java_cli");c.CLI=e;var f=a("./ClassFile");c.ClassFile=f;var g=a("./threading");c.Threading=g;var h=a("./gLong");c.Long=h;var i=a("./util");c.Util=i;var j=a("./enums");c.Enums=j;var k=a("./interfaces");c.Interfaces=k;var l=a("./Monitor");c.Monitor=l},{"./ClassFile":17,"./Monitor":22,"./enums":31,"./gLong":32,"./interfaces":36,"./java_cli":37,"./jvm":38,"./threading":45,"./util":47}],26:[function(a,b,c){function d(a,b,c){if(!a)throw new Error("Assertion failed: "+b+"\n"+(c?c.getPrintableStackTrace():""))}b.exports=d},{}],27:[function(a,b,c){"use strict";function d(a,b){for(var c={Code:h,LineNumberTable:i,SourceFile:j,StackMapTable:k,LocalVariableTable:l,LocalVariableTypeTable:m,ConstantValue:p,Exceptions:n,InnerClasses:o,Synthetic:q,Deprecated:r,Signature:s,RuntimeVisibleAnnotations:t,AnnotationDefault:u,EnclosingMethod:v,BootstrapMethods:w,RuntimeVisibleParameterAnnotations:x},d=a.getUint16(),e=[],f=0;d>f;f++){var g=b.get(a.getUint16()).value,y=a.getUint32();if(null!=c[g]){var z=a.size(),A=c[g].parse(a,b,y,g),B=a.size();z-B!==y&&a.skip(y-z+B),e.push(A)}else a.skip(y)}return e}var e=a("./util"),f=a("./enums"),g=(a("./assert"),a("./global"),function(){function a(a,b,c,d){this.startPC=a,this.endPC=b,this.handlerPC=c,this.catchType=d}return a.prototype.getName=function(){return"ExceptionHandler"},a.parse=function(a,b){var c=a.getUint16(),d=a.getUint16(),e=a.getUint16(),f=a.getUint16(),g=0===f?"<any>":b.get(f).name;return new this(c,d,e,g)},a}());c.ExceptionHandler=g;var h=function(){function a(a,b,c,d,e){
this.maxStack=a,this.maxLocals=b,this.exceptionHandlers=c,this.attrs=d,this.code=e}return a.prototype.getName=function(){return"Code"},a.parse=function(a,b){var c=a.getUint16(),e=a.getUint16(),f=a.getUint32();if(0===f)throw"Error parsing code: Code length is zero";for(var h=a.slice(f).getBuffer(),i=a.getUint16(),j=[],k=0;i>k;k++)j.push(g.parse(a,b));var l=d(a,b);return new this(c,e,j,l,h)},a.prototype.getCode=function(){return this.code},a.prototype.getAttribute=function(a){for(var b=0;b<this.attrs.length;b++){var c=this.attrs[b];if(c.getName()===a)return c}return null},a}();c.Code=h;var i=function(){function a(a){this.entries=a}return a.prototype.getName=function(){return"LineNumberTable"},a.prototype.getLineNumber=function(a){var b,c=-1;for(b=0;b<this.entries.length;b++){var d=this.entries[b];if(!(d.startPC<=a))break;c=d.lineNumber}return c},a.parse=function(a,b){for(var c=[],d=a.getUint16(),e=0;d>e;e++){var f=a.getUint16(),g=a.getUint16();c.push({startPC:f,lineNumber:g})}return new this(c)},a}();c.LineNumberTable=i;var j=function(){function a(a){this.filename=a}return a.prototype.getName=function(){return"SourceFile"},a.parse=function(a,b){return new this(b.get(a.getUint16()).value)},a}();c.SourceFile=j;var k=function(){function a(a){this.entries=a}return a.prototype.getName=function(){return"StackMapTable"},a.parse=function(a,b){for(var c=a.getUint16(),d=[],e=0;c>e;e++)d.push(this.parseEntry(a,b));return new this(d)},a.parseEntry=function(a,b){var c,d,e,g=a.getUint8();if(64>g)return{type:f.StackMapTableEntryType.SAME_FRAME,offsetDelta:g};if(128>g)return{type:f.StackMapTableEntryType.SAME_LOCALS_1_STACK_ITEM_FRAME,offsetDelta:g-64,stack:[this.parseVerificationTypeInfo(a,b)]};if(247>g);else{if(247===g)return{type:f.StackMapTableEntryType.SAME_LOCALS_1_STACK_ITEM_FRAME_EXTENDED,offsetDelta:a.getUint16(),stack:[this.parseVerificationTypeInfo(a,b)]};if(251>g)return{type:f.StackMapTableEntryType.CHOP_FRAME,offsetDelta:a.getUint16(),k:251-g};if(251===g)return{type:f.StackMapTableEntryType.SAME_FRAME_EXTENDED,offsetDelta:a.getUint16()};if(255>g){for(d=a.getUint16(),c=[],e=0;g-251>e;e++)c.push(this.parseVerificationTypeInfo(a,b));return{type:f.StackMapTableEntryType.APPEND_FRAME,offsetDelta:d,locals:c}}if(255===g){d=a.getUint16();var h=a.getUint16();for(c=[],e=0;h>e;e++)c.push(this.parseVerificationTypeInfo(a,b));var i=a.getUint16(),j=[];for(e=0;i>e;e++)j.push(this.parseVerificationTypeInfo(a,b));return{type:f.StackMapTableEntryType.FULL_FRAME,offsetDelta:d,numLocals:h,locals:c,numStackItems:i,stack:j}}}},a.parseVerificationTypeInfo=function(a,b){var c=a.getUint8();if(7===c){var d=b.get(a.getUint16()).name;return"class "+(/\w/.test(d[0])?e.descriptor2typestr(d):'"'+d+'"')}if(8===c)return"uninitialized "+a.getUint16();var f=["bogus","int","float","double","long","null","this","object","uninitialized"];return f[c]},a}();c.StackMapTable=k;var l=function(){function a(a){this.entries=a}return a.prototype.getName=function(){return"LocalVariableTable"},a.parse=function(a,b){for(var c=a.getUint16(),d=[],e=0;c>e;e++)d.push(this.parseEntries(a,b));return new this(d)},a.parseEntries=function(a,b){return{startPC:a.getUint16(),length:a.getUint16(),name:b.get(a.getUint16()).value,descriptor:b.get(a.getUint16()).value,ref:a.getUint16()}},a}();c.LocalVariableTable=l;var m=function(){function a(a){this.entries=a}return a.prototype.getName=function(){return"LocalVariableTypeTable"},a.parse=function(a,b){var c,d=a.getUint16(),e=[];for(c=0;d>c;c++)e.push(this.parseTableEntry(a,b));return new this(e)},a.parseTableEntry=function(a,b){return{startPC:a.getUint16(),length:a.getUint16(),name:b.get(a.getUint16()).value,signature:b.get(a.getUint16()).value,index:a.getUint16()}},a}();c.LocalVariableTypeTable=m;var n=function(){function a(a){this.exceptions=a}return a.prototype.getName=function(){return"Exceptions"},a.parse=function(a,b){for(var c=a.getUint16(),d=[],e=0;c>e;e++)d.push(a.getUint16());return new this(d.map(function(a){return b.get(a).name}))},a}();c.Exceptions=n;var o=function(){function a(a){this.classes=a}return a.prototype.getName=function(){return"InnerClasses"},a.parse=function(a,b){for(var c=a.getUint16(),d=[],e=0;c>e;e++)d.push(this.parseClass(a,b));return new this(d)},a.parseClass=function(a,b){return{innerInfoIndex:a.getUint16(),outerInfoIndex:a.getUint16(),innerNameIndex:a.getUint16(),innerAccessFlags:a.getUint16()}},a}();c.InnerClasses=o;var p=function(){function a(a){this.value=a}return a.prototype.getName=function(){return"ConstantValue"},a.parse=function(a,b){var c=a.getUint16();return new this(b.get(c))},a}();c.ConstantValue=p;var q=function(){function a(){}return a.prototype.getName=function(){return"Synthetic"},a.parse=function(a,b){return new this},a}();c.Synthetic=q;var r=function(){function a(){}return a.prototype.getName=function(){return"Deprecated"},a.parse=function(a,b){return new this},a}();c.Deprecated=r;var s=function(){function a(a){this.sig=a}return a.prototype.getName=function(){return"Signature"},a.parse=function(a,b){return new this(b.get(a.getUint16()).value)},a}();c.Signature=s;var t=function(){function a(a,b,c,d){this.rawBytes=a,this.isHidden=b,this.isCallerSensitive=c,this.isCompiled=d}return a.prototype.getName=function(){return"RuntimeVisibleAnnotations"},a.parse=function(a,b,c){function d(){a.skip(2);var b,c=a.getUint16();for(b=0;c>b;b++)a.skip(2),e()}function e(){var b=String.fromCharCode(a.getUint8());switch(b){case"e":a.skip(2);case"Z":case"B":case"C":case"S":case"I":case"F":case"J":case"D":case"s":case"c":a.skip(2);break;case"@":d();break;case"[":var c,f=a.getUint16();for(c=0;f>c;c++)e()}}var f=a.read(c),g=!1,h=!1,i=!1;a.seek(a.pos()-f.length);var j,k=a.getUint16();for(j=0;k>j;j++){var l=b.get(a.getUint16());switch(a.seek(a.pos()-2),d(),l.value){case"Ljava/lang/invoke/LambdaForm$Hidden;":g=!0;break;case"Lsig/sun/reflect/CallerSensitive;":i=!0;break;case"Lsig/java/lang/invoke/LambdaForm$Compiled":h=!0}}return new this(f,g,i,h)},a}();c.RuntimeVisibleAnnotations=t;var u=function(){function a(a){this.rawBytes=a}return a.prototype.getName=function(){return"AnnotationDefault"},a.parse=function(a,b,c){return new this(a.read(c))},a}();c.AnnotationDefault=u;var v=function(){function a(a,b){this.encClass=a,this.encMethod=b}return a.prototype.getName=function(){return"EnclosingMethod"},a.parse=function(a,b){var c=b.get(a.getUint16()),d=a.getUint16(),e=null;return d>0&&(e=b.get(d)),new this(c,e)},a}();c.EnclosingMethod=v;var w=function(){function a(a){this.bootstrapMethods=a}return a.prototype.getName=function(){return"BootstrapMethods"},a.parse=function(a,b){for(var c=a.getUint16(),d=[],e=0;c>e;e++){for(var f=b.get(a.getUint16()),g=a.getUint16(),h=[],i=0;g>i;i++)h.push(b.get(a.getUint16()));d.push([f,h])}return new this(d)},a}();c.BootstrapMethods=w;var x=function(){function a(a){this.rawBytes=a}return a.prototype.getName=function(){return"RuntimeVisibleParameterAnnotations"},a.parse=function(a,b,c){return new this(a.read(c))},a}();c.RuntimeVisibleParameterAnnotations=x,c.makeAttributes=d},{"./assert":26,"./enums":31,"./global":33,"./util":47}],28:[function(a,b,c){(function(b){function d(a){return a.replace(/\\/g,"/")}function e(a){for(var b=a.split("\n"),c={},d=null,e=0;e<b.length;e++){var f=b[e];if(f.length>0)switch(f[0]){case"%":case"@":continue;case"!":case"#":var g=f.slice(2);c[g]=d={};break;default:"/"===f[f.length-1]&&(f=f.slice(0,f.length-1));var h=f.split("/"),i=d,j=void 0;for(j=0;j<h.length-1;j++){var k=h[j],l=i[k];i=l?i[k]:i[k]={}}i[h[j]]=!0}}return c}function f(a,b,c){var d=new Array(b.length),f=0;i.readFile(j.join(a,"lib","meta-index"),function(g,h){var k={};g||(k=e(h.toString())),l.asyncForEach(b,function(b,c){var e=j.relative(a+"/lib",b);i.stat(b,function(a,g){var h;h=a?new s(b):g.isDirectory()?new r(b):k[e]?new q(k[e],b):new p(b),d[f++]=h,h.initialize(c)})},function(a){c(d)})})}var g=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},h=a("./enums"),i=(a("./assert"),a("fs")),j=a("path"),k="undefined"!=typeof window?window.BrowserFS:"undefined"!=typeof b?b.BrowserFS:null,l=a("./util"),m=k.BFSRequire("fs"),n=k.FileSystem.ZipFS,o=function(){function a(a){this._fs=new m.FS,this._jarRead=h.TriState.INDETERMINATE,this._path=a}return a.prototype.getPath=function(){return this._path},a.prototype.loadJar=function(a){var b=this;this._jarRead!==h.TriState.TRUE?i.readFile(this._path,function(c,d){if(c)b._jarRead=h.TriState.FALSE,a(c);else try{b._fs.initialize(new n(d,j.basename(b._path))),b._jarRead=h.TriState.TRUE,a()}catch(c){b._jarRead=h.TriState.FALSE,a(c)}}):setImmediate(function(){return a(b._jarRead===h.TriState.TRUE?null:new Error("Failed to load JAR file."))})},a.prototype.tryLoadClassSync=function(a){if(this._jarRead!==h.TriState.TRUE)return null;if(this.hasClass(a)===h.TriState.FALSE)return null;try{return this._fs.readFileSync("/"+a+".class")}catch(b){return null}},a.prototype._wrapOp=function(a,b){var c=this;switch(this._jarRead){case h.TriState.TRUE:a();break;case h.TriState.FALSE:setImmediate(function(){return b(new Error("Unable to load JAR file."))});break;default:this.loadJar(function(){c._wrapOp(a,b)})}},a.prototype._wrapSyncOp=function(a){if(this._jarRead!==h.TriState.TRUE)return null;try{return a()}catch(b){return null}},a.prototype.loadClass=function(a,b){var c=this;this._wrapOp(function(){c._fs.readFile("/"+a+".class",b)},b)},a.prototype.statResource=function(a,b){var c=this;this._wrapOp(function(){c._fs.stat(a,b)},b)},a.prototype.readdir=function(a,b){var c=this;this._wrapOp(function(){c._fs.readdir(d(a),b)},b)},a.prototype.tryReaddirSync=function(a){var b=this;return this._wrapSyncOp(function(){return b._fs.readdirSync(d(a))})},a.prototype.tryStatSync=function(a){var b=this;return this._wrapSyncOp(function(){return b._fs.statSync(d(a))})},a.prototype.getFS=function(){return this._fs.getRootFS()},a}();c.AbstractClasspathJar=o;var p=function(a){function b(b){a.call(this,b),this._classList=null}return g(b,a),b.prototype.hasClass=function(a){return this._jarRead===h.TriState.FALSE?h.TriState.FALSE:this._hasClass(a)},b.prototype._hasClass=function(a){return this._classList?this._classList[a]?h.TriState.TRUE:h.TriState.FALSE:h.TriState.INDETERMINATE},b.prototype.initializeWithClasslist=function(a){this._classList={};for(var b=a.length,c=0;b>c;c++)this._classList[a[c]]=!0},b.prototype.initialize=function(a){var b=this;this.loadJar(function(c){if(c)a();else{for(var d=["/"],e=[],f=b._fs;d.length>0;){var g=d.pop();try{var h=f.statSync(g);if(h.isDirectory())for(var i=f.readdirSync(g),k=0;k<i.length;k++)d.push(j.join(g,i[k]));else".class"===j.extname(g)&&e.push(g.slice(1,g.length-6))}catch(l){}}b.initializeWithClasslist(e),a()}})},b}(o);c.UnindexedClasspathJar=p;var q=function(a){function b(b,c){a.call(this,c),this._metaIndex=b,this._metaName=j.basename(c)}return g(b,a),b.prototype.initialize=function(a){setImmediate(function(){return a()})},b.prototype.hasClass=function(a){if(this._jarRead===h.TriState.FALSE)return h.TriState.FALSE;var b=a.split("/"),c=this._metaIndex;b.pop();for(var d=0;d<b.length;d++){var e=c[b[d]];if(!e)return h.TriState.FALSE;if(e===!0)return h.TriState.INDETERMINATE;c=e}return h.TriState.FALSE},b}(o);c.IndexedClasspathJar=q;var r=function(){function a(a){this._path=a}return a.prototype.getPath=function(){return this._path},a.prototype.hasClass=function(a){return h.TriState.INDETERMINATE},a.prototype.initialize=function(a){setImmediate(a)},a.prototype.tryLoadClassSync=function(a){try{return i.readFileSync(j.resolve(this._path,a+".class"))}catch(b){return null}},a.prototype.loadClass=function(a,b){i.readFile(j.resolve(this._path,a+".class"),b)},a.prototype.statResource=function(a,b){i.stat(j.resolve(this._path,a),b)},a.prototype.readdir=function(a,b){i.readdir(j.resolve(this._path,a),b)},a.prototype.tryReaddirSync=function(a){try{return i.readdirSync(j.resolve(this._path,a))}catch(b){return null}},a.prototype.tryStatSync=function(a){try{return i.statSync(j.resolve(this._path,a))}catch(b){return null}},a}();c.ClasspathFolder=r;var s=function(){function a(a){this._path=a}return a.prototype.getPath=function(){return this._path},a.prototype.hasClass=function(a){return h.TriState.FALSE},a.prototype.initialize=function(a){setImmediate(a)},a.prototype.initializeWithClasslist=function(a){},a.prototype.tryLoadClassSync=function(a){return null},a.prototype._notFoundError=function(a){setImmediate(function(){return a(new Error("Class cannot be found."))})},a.prototype.loadClass=function(a,b){this._notFoundError(b)},a.prototype.statResource=function(a,b){this._notFoundError(b)},a.prototype.readdir=function(a,b){this._notFoundError(b)},a.prototype.tryReaddirSync=function(a){return null},a.prototype.tryStatSync=function(a){return null},a}();c.ClasspathNotFound=s,c.ClasspathFactory=f}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./assert":26,"./enums":31,"./util":47,fs:13,path:14}],29:[function(a,b,c){function d(a,b,c){return new g(a,b).text_diff(c)}function e(a,b){for(var c=Math.max(a.length,b.length),d=0;c>d;d++){if(a[d]<b[d])return-1;if(a[d]>b[d])return 1}return a.length==b.length?0:a.length<b.length?-1:1}function f(a,b,c){return a.hasOwnProperty(b)?a[b]:c}c.text_diff=d;var g=function(){function a(a,b){this.a=a,this.b=b,this.b2j={};for(var c=0;c<b.length;c++){var d=b[c];this.b2j.hasOwnProperty(d)?this.b2j[d].push(c):this.b2j[d]=[c]}}return a.prototype.find_longest_match=function(a,b,c,d){for(var e=this.a,g=this.b,h=this.b2j,i=a,j=c,k=0,l={},m=a;b>m;m++){var n={},o=f(h,e[m],[]);for(var p in o)if(o.hasOwnProperty(p)){var q=o[p];if(c>q)continue;if(q>=d)break;var r=f(l,q-1,0)+1;n[q]=r,r>k&&(i=m-r+1,j=q-r+1,k=r)}l=n}for(;i>a&&j>c&&e[i-1]==g[j-1];)i--,j--,k++;for(;b>i+k&&d>j+k&&e[i+k]==g[j+k];)k++;return[i,j,k]},a.prototype.get_matching_blocks=function(){if(null!=this.matching_blocks)return this.matching_blocks;for(var a=this.a.length,b=this.b.length,c=[[0,a,0,b]],d=[];c.length;){var f=c.pop(),g=f[0],h=f[1],i=f[2],j=f[3],k=this.find_longest_match(g,h,i,j),l=k[0],m=k[1],n=k[2];n&&(d.push(k),l>g&&m>i&&c.push([g,l,i,m]),h>l+n&&j>m+n&&c.push([l+n,h,m+n,j]))}d.sort(e);for(var o=0,p=0,q=0,r=[],s=0;s<d.length;s++){var t=d[s],u=t[0],v=t[1],w=t[2];o+q==u&&p+q==v?q+=w:(q&&r.push([o,p,q]),o=u,p=v,q=w)}return q&&r.push([o,p,q]),r.push([a,b,0]),this.matching_blocks=r,this.matching_blocks},a.prototype.get_opcodes=function(){if(null!=this.opcodes)return this.opcodes;var a=0,b=0,c=[];this.opcodes=c;for(var d=this.get_matching_blocks(),e=0;e<d.length;e++){var f=d[e],g=f[0],h=f[1],i=f[2],j="";g>a&&h>b?j="replace":g>a?j="delete":h>b&&(j="insert"),j&&c.push([j,a,g,b,h]),a=g+i,b=h+i,i&&c.push(["equal",g,a,h,b])}return c},a.prototype.text_diff=function(a){for(var b=this.get_opcodes(),c=[],d=[],e=[],f=0,g=-1,h=0;h<b.length;h++){var i=b[h];if("equal"!==i[0]){var j=i[1],k=i[3],l=i[2]-1,m=i[4]-1,n=Math.min(j,k),o=Math.max(l,m),p="";switch(i[0]){case"delete":p=" < ";break;case"insert":p=" > ";break;case"replace":p=" | "}for(var q=Math.max(g+1,n-a);n>q;q++){var r=q+": ";q<this.a.length?(d.push(r+this.a[q]),f=Math.max(f,this.a[q].length+r.length)):d.push(r),q<this.b.length?e.push(this.b[q]):e.push(""),c.push("   ")}for(var q=n;o>=q;q++){var r=q+": ";q>=j&&l>=q?(d.push(r+this.a[q]),f=Math.max(f,this.a[q].length+r.length)):d.push(r),q>=k&&m>=q?e.push(this.b[q]):e.push(""),c.push(p)}g=o}}for(var q=0;q<c.length;q++){var s=d[q],t=e[q];s.length<f&&(s+=new Array(f-s.length+1).join(" ")),c[q]=s+c[q]+t}return c},a}();c.SequenceMatcher=g},{}],30:[function(a,b,c){var d=a("./testing");c.Testing=d;var e=a("./heap");c.Heap=e;var f=a("./VM");c.VM=f;var g=a("./Debug");c.Debug=g},{"./Debug":21,"./VM":25,"./heap":34,"./testing":44}],31:[function(a,b,c){"use strict";function d(a,b){b.forEach(function(b){g[b]=a})}!function(a){a[a.NOT_LOADED=0]="NOT_LOADED",a[a.LOADED=1]="LOADED",a[a.RESOLVED=2]="RESOLVED",a[a.INITIALIZED=3]="INITIALIZED"}(c.ClassState||(c.ClassState={}));c.ClassState;!function(a){a[a.NEW=0]="NEW",a[a.RUNNABLE=1]="RUNNABLE",a[a.BLOCKED=2]="BLOCKED",a[a.UNINTERRUPTABLY_BLOCKED=3]="UNINTERRUPTABLY_BLOCKED",a[a.WAITING=4]="WAITING",a[a.TIMED_WAITING=5]="TIMED_WAITING",a[a.ASYNC_WAITING=6]="ASYNC_WAITING",a[a.PARKED=7]="PARKED",a[a.TERMINATED=8]="TERMINATED"}(c.ThreadStatus||(c.ThreadStatus={}));c.ThreadStatus;!function(a){a[a.ALIVE=1]="ALIVE",a[a.TERMINATED=2]="TERMINATED",a[a.RUNNABLE=4]="RUNNABLE",a[a.BLOCKED_ON_MONITOR_ENTER=1024]="BLOCKED_ON_MONITOR_ENTER",a[a.WAITING_INDEFINITELY=16]="WAITING_INDEFINITELY",a[a.WAITING_WITH_TIMEOUT=32]="WAITING_WITH_TIMEOUT"}(c.JVMTIThreadState||(c.JVMTIThreadState={}));c.JVMTIThreadState;!function(a){a[a.TRUE=0]="TRUE",a[a.FALSE=1]="FALSE",a[a.INDETERMINATE=2]="INDETERMINATE"}(c.TriState||(c.TriState={}));c.TriState;!function(a){a[a.BOOTING=0]="BOOTING",a[a.BOOTED=1]="BOOTED",a[a.RUNNING=2]="RUNNING",a[a.TERMINATING=3]="TERMINATING",a[a.TERMINATED=4]="TERMINATED"}(c.JVMStatus||(c.JVMStatus={}));c.JVMStatus;!function(a){a[a.INTERNAL=0]="INTERNAL",a[a.BYTECODE=1]="BYTECODE",a[a.NATIVE=2]="NATIVE"}(c.StackFrameType||(c.StackFrameType={}));c.StackFrameType;!function(a){a[a.INT_MAX=Math.pow(2,31)-1]="INT_MAX",a[a.INT_MIN=-a.INT_MAX-1]="INT_MIN",a[a.FLOAT_POS_INFINITY=Math.pow(2,128)]="FLOAT_POS_INFINITY",a[a.FLOAT_NEG_INFINITY=-1*a.FLOAT_POS_INFINITY]="FLOAT_NEG_INFINITY",a[a.FLOAT_POS_INFINITY_AS_INT=2139095040]="FLOAT_POS_INFINITY_AS_INT",a[a.FLOAT_NEG_INFINITY_AS_INT=-8388608]="FLOAT_NEG_INFINITY_AS_INT",a[a.FLOAT_NaN_AS_INT=2143289344]="FLOAT_NaN_AS_INT"}(c.Constants||(c.Constants={}));c.Constants;!function(a){a[a.CLASS=7]="CLASS",a[a.FIELDREF=9]="FIELDREF",a[a.METHODREF=10]="METHODREF",a[a.INTERFACE_METHODREF=11]="INTERFACE_METHODREF",a[a.STRING=8]="STRING",a[a.INTEGER=3]="INTEGER",a[a.FLOAT=4]="FLOAT",a[a.LONG=5]="LONG",a[a.DOUBLE=6]="DOUBLE",a[a.NAME_AND_TYPE=12]="NAME_AND_TYPE",a[a.UTF8=1]="UTF8",a[a.METHOD_HANDLE=15]="METHOD_HANDLE",a[a.METHOD_TYPE=16]="METHOD_TYPE",a[a.INVOKE_DYNAMIC=18]="INVOKE_DYNAMIC"}(c.ConstantPoolItemType||(c.ConstantPoolItemType={}));c.ConstantPoolItemType;!function(a){a[a.SAME_FRAME=0]="SAME_FRAME",a[a.SAME_LOCALS_1_STACK_ITEM_FRAME=1]="SAME_LOCALS_1_STACK_ITEM_FRAME",a[a.SAME_LOCALS_1_STACK_ITEM_FRAME_EXTENDED=2]="SAME_LOCALS_1_STACK_ITEM_FRAME_EXTENDED",a[a.CHOP_FRAME=3]="CHOP_FRAME",a[a.SAME_FRAME_EXTENDED=4]="SAME_FRAME_EXTENDED",a[a.APPEND_FRAME=5]="APPEND_FRAME",a[a.FULL_FRAME=6]="FULL_FRAME"}(c.StackMapTableEntryType||(c.StackMapTableEntryType={}));c.StackMapTableEntryType;!function(a){a[a.GETFIELD=1]="GETFIELD",a[a.GETSTATIC=2]="GETSTATIC",a[a.PUTFIELD=3]="PUTFIELD",a[a.PUTSTATIC=4]="PUTSTATIC",a[a.INVOKEVIRTUAL=5]="INVOKEVIRTUAL",a[a.INVOKESTATIC=6]="INVOKESTATIC",a[a.INVOKESPECIAL=7]="INVOKESPECIAL",a[a.NEWINVOKESPECIAL=8]="NEWINVOKESPECIAL",a[a.INVOKEINTERFACE=9]="INVOKEINTERFACE"}(c.MethodHandleReferenceKind||(c.MethodHandleReferenceKind={}));c.MethodHandleReferenceKind;!function(a){a[a.AALOAD=50]="AALOAD",a[a.AASTORE=83]="AASTORE",a[a.ACONST_NULL=1]="ACONST_NULL",a[a.ALOAD=25]="ALOAD",a[a.ALOAD_0=42]="ALOAD_0",a[a.ALOAD_1=43]="ALOAD_1",a[a.ALOAD_2=44]="ALOAD_2",a[a.ALOAD_3=45]="ALOAD_3",a[a.ANEWARRAY=189]="ANEWARRAY",a[a.ARETURN=176]="ARETURN",a[a.ARRAYLENGTH=190]="ARRAYLENGTH",a[a.ASTORE=58]="ASTORE",a[a.ASTORE_0=75]="ASTORE_0",a[a.ASTORE_1=76]="ASTORE_1",a[a.ASTORE_2=77]="ASTORE_2",a[a.ASTORE_3=78]="ASTORE_3",a[a.ATHROW=191]="ATHROW",a[a.BALOAD=51]="BALOAD",a[a.BASTORE=84]="BASTORE",a[a.BIPUSH=16]="BIPUSH",a[a.BREAKPOINT=202]="BREAKPOINT",a[a.CALOAD=52]="CALOAD",a[a.CASTORE=85]="CASTORE",a[a.CHECKCAST=192]="CHECKCAST",a[a.D2F=144]="D2F",a[a.D2I=142]="D2I",a[a.D2L=143]="D2L",a[a.DADD=99]="DADD",a[a.DALOAD=49]="DALOAD",a[a.DASTORE=82]="DASTORE",a[a.DCMPG=152]="DCMPG",a[a.DCMPL=151]="DCMPL",a[a.DCONST_0=14]="DCONST_0",a[a.DCONST_1=15]="DCONST_1",a[a.DDIV=111]="DDIV",a[a.DLOAD=24]="DLOAD",a[a.DLOAD_0=38]="DLOAD_0",a[a.DLOAD_1=39]="DLOAD_1",a[a.DLOAD_2=40]="DLOAD_2",a[a.DLOAD_3=41]="DLOAD_3",a[a.DMUL=107]="DMUL",a[a.DNEG=119]="DNEG",a[a.DREM=115]="DREM",a[a.DRETURN=175]="DRETURN",a[a.DSTORE=57]="DSTORE",a[a.DSTORE_0=71]="DSTORE_0",a[a.DSTORE_1=72]="DSTORE_1",a[a.DSTORE_2=73]="DSTORE_2",a[a.DSTORE_3=74]="DSTORE_3",a[a.DSUB=103]="DSUB",a[a.DUP=89]="DUP",a[a.DUP_X1=90]="DUP_X1",a[a.DUP_X2=91]="DUP_X2",a[a.DUP2=92]="DUP2",a[a.DUP2_X1=93]="DUP2_X1",a[a.DUP2_X2=94]="DUP2_X2",a[a.F2D=141]="F2D",a[a.F2I=139]="F2I",a[a.F2L=140]="F2L",a[a.FADD=98]="FADD",a[a.FALOAD=48]="FALOAD",a[a.FASTORE=81]="FASTORE",a[a.FCMPG=150]="FCMPG",a[a.FCMPL=149]="FCMPL",a[a.FCONST_0=11]="FCONST_0",a[a.FCONST_1=12]="FCONST_1",a[a.FCONST_2=13]="FCONST_2",a[a.FDIV=110]="FDIV",a[a.FLOAD=23]="FLOAD",a[a.FLOAD_0=34]="FLOAD_0",a[a.FLOAD_1=35]="FLOAD_1",a[a.FLOAD_2=36]="FLOAD_2",a[a.FLOAD_3=37]="FLOAD_3",a[a.FMUL=106]="FMUL",a[a.FNEG=118]="FNEG",a[a.FREM=114]="FREM",a[a.FRETURN=174]="FRETURN",a[a.FSTORE=56]="FSTORE",a[a.FSTORE_0=67]="FSTORE_0",a[a.FSTORE_1=68]="FSTORE_1",a[a.FSTORE_2=69]="FSTORE_2",a[a.FSTORE_3=70]="FSTORE_3",a[a.FSUB=102]="FSUB",a[a.GETFIELD=180]="GETFIELD",a[a.GETSTATIC=178]="GETSTATIC",a[a.GOTO=167]="GOTO",a[a.GOTO_W=200]="GOTO_W",a[a.I2B=145]="I2B",a[a.I2C=146]="I2C",a[a.I2D=135]="I2D",a[a.I2F=134]="I2F",a[a.I2L=133]="I2L",a[a.I2S=147]="I2S",a[a.IADD=96]="IADD",a[a.IALOAD=46]="IALOAD",a[a.IAND=126]="IAND",a[a.IASTORE=79]="IASTORE",a[a.ICONST_M1=2]="ICONST_M1",a[a.ICONST_0=3]="ICONST_0",a[a.ICONST_1=4]="ICONST_1",a[a.ICONST_2=5]="ICONST_2",a[a.ICONST_3=6]="ICONST_3",a[a.ICONST_4=7]="ICONST_4",a[a.ICONST_5=8]="ICONST_5",a[a.IDIV=108]="IDIV",a[a.IF_ACMPEQ=165]="IF_ACMPEQ",a[a.IF_ACMPNE=166]="IF_ACMPNE",a[a.IF_ICMPEQ=159]="IF_ICMPEQ",a[a.IF_ICMPGE=162]="IF_ICMPGE",a[a.IF_ICMPGT=163]="IF_ICMPGT",a[a.IF_ICMPLE=164]="IF_ICMPLE",a[a.IF_ICMPLT=161]="IF_ICMPLT",a[a.IF_ICMPNE=160]="IF_ICMPNE",a[a.IFEQ=153]="IFEQ",a[a.IFGE=156]="IFGE",a[a.IFGT=157]="IFGT",a[a.IFLE=158]="IFLE",a[a.IFLT=155]="IFLT",a[a.IFNE=154]="IFNE",a[a.IFNONNULL=199]="IFNONNULL",a[a.IFNULL=198]="IFNULL",a[a.IINC=132]="IINC",a[a.ILOAD=21]="ILOAD",a[a.ILOAD_0=26]="ILOAD_0",a[a.ILOAD_1=27]="ILOAD_1",a[a.ILOAD_2=28]="ILOAD_2",a[a.ILOAD_3=29]="ILOAD_3",a[a.IMUL=104]="IMUL",a[a.INEG=116]="INEG",a[a.INSTANCEOF=193]="INSTANCEOF",a[a.INVOKEDYNAMIC=186]="INVOKEDYNAMIC",a[a.INVOKEINTERFACE=185]="INVOKEINTERFACE",a[a.INVOKESPECIAL=183]="INVOKESPECIAL",a[a.INVOKESTATIC=184]="INVOKESTATIC",a[a.INVOKEVIRTUAL=182]="INVOKEVIRTUAL",a[a.IOR=128]="IOR",a[a.IREM=112]="IREM",a[a.IRETURN=172]="IRETURN",a[a.ISHL=120]="ISHL",a[a.ISHR=122]="ISHR",a[a.ISTORE=54]="ISTORE",a[a.ISTORE_0=59]="ISTORE_0",a[a.ISTORE_1=60]="ISTORE_1",a[a.ISTORE_2=61]="ISTORE_2",a[a.ISTORE_3=62]="ISTORE_3",a[a.ISUB=100]="ISUB",a[a.IUSHR=124]="IUSHR",a[a.IXOR=130]="IXOR",a[a.JSR=168]="JSR",a[a.JSR_W=201]="JSR_W",a[a.L2D=138]="L2D",a[a.L2F=137]="L2F",a[a.L2I=136]="L2I",a[a.LADD=97]="LADD",a[a.LALOAD=47]="LALOAD",a[a.LAND=127]="LAND",a[a.LASTORE=80]="LASTORE",a[a.LCMP=148]="LCMP",a[a.LCONST_0=9]="LCONST_0",a[a.LCONST_1=10]="LCONST_1",a[a.LDC=18]="LDC",a[a.LDC_W=19]="LDC_W",a[a.LDC2_W=20]="LDC2_W",a[a.LDIV=109]="LDIV",a[a.LLOAD=22]="LLOAD",a[a.LLOAD_0=30]="LLOAD_0",a[a.LLOAD_1=31]="LLOAD_1",a[a.LLOAD_2=32]="LLOAD_2",a[a.LLOAD_3=33]="LLOAD_3",a[a.LMUL=105]="LMUL",a[a.LNEG=117]="LNEG",a[a.LOOKUPSWITCH=171]="LOOKUPSWITCH",a[a.LOR=129]="LOR",a[a.LREM=113]="LREM",a[a.LRETURN=173]="LRETURN",a[a.LSHL=121]="LSHL",a[a.LSHR=123]="LSHR",a[a.LSTORE=55]="LSTORE",a[a.LSTORE_0=63]="LSTORE_0",a[a.LSTORE_1=64]="LSTORE_1",a[a.LSTORE_2=65]="LSTORE_2",a[a.LSTORE_3=66]="LSTORE_3",a[a.LSUB=101]="LSUB",a[a.LUSHR=125]="LUSHR",a[a.LXOR=131]="LXOR",a[a.MONITORENTER=194]="MONITORENTER",a[a.MONITOREXIT=195]="MONITOREXIT",a[a.MULTIANEWARRAY=197]="MULTIANEWARRAY",a[a.NEW=187]="NEW",a[a.NEWARRAY=188]="NEWARRAY",a[a.NOP=0]="NOP",a[a.POP=87]="POP",a[a.POP2=88]="POP2",a[a.PUTFIELD=181]="PUTFIELD",a[a.PUTSTATIC=179]="PUTSTATIC",a[a.RET=169]="RET",a[a.RETURN=177]="RETURN",a[a.SALOAD=53]="SALOAD",a[a.SASTORE=86]="SASTORE",a[a.SIPUSH=17]="SIPUSH",a[a.SWAP=95]="SWAP",a[a.TABLESWITCH=170]="TABLESWITCH",a[a.WIDE=196]="WIDE",a[a.GETSTATIC_FAST32=208]="GETSTATIC_FAST32",a[a.GETSTATIC_FAST64=209]="GETSTATIC_FAST64",a[a.NEW_FAST=210]="NEW_FAST",a[a.ANEWARRAY_FAST=213]="ANEWARRAY_FAST",a[a.CHECKCAST_FAST=214]="CHECKCAST_FAST",a[a.INSTANCEOF_FAST=215]="INSTANCEOF_FAST",a[a.MULTIANEWARRAY_FAST=216]="MULTIANEWARRAY_FAST",a[a.PUTSTATIC_FAST32=217]="PUTSTATIC_FAST32",a[a.PUTSTATIC_FAST64=218]="PUTSTATIC_FAST64",a[a.GETFIELD_FAST32=219]="GETFIELD_FAST32",a[a.GETFIELD_FAST64=220]="GETFIELD_FAST64",a[a.PUTFIELD_FAST32=221]="PUTFIELD_FAST32",a[a.PUTFIELD_FAST64=222]="PUTFIELD_FAST64",a[a.INVOKENONVIRTUAL_FAST=223]="INVOKENONVIRTUAL_FAST",a[a.INVOKESTATIC_FAST=240]="INVOKESTATIC_FAST",a[a.INVOKEVIRTUAL_FAST=241]="INVOKEVIRTUAL_FAST",a[a.INVOKEINTERFACE_FAST=242]="INVOKEINTERFACE_FAST",a[a.INVOKEHANDLE=243]="INVOKEHANDLE",a[a.INVOKEBASIC=244]="INVOKEBASIC",a[a.LINKTOSPECIAL=245]="LINKTOSPECIAL",a[a.LINKTOVIRTUAL=247]="LINKTOVIRTUAL",a[a.INVOKEDYNAMIC_FAST=248]="INVOKEDYNAMIC_FAST"}(c.OpCode||(c.OpCode={}));var e=c.OpCode;!function(a){a[a.OPCODE_ONLY=0]="OPCODE_ONLY",a[a.CONSTANT_POOL_UINT8=1]="CONSTANT_POOL_UINT8",a[a.CONSTANT_POOL=2]="CONSTANT_POOL",a[a.CONSTANT_POOL_AND_UINT8_VALUE=3]="CONSTANT_POOL_AND_UINT8_VALUE",a[a.UINT8_VALUE=4]="UINT8_VALUE",a[a.UINT8_AND_INT8_VALUE=5]="UINT8_AND_INT8_VALUE",a[a.INT8_VALUE=6]="INT8_VALUE",a[a.INT16_VALUE=7]="INT16_VALUE",a[a.INT32_VALUE=8]="INT32_VALUE",a[a.ARRAY_TYPE=9]="ARRAY_TYPE",a[a.WIDE=10]="WIDE"}(c.OpcodeLayoutType||(c.OpcodeLayoutType={}));var f=c.OpcodeLayoutType,g=new Array(255);!function(){for(var a=0;255>a;a++)g[a]=f.OPCODE_ONLY}(),d(f.UINT8_VALUE,[e.ALOAD,e.ASTORE,e.DLOAD,e.DSTORE,e.FLOAD,e.FSTORE,e.ILOAD,e.ISTORE,e.LLOAD,e.LSTORE,e.RET]),d(f.CONSTANT_POOL_UINT8,[e.LDC]),d(f.CONSTANT_POOL,[e.LDC_W,e.LDC2_W,e.ANEWARRAY,e.CHECKCAST,e.GETFIELD,e.GETSTATIC,e.INSTANCEOF,e.INVOKEDYNAMIC,e.INVOKESPECIAL,e.INVOKESTATIC,e.INVOKEVIRTUAL,e.NEW,e.PUTFIELD,e.PUTSTATIC,e.MULTIANEWARRAY_FAST,e.INVOKENONVIRTUAL_FAST,e.INVOKESTATIC_FAST,e.CHECKCAST_FAST,e.NEW_FAST,e.ANEWARRAY_FAST,e.INSTANCEOF_FAST,e.GETSTATIC_FAST32,e.GETSTATIC_FAST64,e.PUTSTATIC_FAST32,e.PUTSTATIC_FAST64,e.PUTFIELD_FAST32,e.PUTFIELD_FAST64,e.GETFIELD_FAST32,e.GETFIELD_FAST64,e.INVOKEVIRTUAL_FAST]),d(f.CONSTANT_POOL_AND_UINT8_VALUE,[e.INVOKEINTERFACE,e.INVOKEINTERFACE_FAST,e.MULTIANEWARRAY]),d(f.INT8_VALUE,[e.BIPUSH]),d(f.INT16_VALUE,[e.SIPUSH,e.GOTO,e.IFGT,e.IFEQ,e.IFGE,e.IFLE,e.IFLT,e.IFNE,e.IFNULL,e.IFNONNULL,e.IF_ICMPLE,e.IF_ACMPEQ,e.IF_ACMPNE,e.IF_ICMPEQ,e.IF_ICMPGE,e.IF_ICMPGT,e.IF_ICMPLT,e.IF_ICMPNE,e.JSR]),d(f.INT32_VALUE,[e.GOTO_W,e.JSR_W]),d(f.UINT8_AND_INT8_VALUE,[e.IINC]),d(f.ARRAY_TYPE,[e.NEWARRAY]),c.OpcodeLayouts=g},{}],32:[function(a,b,c){var d=function(){function a(a,b){this.low_=0|a,this.high_=0|b}return a.fromInt=function(b){if(b>=-128&&128>b){var c=a.IntCache_[b];if(c)return c}var d=new a(b,0>b?-1:0);return b>=-128&&128>b&&(a.IntCache_[b]=d),d},a.fromNumber=function(b){return isNaN(b)||!isFinite(b)?a.ZERO:b<=-a.TWO_PWR_63_DBL_?a.MIN_VALUE:b+1>=a.TWO_PWR_63_DBL_?a.MAX_VALUE:0>b?a.fromNumber(-b).negate():new a(b%a.TWO_PWR_32_DBL_|0,b/a.TWO_PWR_32_DBL_|0)},a.fromBits=function(b,c){return new a(b,c)},a.fromString=function(b,c){if(0==b.length)throw Error("number format error: empty string");var d=c||10;if(2>d||d>36)throw Error("radix out of range: "+d);if("-"==b.charAt(0))return a.fromString(b.substring(1),d).negate();if(b.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+b);for(var e=a.fromNumber(Math.pow(d,8)),f=a.ZERO,g=0;g<b.length;g+=8){var h=Math.min(8,b.length-g),i=parseInt(b.substring(g,g+h),d);if(8>h){var j=a.fromNumber(Math.pow(d,h));f=f.multiply(j).add(a.fromNumber(i))}else f=f.multiply(e),f=f.add(a.fromNumber(i))}return f},a.prototype.toInt=function(){return this.low_},a.prototype.toNumber=function(){return this.high_*a.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},a.prototype.toString=function(b){var c=b||10;if(2>c||c>36)throw Error("radix out of range: "+c);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(a.MIN_VALUE)){var d=a.fromNumber(c),e=this.div(d),f=e.multiply(d).subtract(this);return e.toString(c)+f.toInt().toString(c)}return"-"+this.negate().toString(c)}for(var g=a.fromNumber(Math.pow(c,6)),f=this,h="";;){var i=f.div(g),j=f.subtract(i.multiply(g)).toInt(),k=j.toString(c);if(f=i,f.isZero())return k+h;for(;k.length<6;)k="0"+k;h=""+k+h}},a.prototype.getHighBits=function(){return this.high_},a.prototype.getLowBits=function(){return this.low_},a.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:a.TWO_PWR_32_DBL_+this.low_},a.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var b=0!=this.high_?this.high_:this.low_,c=31;c>0&&0==(b&1<<c);c--);return 0!=this.high_?c+33:c+1},a.prototype.isZero=function(){return 0==this.high_&&0==this.low_},a.prototype.isNegative=function(){return this.high_<0},a.prototype.isOdd=function(){return 1==(1&this.low_)},a.prototype.equals=function(a){return this.high_==a.high_&&this.low_==a.low_},a.prototype.notEquals=function(a){return this.high_!=a.high_||this.low_!=a.low_},a.prototype.lessThan=function(a){return this.compare(a)<0},a.prototype.lessThanOrEqual=function(a){return this.compare(a)<=0},a.prototype.greaterThan=function(a){return this.compare(a)>0},a.prototype.greaterThanOrEqual=function(a){return this.compare(a)>=0},a.prototype.compare=function(a){if(this.equals(a))return 0;var b=this.isNegative(),c=a.isNegative();return b&&!c?-1:!b&&c?1:this.subtract(a).isNegative()?-1:1},a.prototype.negate=function(){return this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)},a.prototype.add=function(b){var c=this.high_>>>16,d=65535&this.high_,e=this.low_>>>16,f=65535&this.low_,g=b.high_>>>16,h=65535&b.high_,i=b.low_>>>16,j=65535&b.low_,k=0,l=0,m=0,n=0;return n+=f+j,m+=n>>>16,n&=65535,m+=e+i,l+=m>>>16,m&=65535,l+=d+h,k+=l>>>16,l&=65535,k+=c+g,k&=65535,a.fromBits(m<<16|n,k<<16|l)},a.prototype.subtract=function(a){return this.add(a.negate())},a.prototype.multiply=function(b){if(this.isZero())return a.ZERO;if(b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(a.TWO_PWR_24_)&&b.lessThan(a.TWO_PWR_24_))return a.fromNumber(this.toNumber()*b.toNumber());var c=this.high_>>>16,d=65535&this.high_,e=this.low_>>>16,f=65535&this.low_,g=b.high_>>>16,h=65535&b.high_,i=b.low_>>>16,j=65535&b.low_,k=0,l=0,m=0,n=0;return n+=f*j,m+=n>>>16,n&=65535,m+=e*j,l+=m>>>16,m&=65535,m+=f*i,l+=m>>>16,m&=65535,l+=d*j,k+=l>>>16,l&=65535,l+=e*i,k+=l>>>16,l&=65535,l+=f*h,k+=l>>>16,l&=65535,k+=c*j+d*i+e*h+f*g,k&=65535,a.fromBits(m<<16|n,k<<16|l)},a.prototype.div=function(b){if(b.isZero())throw Error("division by zero");if(this.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE)){if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;if(b.equals(a.MIN_VALUE))return a.ONE;var c=this.shiftRight(1),d=c.div(b).shiftLeft(1);if(d.equals(a.ZERO))return b.isNegative()?a.ONE:a.NEG_ONE;var e=this.subtract(b.multiply(d)),f=d.add(e.div(b));return f}if(b.equals(a.MIN_VALUE))return a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().div(b.negate()):this.negate().div(b).negate();if(b.isNegative())return this.div(b.negate()).negate();for(var g=a.ZERO,e=this;e.greaterThanOrEqual(b);){var h=Math.max(1,Math.floor(e.toNumber()/b.toNumber())),i=Math.ceil(Math.log(h)/Math.LN2),j=1;i>48&&(j=Math.pow(2,i-48));for(var k=a.fromNumber(h),l=k.multiply(b);l.isNegative()||l.greaterThan(e);)h-=j,k=a.fromNumber(h),l=k.multiply(b);k.isZero()&&(k=a.ONE),g=g.add(k),e=e.subtract(l)}return g},a.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a));
},a.prototype.not=function(){return a.fromBits(~this.low_,~this.high_)},a.prototype.and=function(b){return a.fromBits(this.low_&b.low_,this.high_&b.high_)},a.prototype.or=function(b){return a.fromBits(this.low_|b.low_,this.high_|b.high_)},a.prototype.xor=function(b){return a.fromBits(this.low_^b.low_,this.high_^b.high_)},a.prototype.shiftLeft=function(b){if(b&=63,0==b)return this;var c=this.low_;if(32>b){var d=this.high_;return a.fromBits(c<<b,d<<b|c>>>32-b)}return a.fromBits(0,c<<b-32)},a.prototype.shiftRight=function(b){if(b&=63,0==b)return this;var c=this.high_;if(32>b){var d=this.low_;return a.fromBits(d>>>b|c<<32-b,c>>b)}return a.fromBits(c>>b-32,c>=0?0:-1)},a.prototype.shiftRightUnsigned=function(b){if(b&=63,0==b)return this;var c=this.high_;if(32>b){var d=this.low_;return a.fromBits(d>>>b|c<<32-b,c>>>b)}return 32==b?a.fromBits(c,0):a.fromBits(c>>>b-32,0)},a.IntCache_={},a.TWO_PWR_16_DBL_=65536,a.TWO_PWR_24_DBL_=1<<24,a.TWO_PWR_32_DBL_=a.TWO_PWR_16_DBL_*a.TWO_PWR_16_DBL_,a.TWO_PWR_31_DBL_=a.TWO_PWR_32_DBL_/2,a.TWO_PWR_48_DBL_=a.TWO_PWR_32_DBL_*a.TWO_PWR_16_DBL_,a.TWO_PWR_64_DBL_=a.TWO_PWR_32_DBL_*a.TWO_PWR_32_DBL_,a.TWO_PWR_63_DBL_=a.TWO_PWR_64_DBL_/2,a.ZERO=a.fromInt(0),a.ONE=a.fromInt(1),a.NEG_ONE=a.fromInt(-1),a.MAX_VALUE=a.fromBits(4294967295,2147483647),a.MIN_VALUE=a.fromBits(0,2147483648),a.TWO_PWR_24_=a.fromInt(a.TWO_PWR_24_DBL_),a}();b.exports=d},{}],33:[function(a,b,c){(function(a){var c;c="undefined"!=typeof window?window:"undefined"!=typeof self?self:a,b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(a,b,c){(function(a){"use strict";var c=function(){function b(c){this.size=c,this._sizeMap={},this._buffer=new a(c),this._remaining=c,this._offset=0,this._freeLists=new Array(b._numSizeClasses);for(var d=0;d<b._numSizeClasses;d++)this._freeLists[d]=[]}return b.prototype.malloc=function(a){if(4>=a&&(a=4),this._remaining<a)throw"out of memory";var c,d;return d=b.size_to_class(a),c=this._freeLists[d].pop(),void 0===c&&(c=this.refill(d)),c},b.prototype.free=function(a){var c=a&~(b._chunkSize-1),d=this._sizeMap[c];this._freeLists[d].push(a)},b.prototype.store_word=function(a,b){this._buffer.writeInt32LE(b,a)},b.prototype.get_byte=function(a){return this._buffer.readUInt8(a)},b.prototype.get_word=function(a){return this._buffer.readInt32LE(a)},b.prototype.get_buffer=function(a,b){return this._buffer.slice(a,a+b)},b.prototype.get_signed_byte=function(a){return this._buffer.readInt8(a)},b.prototype.set_byte=function(a,b){this._buffer.writeUInt8(b,a)},b.prototype.set_signed_byte=function(a,b){this._buffer.writeInt8(b,a)},b.prototype.memcpy=function(a,b,c){this._buffer.copy(this._buffer,b,a,a+c)},b.prototype.refill=function(a){var c=this.cl_to_size(a),d=Math.floor(b._chunkSize/c);1>d&&(d=1);var e=this._offset;this._sizeMap[e]=a;for(var f=0;d>f;f++)this._remaining-=c,e=this._offset,this._freeLists[a].push(e),this._offset+=c;return e},b.ilog2=function(a){for(var b=0,c=1;a>c;)c<<=1,b++;return b},b.size_to_class=function(a){return b.ilog2(a)},b.prototype.cl_to_size=function(a){return 1<<a},b._numSizeClasses=64,b._chunkSize=4096,b}();b.exports=c}).call(this,BrowserFS.BFSRequire("buffer").Buffer)},{}],35:[function(a,b,c){var d=a("./doppiojvm");b.exports=d},{"./doppiojvm":30}],36:[function(a,b,c){},{}],37:[function(a,b,c){(function(c){function d(a,b,d,h){void 0===h&&(h=function(a){});var j,m=l.parse(a),n=m["default"],o=m.X;if(b.properties=n.mapOption("D"),n.flag("help",!1))return f(b.launcherName,l.help("default"),d,0);if(n.flag("X",!1))return g(b.launcherName,l.help("X"),d,0);var p=o.stringOption("log","ERROR");if(/^[0-9]+$/.test(p))k.log_level=parseInt(p,10);else{var q=k[p.toUpperCase()];if(null==q)return c.stderr.write("Unrecognized log level: "+p+"."),f(b.launcherName,l.help("default"),d,1);k.log_level=q}o.flag("list-class-cache",!1)&&(d=function(a){return function(b){var d=j.getBootstrapClassLoader().getLoadedClassFiles();c.stdout.write(d.join("\n")+"\n"),a(b)}}(d)),n.flag("enablesystemassertions",!1)&&(b.enableSystemAssertions=!0),n.flag("disablesystemassertions",!1)&&(b.enableSystemAssertions=!1),n.flag("enableassertions",!1)?b.enableAssertions=!0:n.stringOption("enableassertions",null)&&(b.enableAssertions=n.stringOption("enableassertions",null).split(":")),n.stringOption("disableassertions",null)&&(b.disableAssertions=n.stringOption("disableassertions",null).split(":"));var r=o.stringOption("bootclasspath",null);null!==r&&(b.bootstrapClasspath=r.split(":"));var s=o.stringOption("bootclasspath/a",null);s&&(b.bootstrapClasspath=b.bootstrapClasspath.concat(s.split(":")));var t=o.stringOption("bootclasspath/p",null);t&&(b.bootstrapClasspath=t.split(":").concat(b.bootstrapClasspath)),b.classpath||(b.classpath=[]),n.stringOption("jar",null)?b.classpath.push(n.stringOption("jar",null)):n.stringOption("classpath",null)?b.classpath=b.classpath.concat(n.stringOption("classpath",null).split(":")):b.classpath.push(c.cwd());var u=n.stringOption("native-classpath",null);u&&(b.nativeClasspath=b.nativeClasspath.concat(u.split(":"))),j=new i(b,function(a){a?(c.stderr.write("Error constructing JVM:\n"),c.stderr.write(a.toString()+"\n"),d(1)):e(n,b,j,d,h)});var v=o.stringOption("vtrace-methods",null);v&&v.split(":").forEach(function(a){return j.vtraceMethod(a)});var w=o.stringOption("dumpCompiledCode",null);w&&j.dumpCompiledCode(w)}function e(a,b,c,d,e){var g=a.unparsedArgs();if(a.stringOption("jar",null))c.runJar(g,d),e(c);else if(g.length>0){var h=g[0];".class"===h.slice(-6)&&(h=h.slice(0,-6)),-1!==h.indexOf(".")&&(h=j.descriptor2typestr(j.int_classname(h))),c.runClass(h,g.slice(1),d),e(c)}else f(b.launcherName,l.help("default"),d,0)}function f(a,b,d,e){c.stdout.write("Usage: "+a+" [-options] class [args...]\n        (to execute a class)\nor  "+a+" [-options] -jar jarfile [args...]\n        (to execute a jar file)\nwhere options include:\n"+b),d(e)}function g(a,b,d,e){c.stdout.write(b+"\n\nThe -X options are non-standard and subject to change without notice.\n"),d(e)}var h=a("./option_parser"),i=a("./jvm"),j=a("./util"),k=a("./logging"),l=new h.OptionParser({"default":{classpath:{type:3,alias:"cp",optDesc:" <class search path of directories and zip/jar files>",desc:"A : separated list of directories, JAR archives, and ZIP archives to search for class files."},D:{type:4,optDesc:"<name>=<value>",desc:"set a system property"},jar:{type:3,stopParsing:!0},help:{alias:"?",desc:"print this help message"},X:{desc:"print help on non-standard options"},enableassertions:{type:2,optDesc:"[:<packagename>...|:<classname>]",alias:"ea",desc:"enable assertions with specified granularity"},disableassertions:{type:2,optDesc:"[:<packagename>...|:<classname>]",alias:"da",desc:"disable assertions with specified granularity"},enablesystemassertions:{alias:"esa",desc:"enable system assertions"},disablesystemassertions:{alias:"dsa",desc:"disable system assertions "}},X:{log:{desc:"log level, [0-10]|vtrace|trace|debug|error",type:3},"vtrace-methods":{type:3,optDesc:" <java/lang/Object/getHashCode()I:...>",desc:"specify particular methods to vtrace separated by colons"},"list-class-cache":{desc:"list all of the bootstrap loaded classes after execution"},"dump-compiled-code":{type:3,optDesc:" <directory>",desc:"location to dump compiled object definitions"},"native-classpath":{type:3,optDesc:" <class search path of directories>",desc:"A : separated list of directories to search for native mathods in JS files."},"bootclasspath/a":{type:1,optDesc:":<directories and zip/jar files separated by :>",desc:"append to end of bootstrap class path"},"bootclasspath/p":{type:1,optDesc:":<directories and zip/jar files separated by :>",desc:"prepend in front of bootstrap class path"},bootclasspath:{type:1,optDesc:":<directories and zip/jar files separated by :>",desc:"set search path for bootstrap classes and resources"}}});b.exports=d}).call(this,BrowserFS.BFSRequire("process"))},{"./jvm":38,"./logging":39,"./option_parser":42,"./util":47}],38:[function(_dereq_,module,exports){(function(process,global){"use strict";var util=_dereq_("./util"),SafeMap=_dereq_("./SafeMap"),ClassLoader=_dereq_("./ClassLoader"),fs=_dereq_("fs"),path=_dereq_("path"),buffer=_dereq_("buffer"),threading_1=_dereq_("./threading"),enums_1=_dereq_("./enums"),Heap=_dereq_("./heap"),assert=_dereq_("./assert"),Parker=_dereq_("./parker"),threadpool_1=_dereq_("./threadpool"),JDKInfo=_dereq_("../vendor/java_home/jdk.json"),BrowserFS="undefined"!=typeof window?window.BrowserFS:"undefined"!=typeof global?global.BrowserFS:null,deflate=_dereq_("pako/lib/zlib/deflate"),inflate=_dereq_("pako/lib/zlib/inflate"),zstream=_dereq_("pako/lib/zlib/zstream"),crc32=_dereq_("pako/lib/zlib/crc32"),adler32=_dereq_("pako/lib/zlib/adler32"),pkg;pkg=_dereq_(util.are_in_browser()?"../package.json":"../../../package.json");var coreClasses=["Ljava/lang/String;","Ljava/lang/Class;","Ljava/lang/ClassLoader;","Ljava/lang/reflect/Constructor;","Ljava/lang/reflect/Field;","Ljava/lang/reflect/Method;","Ljava/lang/Error;","Ljava/lang/StackTraceElement;","Ljava/lang/System;","Ljava/lang/Thread;","Ljava/lang/ThreadGroup;","Ljava/lang/Throwable;","Ljava/nio/ByteOrder;","Lsun/misc/VM;","Lsun/reflect/ConstantPool;","Ljava/lang/Byte;","Ljava/lang/Character;","Ljava/lang/Double;","Ljava/lang/Float;","Ljava/lang/Integer;","Ljava/lang/Long;","Ljava/lang/Short;","Ljava/lang/Void;","Ljava/io/FileDescriptor;","Ljava/lang/Boolean;","[Lsun/management/MemoryManagerImpl;","[Lsun/management/MemoryPoolImpl;","Lsun/nio/fs/UnixConstants;"],JVM=function(){function JVM(a,b){var c=this;if(this.systemProperties=null,this.internedStrings=new SafeMap,this.bsCl=null,this.threadPool=null,this.natives={},this.heap=new Heap(20971520),this.nativeClasspath=null,this.startupTime=new Date,this.terminationCb=null,this.firstThread=null,this.responsiveness=null,this.enableSystemAssertions=!1,this.enabledAssertions=!1,this.disabledAssertions=[],this.systemClassLoader=null,this.nextRef=0,this.vtraceMethods={},this.dumpCompiledCodeDir=null,this.parker=new Parker,this.status=enums_1.JVMStatus.BOOTING,this.exitCode=0,"string"!=typeof a.doppioHomePath)throw new TypeError("opts.doppioHomePath *must* be specified.");a=util.merge(JVM.getDefaultOptions(a.doppioHomePath),a);var d,e,f=a.bootstrapClasspath.map(function(a){return path.resolve(a)}),g=[];if(!Array.isArray(a.bootstrapClasspath)||0===a.bootstrapClasspath.length)throw new TypeError("opts.bootstrapClasspath must be specified as an array of file paths.");if(!Array.isArray(a.classpath))throw new TypeError("opts.classpath must be specified as an array of file paths.");if("string"!=typeof a.javaHomePath)throw new TypeError("opts.javaHomePath must be specified.");if(!Array.isArray(a.nativeClasspath)||0===a.nativeClasspath.length)throw new TypeError("opts.nativeClasspath must be specified as an array of file paths.");this.nativeClasspath=a.nativeClasspath,a.enableSystemAssertions&&(this.enableSystemAssertions=a.enableSystemAssertions),a.enableAssertions&&(this.enabledAssertions=a.enableAssertions),a.disableAssertions&&(this.disabledAssertions=a.disableAssertions),this.responsiveness=a.responsiveness,this._initSystemProperties(f,a.classpath.map(function(a){return path.resolve(a)}),path.resolve(a.javaHomePath),path.resolve(a.tmpDir),a.properties),g.push(function(a){c.initializeNatives(a)}),g.push(function(a){c.bsCl=new ClassLoader.BootstrapClassLoader(c.systemProperties["java.home"],f,a)}),g.push(function(a){c.threadPool=new threadpool_1["default"](function(){c.threadPoolIsEmpty()}),c.bsCl.resolveClass(null,"Ljava/lang/Thread;",function(b){null==b?a("Failed to resolve java/lang/Thread."):(e=new(b.getConstructor(null))(null),e.$thread=d=c.firstThread=new threading_1.JVMThread(c,c.threadPool,e),e.ref=1,e["java/lang/Thread/priority"]=5,e["java/lang/Thread/name"]=util.initCarr(c.bsCl,"main"),e["java/lang/Thread/blockerLock"]=new(c.bsCl.getResolvedClass("Ljava/lang/Object;").getConstructor(d))(d),a())})}),g.push(function(a){util.asyncForEach(coreClasses,function(a,b){c.bsCl.initializeClass(d,a,function(c){if(null==c)b("Failed to initialize "+a);else if("Ljava/lang/ThreadGroup;"===a){var f=c.getConstructor(d),g=new f(d);g["<init>()V"](d,null,function(a){e["java/lang/Thread/group"]=g,b(a)})}else b()})},a)}),g.push(function(a){var b=c.bsCl.getInitializedClass(d,"Ljava/lang/System;").getConstructor(d);b["java/lang/System/initializeSystemClass()V"](d,null,a)}),g.push(function(a){var b=c.bsCl.getInitializedClass(d,"Ljava/lang/ClassLoader;").getConstructor(d);b["java/lang/ClassLoader/getSystemClassLoader()Ljava/lang/ClassLoader;"](d,null,function(b,f){if(b)a(b);else{c.systemClassLoader=f.$loader,e["java/lang/Thread/contextClassLoader"]=f;var g=c.enabledAssertions===!0?1:0;f["java/lang/ClassLoader/setDefaultAssertionStatus(Z)V"](d,[g],a)}})}),util.asyncSeries(g,function(a){setImmediate(function(){a?(c.status=enums_1.JVMStatus.TERMINATED,b(a)):(c.status=enums_1.JVMStatus.BOOTED,b(null,c))})})}return JVM.prototype.getResponsiveness=function(){var a=this.responsiveness;return"number"==typeof a?a:"function"==typeof a?a():void 0},JVM.getDefaultOptions=function(a){var b=path.join(a,"vendor","java_home");return{doppioHomePath:a,classpath:["."],bootstrapClasspath:JDKInfo.classpath.map(function(a){return path.join(b,a)}),javaHomePath:b,nativeClasspath:[path.join(a,"natives")],enableSystemAssertions:!1,enableAssertions:!1,disableAssertions:null,properties:{},tmpDir:"/tmp",responsiveness:1e3}},JVM.getCompiledJDKURL=function(){return JDKInfo.url},JVM.getJDKInfo=function(){return JDKInfo},JVM.prototype.getSystemClassLoader=function(){return this.systemClassLoader},JVM.isReleaseBuild=function(){return!0},JVM.prototype.getNextRef=function(){return this.nextRef++},JVM.prototype.getParker=function(){return this.parker},JVM.prototype.runClass=function(a,b,c){var d=this;if(this.status!==enums_1.JVMStatus.BOOTED)switch(this.status){case enums_1.JVMStatus.BOOTING:throw new Error("JVM is currently booting up. Please wait for it to call the bootup callback, which you passed to the constructor.");case enums_1.JVMStatus.RUNNING:throw new Error("JVM is already running.");case enums_1.JVMStatus.TERMINATED:throw new Error("This JVM has already terminated. Please create a new JVM.");case enums_1.JVMStatus.TERMINATING:throw new Error("This JVM is currently terminating. You should create a new JVM for each class you wish to run.")}this.terminationCb=c;var e=this.firstThread;a=util.int_classname(a),this.systemClassLoader.initializeClass(e,a,function(c){if(null!=c){var f,g=d.bsCl.getInitializedClass(e,"[Ljava/lang/String;").getConstructor(e),h=new g(e,b.length);for(f=0;f<b.length;f++)h.array[f]=util.initString(d.bsCl,b[f]);d.status=enums_1.JVMStatus.RUNNING;var i=c.getConstructor(e);i["main([Ljava/lang/String;)V"]?i["main([Ljava/lang/String;)V"](e,[h]):e.throwNewException("Ljava/lang/NoSuchMethodError;","Could not find main method in class "+c.getExternalName()+".")}else process.stdout.write("Error: Could not find or load main class "+util.ext_classname(a)+"\n"),d.terminationCb(1)})},JVM.prototype.shouldVtrace=function(a){return this.vtraceMethods[a]===!0},JVM.prototype.vtraceMethod=function(a){this.vtraceMethods[a]=!0},JVM.prototype.runJar=function(a,b){this.runClass("doppio.JarLauncher",a,b)},JVM.prototype.threadPoolIsEmpty=function(){var a,b;switch(this.status){case enums_1.JVMStatus.BOOTING:return;case enums_1.JVMStatus.BOOTED:return;case enums_1.JVMStatus.RUNNING:return this.status=enums_1.JVMStatus.TERMINATING,a=this.bsCl.getInitializedClass(this.firstThread,"Ljava/lang/System;"),b=a.getConstructor(this.firstThread),void b["java/lang/System/exit(I)V"](this.firstThread,[0]);case enums_1.JVMStatus.TERMINATED:return;case enums_1.JVMStatus.TERMINATING:return this.status=enums_1.JVMStatus.TERMINATED,void(this.terminationCb&&this.terminationCb(this.exitCode))}},JVM.prototype.hasVMBooted=function(){return!(this.status===enums_1.JVMStatus.BOOTING||this.status===enums_1.JVMStatus.BOOTED)},JVM.prototype.halt=function(a){this.exitCode=a,this.status=enums_1.JVMStatus.TERMINATING,this.threadPool.getThreads().forEach(function(a){a.setStatus(enums_1.ThreadStatus.TERMINATED)})},JVM.prototype.getSystemProperty=function(a){return this.systemProperties[a]},JVM.prototype.getSystemPropertyNames=function(){return Object.keys(this.systemProperties)},JVM.prototype.getHeap=function(){return this.heap},JVM.prototype.internString=function(a,b){return this.internedStrings.has(a)?this.internedStrings.get(a):(b||(b=util.initString(this.bsCl,a)),this.internedStrings.set(a,b),b)},JVM.prototype.evalNativeModule=function(mod){var rv,DoppioJVM=_dereq_("./doppiojvm"),Buffer=buffer.Buffer,process2=process,savedRequire="undefined"!=typeof _dereq_?_dereq_:function(a){throw new Error("Cannot find module "+a)};return function(){function registerNatives(a){rv=a}eval("\nvar process = process2;\nfunction require(name) {\n  switch(name) {\n    case 'doppiojvm':\n    case '../doppiojvm':\n      return DoppioJVM;\n    case 'fs':\n      return fs;\n    case 'path':\n      return path;\n    case 'buffer':\n      return buffer;\n    case 'browserfs':\n      return BrowserFS;\n    case 'pako/lib/zlib/zstream':\n      return zstream;\n    case 'pako/lib/zlib/inflate':\n      return inflate;\n    case 'pako/lib/zlib/deflate':\n      return deflate;\n    case 'pako/lib/zlib/crc32':\n      return crc32;\n    case 'pako/lib/zlib/adler32':\n      return adler32;\n    default:\n      return savedRequire(name);\n  }\n}\n/**\n * Emulate AMD module 'define' function for natives compiled as AMD modules.\n */\nfunction define(resources, module) {\n  var args = [];\n  resources.forEach(function(resource) {\n    switch (resource) {\n      case 'require':\n        args.push(require);\n        break;\n      case 'exports':\n        args.push({});\n        break;\n      default:\n        args.push(require(resource));\n        break;\n    }\n  });\n  module.apply(null, args);\n}\neval(mod);\n")}(),rv},JVM.prototype.registerNatives=function(a){var b,c;for(b in a)if(a.hasOwnProperty(b)){this.natives.hasOwnProperty(b)||(this.natives[b]={});var d=a[b];for(c in d)d.hasOwnProperty(c)&&(this.natives[b][c]=d[c])}},JVM.prototype.registerNative=function(a,b,c){this.registerNatives({clsName:{methSig:c}})},JVM.prototype.getNative=function(a,b){if(a=util.descriptor2typestr(a),this.natives.hasOwnProperty(a)){var c=this.natives[a];if(c.hasOwnProperty(b))return c[b]}return null},JVM.prototype.getNatives=function(){return this.natives},JVM.prototype.initializeNatives=function(a){var b=this,c=function(){if(d===b.nativeClasspath.length){var f=e.length;e.forEach(function(c){fs.readFile(c,function(c,d){c||b.registerNatives(b.evalNativeModule(d.toString())),0===--f&&a()})})}else{var g=b.nativeClasspath[d++];fs.readdir(g,function(b,d){if(b)return a();var f,h;for(f=0;f<d.length;f++)h=d[f],".js"===h.substring(h.length-3,h.length)&&e.push(path.join(g,h));c()})}},d=0,e=[];c()},JVM.prototype._initSystemProperties=function(a,b,c,d,e){this.systemProperties=util.merge({"java.class.path":b.join(":"),"java.home":c,"java.ext.dirs":path.join(c,"lib","ext"),"java.io.tmpdir":d,"sun.boot.class.path":a.join(":"),"file.encoding":"UTF-8","java.vendor":"Doppio","java.version":"1.8","java.vendor.url":"https://github.com/plasma-umass/doppio","java.class.version":"52.0","java.specification.version":"1.8","line.separator":"\n","file.separator":path.sep,"path.separator":":","user.dir":path.resolve("."),"user.home":".","user.name":"DoppioUser","os.name":"doppio","os.arch":"js","os.version":"0","java.vm.name":"DoppioJVM 32-bit VM","java.vm.version":pkg.version,"java.vm.vendor":"PLASMA@UMass","java.awt.headless":util.are_in_browser().toString(),"java.awt.graphicsenv":"classes.awt.CanvasGraphicsEnvironment","jline.terminal":"jline.UnsupportedTerminal","sun.arch.data.model":"32","sun.jnu.encoding":"UTF-8"},e)},JVM.prototype.getBootstrapClassLoader=function(){return this.bsCl},JVM.prototype.getStartupTime=function(){return this.startupTime},JVM.prototype.areSystemAssertionsEnabled=function(){return this.enableSystemAssertions},JVM.prototype.getEnabledAssertions=function(){return this.enabledAssertions},JVM.prototype.getDisabledAssertions=function(){return this.disabledAssertions},JVM.prototype.dumpCompiledCode=function(a){this.dumpCompiledCodeDir=a},JVM.prototype.shouldDumpCompiledCode=function(){return null!==this.dumpCompiledCodeDir},JVM.prototype.dumpObjectDefinition=function(a,b){this.shouldDumpCompiledCode()&&fs.writeFile(path.resolve(this.dumpCompiledCodeDir,a.getExternalName()+"_object.dump"),b,function(){})},JVM.prototype.dumpBridgeMethod=function(a,b){this.shouldDumpCompiledCode()&&fs.appendFile(path.resolve(this.dumpCompiledCodeDir,"vmtarget_bridge_methods.dump"),a+":\n"+b+"\n\n",function(){})},JVM.prototype.dumpState=function(a,b){fs.appendFile(a,this.threadPool.getThreads().map(function(a){return"Thread "+a.getRef()+":\n"+a.getPrintableStackTrace()}).join("\n\n"),b)},JVM}();module.exports=JVM}).call(this,BrowserFS.BFSRequire("process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../../package.json":void 0,"../package.json":11,"../vendor/java_home/jdk.json":48,"./ClassLoader":18,"./SafeMap":23,"./assert":26,"./doppiojvm":30,"./enums":31,"./heap":34,"./parker":43,"./threading":45,"./threadpool":46,"./util":47,buffer:12,fs:13,"pako/lib/zlib/adler32":2,"pako/lib/zlib/crc32":3,"pako/lib/zlib/deflate":4,"pako/lib/zlib/inflate":6,"pako/lib/zlib/zstream":10,path:14}],39:[function(a,b,c){"use strict";function d(a){return null===a?"!":void 0===a?"undef":null!=a.ref?"*"+a.ref:a instanceof k?a+"L":a}function e(a){return a.map(d)}function f(a,b){if(a<=c.log_level){var d=b.join(" ");1==a?console.error(d):console.log(d)}}function g(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];f(c.VTRACE,a)}function h(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];f(c.TRACE,a)}function i(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];f(c.DEBUG,a)}function j(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];f(c.ERROR,a)}var k=a("./gLong");c.debug_var=d,c.debug_vars=e,c.VTRACE=10,c.TRACE=9,c.DEBUG=5,c.ERROR=1,c.log_level=c.ERROR,c.vtrace=g,c.trace=h,c.debug=i,c.error=j},{"./gLong":32}],40:[function(_dereq_,module,exports){"use strict";function getTrappedMethod(a,b){return a=util.descriptor2typestr(a),trapped_methods.hasOwnProperty(a)&&trapped_methods[a].hasOwnProperty(b)?trapped_methods[a][b]:null}var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)},util=_dereq_("./util"),attributes=_dereq_("./attributes"),assert=_dereq_("./assert"),enums=_dereq_("./enums"),StringOutputStream=_dereq_("./StringOutputStream"),global=_dereq_("./global"),trapped_methods={"java/lang/ref/Reference":{"<clinit>()V":function(a){}},"java/lang/System":{"loadLibrary(Ljava/lang/String;)V":function(a,b){var c=b.toString();switch(c){case"zip":case"net":case"nio":case"awt":case"fontmanager":case"management":return;default:a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","no "+c+" in java.library.path")}}},"java/lang/Terminator":{"setup()V":function(a){}},"java/nio/charset/Charset$3":{"run()Ljava/lang/Object;":function(a,b){return null}},"sun/nio/fs/DefaultFileSystemProvider":{"create()Ljava/nio/file/spi/FileSystemProvider;":function(a){a.setStatus(enums.ThreadStatus.ASYNC_WAITING);var b=a.getBsCl().getInitializedClass(a,"Lsun/nio/fs/DefaultFileSystemProvider;"),c=b.getConstructor(a);c["createProvider(Ljava/lang/String;)Ljava/nio/file/spi/FileSystemProvider;"](a,[a.getJVM().internString("sun.nio.fs.LinuxFileSystemProvider")],util.forwardResult(a))}}},AbstractMethodField=function(){function a(a,b,c,d){this.cls=a,this.slot=c,this.accessFlags=new util.Flags(d.getUint16()),this.name=b.get(d.getUint16()).value,this.rawDescriptor=b.get(d.getUint16()).value,this.attrs=attributes.makeAttributes(d,b)}return a.prototype.getAttribute=function(a){for(var b=0;b<this.attrs.length;b++){var c=this.attrs[b];if(c.getName()===a)return c}return null},a.prototype.getAttributes=function(a){return this.attrs.filter(function(b){return b.getName()===a})},a.prototype.getAnnotationType=function(a,b){var c=this.getAttribute(b);if(null===c)return null;var d,e=a.getBsCl().getInitializedClass(a,"[B").getConstructor(a),f=new e(a,0),g=c.rawBytes.length,h=new Array(g);for(d=0;g>d;d++)h[d]=c.rawBytes.readInt8(d);return f.array=h,f},a.prototype.parseDescriptor=function(a){throw new Error("Unimplemented error.")},a}();exports.AbstractMethodField=AbstractMethodField;var Field=function(a){function b(b,c,d,e){a.call(this,b,c,d,e),this.fullName=util.descriptor2typestr(b.getInternalName())+"/"+this.name}return __extends(b,a),b.prototype.reflector=function(a,b){var c=this,d=this.getAttribute("Signature"),e=a.getJVM(),f=a.getBsCl(),g=function(b){var g=f.getInitializedClass(a,"Ljava/lang/reflect/Field;"),h=new(g.getConstructor(a))(a);return h["java/lang/reflect/Field/clazz"]=c.cls.getClassObject(a),h["java/lang/reflect/Field/name"]=e.internString(c.name),h["java/lang/reflect/Field/type"]=b,h["java/lang/reflect/Field/modifiers"]=c.accessFlags.getRawByte(),h["java/lang/reflect/Field/slot"]=c.slot,h["java/lang/reflect/Field/signature"]=null!==d?util.initString(f,d.sig):null,h["java/lang/reflect/Field/annotations"]=c.getAnnotationType(a,"RuntimeVisibleAnnotations"),h};this.cls.getLoader().resolveClass(a,this.rawDescriptor,function(c){b(null!=c?g(c.getClassObject(a)):null)})},b.prototype.getDefaultFieldValue=function(){var a=this.rawDescriptor;if("J"===a)return"gLongZero";var b=a[0];return"["===b||"L"===b?"null":"0"},b.prototype.outputJavaScriptField=function(a,b){this.accessFlags.isStatic()?b.write(a+'["'+util.reescapeJVMName(this.fullName)+'"] = cls._getInitialStaticFieldValue(thread, "'+util.reescapeJVMName(this.name)+'");\n'):b.write('this["'+util.reescapeJVMName(this.fullName)+'"] = '+this.getDefaultFieldValue()+";\n")},b}(AbstractMethodField);exports.Field=Field;var Method=function(_super){function Method(a,b,c,d){_super.call(this,a,b,c,d);var e,f,g=util.getTypes(this.rawDescriptor);for(this.signature=this.name+this.rawDescriptor,this.fullSignature=util.descriptor2typestr(this.cls.getInternalName())+"/"+this.signature,this.returnType=g.pop(),this.parameterTypes=g,this.parameterWords=g.length,e=0;e<this.parameterTypes.length;e++)f=this.parameterTypes[e],("D"===f||"J"===f)&&this.parameterWords++;var h=this.cls.getInternalName();if(null!==getTrappedMethod(h,this.signature))this.code=getTrappedMethod(h,this.signature),this.accessFlags.setNative(!0);else if(this.accessFlags.isNative())if(this.signature.indexOf("registerNatives()V",0)<0&&this.signature.indexOf("initIDs()V",0)<0){var i=this;this.code=function(a){var b=a.getJVM(),c=b.getNative(h,i.signature);return null!=c?(i.code=c,c.apply(i,arguments)):void a.throwNewException("Ljava/lang/UnsatisfiedLinkError;","Native method '"+i.getFullSignature()+"' not implemented.\nPlease fix or file a bug at https://github.com/plasma-umass/doppio/issues")}}else this.code=function(){};else this.accessFlags.isAbstract()||(this.code=this.getAttribute("Code"))}return __extends(Method,_super),Method.prototype.isDefault=function(){return this.accessFlags.isPublic()&&!this.accessFlags.isAbstract()&&!this.accessFlags.isStatic()&&this.cls.accessFlags.isInterface()},Method.prototype.getFullSignature=function(){return this.cls.getExternalName()+"."+this.name+this.rawDescriptor},Method.prototype.isHidden=function(){var a=this.getAttribute("RuntimeVisibleAnnotations");return null!==a&&a.isHidden},Method.prototype.isCallerSensitive=function(){var a=this.getAttribute("RuntimeVisibleAnnotations");return null!==a&&a.isCallerSensitive},Method.prototype.getParamWordSize=function(){return this.parameterWords},Method.prototype.getCodeAttribute=function(){return this.code},Method.prototype.getNativeFunction=function(){return this.code},Method.prototype._resolveReferencedClasses=function(a,b){var c=this.parameterTypes.concat(this.returnType),d=this.code,e=this.getAttribute("Exceptions");!this.accessFlags.isNative()&&!this.accessFlags.isAbstract()&&d.exceptionHandlers.length>0&&(c.push("Ljava/lang/Throwable;"),c=c.concat(d.exceptionHandlers.filter(function(a){return"<any>"!==a.catchType}).map(function(a){return a.catchType}))),null!==e&&(c=c.concat(e.exceptions)),this.cls.getLoader().resolveClasses(a,c,function(c){a.getBsCl().resolveClasses(a,["Ljava/lang/reflect/Method;","Ljava/lang/reflect/Constructor;"],function(a){null===c||null===a?b(null):(c["Ljava/lang/reflect/Method;"]=a["Ljava/lang/reflect/Method;"],c["Ljava/lang/reflect/Constructor;"]=a["Ljava/lang/reflect/Constructor;"],b(c))})})},Method.prototype.reflector=function(a,b){var c=this,d=a.getBsCl(),e=d.getInitializedClass(a,"[Ljava/lang/Class;").getConstructor(a),f=a.getJVM(),g=this.getAttribute("Signature"),h=this.getAttribute("Exceptions");this._resolveReferencedClasses(a,function(d){if(null===d)return b(null);var i=c.cls.getClassObject(a),j=f.internString(c.name),k=new e(a,0),l=d[c.returnType].getClassObject(a),m=new e(a,0),n=c.accessFlags.getRawByte(),o=null!==g?f.internString(g.sig):null;if(k.array=c.parameterTypes.map(function(b){return d[b].getClassObject(a)}),null!==h&&(m.array=h.exceptions.map(function(b){return d[b].getClassObject(a)})),"<init>"===c.name){var p=d["Ljava/lang/reflect/Constructor;"].getConstructor(a),q=new p(a);q["java/lang/reflect/Constructor/clazz"]=i,q["java/lang/reflect/Constructor/parameterTypes"]=k,q["java/lang/reflect/Constructor/exceptionTypes"]=m,q["java/lang/reflect/Constructor/modifiers"]=n,q["java/lang/reflect/Constructor/slot"]=c.slot,q["java/lang/reflect/Constructor/signature"]=o,q["java/lang/reflect/Constructor/annotations"]=c.getAnnotationType(a,"RuntimeVisibleAnnotations"),q["java/lang/reflect/Constructor/parameterAnnotations"]=c.getAnnotationType(a,"RuntimeVisibleParameterAnnotations"),b(q)}else{var r=d["Ljava/lang/reflect/Method;"].getConstructor(a),s=new r(a);s["java/lang/reflect/Method/clazz"]=i,s["java/lang/reflect/Method/name"]=j,s["java/lang/reflect/Method/parameterTypes"]=k,s["java/lang/reflect/Method/returnType"]=l,s["java/lang/reflect/Method/exceptionTypes"]=m,s["java/lang/reflect/Method/modifiers"]=n,s["java/lang/reflect/Method/slot"]=c.slot,s["java/lang/reflect/Method/signature"]=o,s["java/lang/reflect/Method/annotations"]=c.getAnnotationType(a,"RuntimeVisibleAnnotations"),s["java/lang/reflect/Method/annotationDefault"]=c.getAnnotationType(a,"AnnotationDefault"),s["java/lang/reflect/Method/parameterAnnotations"]=c.getAnnotationType(a,"RuntimeVisibleParameterAnnotations"),b(s)}})},Method.prototype.convertArgs=function(a,b){if(this.isSignaturePolymorphic())return b.unshift(a),b;var c,d=[a],e=0;for(this.accessFlags.isStatic()||(d.push(b[0]),e=1),c=0;c<this.parameterTypes.length;c++){var f=this.parameterTypes[c];d.push(b[e]),e+="J"===f||"D"===f?2:1}return d},Method.prototype.methodLock=function(a,b){return this.accessFlags.isStatic()?this.cls.getClassObject(a).getMonitor():b.locals[0].getMonitor()},Method.prototype.isSignaturePolymorphic=function(){return"Ljava/lang/invoke/MethodHandle;"===this.cls.getInternalName()&&this.accessFlags.isNative()&&this.accessFlags.isVarArgs()&&"([Ljava/lang/Object;)Ljava/lang/Object;"===this.rawDescriptor},Method.prototype.getVMTargetBridgeMethod=function(thread,refKind){var outStream=new StringOutputStream,virtualDispatch=!(refKind===enums.MethodHandleReferenceKind.INVOKESTATIC||refKind===enums.MethodHandleReferenceKind.INVOKESPECIAL);outStream.write("function _create(thread, cls, util) {\n"),this.accessFlags.isStatic()&&outStream.write("  var jsCons = cls.getConstructor(thread);\n"),outStream.write("  function bridgeMethod(thread, descriptor, args, cb) {\n"),this.accessFlags.isStatic()?outStream.write('    jsCons["'+util.reescapeJVMName(this.fullSignature)+'"](thread, '):(outStream.write("    var obj = args.shift();\n"),
outStream.write("    if (obj === null) { return thread.throwNewException('Ljava/lang/NullPointerException;', ''); }\n"),outStream.write('    obj["'+util.reescapeJVMName(virtualDispatch?this.signature:this.fullSignature)+'"](thread, ')),outStream.write("args"),outStream.write(", cb);\n  }\n  return bridgeMethod;\n}\n_create");var evalText=outStream.flush();return eval(evalText)(thread,this.cls,util)},Method.prototype.outputJavaScriptFunction=function(a,b,c){void 0===c&&(c=!1);var d;if(this.accessFlags.isStatic()?b.write(a+'["'+util.reescapeJVMName(this.fullSignature)+'"] = '+a+'["'+util.reescapeJVMName(this.signature)+'"] = '):(c||b.write(a+'.prototype["'+util.reescapeJVMName(this.signature)+'"] = '),b.write(a+'.prototype["'+util.reescapeJVMName(this.fullSignature)+'"] = ')),b.write("(function(method) {\n  return function(thread, args, cb) {\n    if (typeof cb === 'function') {\n      thread.stack.push(new InternalStackFrame(cb));\n    }\n    thread.stack.push(new "+(this.accessFlags.isNative()?"NativeStackFrame":"BytecodeStackFrame")+"(method, "),this.accessFlags.isStatic())this.parameterWords>0?b.write("args"):b.write("[]");else{for(b.write("[this"),d=0;d<this.parameterWords;d++)b.write(", args["+d+"]");b.write("]")}b.write("));\n    thread.setStatus("+enums.ThreadStatus.RUNNABLE+');\n  };\n})(cls.getSpecificMethod("'+util.reescapeJVMName(this.cls.getInternalName())+'", "'+util.reescapeJVMName(this.signature)+'"));\n')},Method}(AbstractMethodField);exports.Method=Method},{"./StringOutputStream":24,"./assert":26,"./attributes":27,"./enums":31,"./global":33,"./util":47}],41:[function(a,b,c){"use strict";function d(a,b,c){return null==c?(i(a,b,"Ljava/lang/NullPointerException;",""),!0):!1}function e(a){return a.pop(),a.pop()}function f(a,b,c){a.setStatus(l.ThreadStatus.ASYNC_WAITING),c.resolve(a,b.getLoader(),b.method.cls,function(b){b&&a.setStatus(l.ThreadStatus.RUNNABLE)},!1),b.returnToThreadLoop=!0}function g(a,b,c){a.setStatus(l.ThreadStatus.ASYNC_WAITING),c.initialize(a,function(b){null!=b&&a.setStatus(l.ThreadStatus.RUNNABLE)},!1),b.returnToThreadLoop=!0}function h(a,b,c){function d(b){b.initialize(a,function(b){null!=b&&a.setStatus(l.ThreadStatus.RUNNABLE)})}a.setStatus(l.ThreadStatus.ASYNC_WAITING),c.isResolved()?d(c.cls):c.resolve(a,b.getLoader(),b.method.cls,function(a){a&&d(c.cls)},!1),b.returnToThreadLoop=!0}function i(a,b,c,d){a.throwNewException(c,d),b.returnToThreadLoop=!0}var j=a("./gLong"),k=a("./util"),l=a("./enums");a("./assert");c.isNull=d,c.pop2=e,c.resolveCPItem=f,c.initializeClassFromClass=g,c.initializeClass=h,c.throwException=i,c.ArrayTypes={4:"Z",5:"C",6:"F",7:"D",8:"B",9:"S",10:"I",11:"J"};var m=function(){function a(){}return a._aload_32=function(a,b){var c=b.stack,e=c.pop(),f=c.pop();if(!d(a,b,f)){var g=f.array.length;0>e||e>=g?i(a,b,"Ljava/lang/ArrayIndexOutOfBoundsException;",e+" not in length "+g+" array of type "+f.getClass().getInternalName()):(c.push(f.array[e]),b.pc++)}},a._aload_64=function(a,b){var c=b.stack,e=c.pop(),f=c.pop();if(!d(a,b,f)){var g=f.array.length;0>e||e>=g?i(a,b,"Ljava/lang/ArrayIndexOutOfBoundsException;",e+" not in length "+g+" array of type "+f.getClass().getInternalName()):(c.push(f.array[e]),c.push(null),b.pc++)}},a._astore_32=function(a,b){var c=b.stack,e=c.pop(),f=c.pop(),g=c.pop();if(!d(a,b,g)){var h=g.array.length;0>f||f>=h?i(a,b,"Ljava/lang/ArrayIndexOutOfBoundsException;",f+" not in length "+h+" array of type "+g.getClass().getInternalName()):(g.array[f]=e,b.pc++)}},a._astore_64=function(a,b){var c=b.stack,f=e(c),g=c.pop(),h=c.pop();if(!d(a,b,h)){var j=h.array.length;0>g||g>=j?i(a,b,"Ljava/lang/ArrayIndexOutOfBoundsException;",g+" not in length "+j+" array of type "+h.getClass().getInternalName()):(h.array[g]=f,b.pc++)}},a.aconst_null=function(a,b){b.stack.push(null),b.pc++},a._const_0_32=function(a,b){b.stack.push(0),b.pc++},a._const_1_32=function(a,b){b.stack.push(1),b.pc++},a._const_2_32=function(a,b){b.stack.push(2),b.pc++},a.iconst_m1=function(a,b){b.stack.push(-1),b.pc++},a.iconst_3=function(a,b){b.stack.push(3),b.pc++},a.iconst_4=function(a,b){b.stack.push(4),b.pc++},a.iconst_5=function(a,b){b.stack.push(5),b.pc++},a.lconst_0=function(a,b){b.stack.push(j.ZERO,null),b.pc++},a.lconst_1=function(a,b){b.stack.push(j.ONE,null),b.pc++},a.dconst_0=function(a,b){b.stack.push(0,null),b.pc++},a.dconst_1=function(a,b){b.stack.push(1,null),b.pc++},a._load_32=function(a,b,c,d){b.stack.push(b.locals[c.readUInt8(d+1)]),b.pc+=2},a._load_0_32=function(a,b){b.stack.push(b.locals[0]),b.pc++},a._load_1_32=function(a,b){b.stack.push(b.locals[1]),b.pc++},a._load_2_32=function(a,b){b.stack.push(b.locals[2]),b.pc++},a._load_3_32=function(a,b){b.stack.push(b.locals[3]),b.pc++},a._load_64=function(a,b,c,d){b.stack.push(b.locals[c.readUInt8(d+1)],null),b.pc+=2},a._load_0_64=function(a,b){b.stack.push(b.locals[0],null),b.pc++},a._load_1_64=function(a,b){b.stack.push(b.locals[1],null),b.pc++},a._load_2_64=function(a,b){b.stack.push(b.locals[2],null),b.pc++},a._load_3_64=function(a,b){b.stack.push(b.locals[3],null),b.pc++},a._store_32=function(a,b,c,d){b.locals[c.readUInt8(d+1)]=b.stack.pop(),b.pc+=2},a._store_0_32=function(a,b){b.locals[0]=b.stack.pop(),b.pc++},a._store_1_32=function(a,b){b.locals[1]=b.stack.pop(),b.pc++},a._store_2_32=function(a,b){b.locals[2]=b.stack.pop(),b.pc++},a._store_3_32=function(a,b){b.locals[3]=b.stack.pop(),b.pc++},a._store_64=function(a,b,c,d){var e=c.readUInt8(d+1);b.locals[e+1]=b.stack.pop(),b.locals[e]=b.stack.pop(),b.pc+=2},a._store_0_64=function(a,b){b.locals[1]=b.stack.pop(),b.locals[0]=b.stack.pop(),b.pc++},a._store_1_64=function(a,b){b.locals[2]=b.stack.pop(),b.locals[1]=b.stack.pop(),b.pc++},a._store_2_64=function(a,b){b.locals[3]=b.stack.pop(),b.locals[2]=b.stack.pop(),b.pc++},a._store_3_64=function(a,b){b.locals[4]=b.stack.pop(),b.locals[3]=b.stack.pop(),b.pc++},a.sipush=function(a,b,c,d){b.stack.push(c.readInt16BE(d+1)),b.pc+=3},a.bipush=function(a,b,c,d){b.stack.push(c.readInt8(d+1)),b.pc+=2},a.pop=function(a,b){b.stack.pop(),b.pc++},a.pop2=function(a,b){b.stack.pop(),b.stack.pop(),b.pc++},a.dup=function(a,b){var c=b.stack,d=c.pop();c.push(d,d),b.pc++},a.dup_x1=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();c.push(d,e,d),b.pc++},a.dup_x2=function(a,b){var c=b.stack,d=c.pop(),e=c.pop(),f=c.pop();c.push(d,f,e,d),b.pc++},a.dup2=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();c.push(e,d,e,d),b.pc++},a.dup2_x1=function(a,b){var c=b.stack,d=c.pop(),e=c.pop(),f=c.pop();c.push(e,d,f,e,d),b.pc++},a.dup2_x2=function(a,b){var c=b.stack,d=c.pop(),e=c.pop(),f=c.pop(),g=c.pop();c.push(e,d,g,f,e,d),b.pc++},a.swap=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();c.push(d,e),b.pc++},a.iadd=function(a,b){var c=b.stack;c.push(c.pop()+c.pop()|0),b.pc++},a.ladd=function(a,b){var c=b.stack;c.push(e(c).add(e(c)),null),b.pc++},a.fadd=function(a,b){var c=b.stack;c.push(k.wrapFloat(c.pop()+c.pop())),b.pc++},a.dadd=function(a,b){var c=b.stack;c.push(e(c)+e(c),null),b.pc++},a.isub=function(a,b){var c=b.stack;c.push(-c.pop()+c.pop()|0),b.pc++},a.fsub=function(a,b){var c=b.stack;c.push(k.wrapFloat(-c.pop()+c.pop())),b.pc++},a.dsub=function(a,b){var c=b.stack;c.push(-e(c)+e(c),null),b.pc++},a.lsub=function(a,b){var c=b.stack;c.push(e(c).negate().add(e(c)),null),b.pc++},a.imul=function(a,b){var c=b.stack;c.push(Math.imul(c.pop(),c.pop())),b.pc++},a.lmul=function(a,b){var c=b.stack;c.push(e(c).multiply(e(c)),null),b.pc++},a.fmul=function(a,b){var c=b.stack;c.push(k.wrapFloat(c.pop()*c.pop())),b.pc++},a.dmul=function(a,b){var c=b.stack;c.push(e(c)*e(c),null),b.pc++},a.idiv=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();0===d?i(a,b,"Ljava/lang/ArithmeticException;","/ by zero"):(e===l.Constants.INT_MIN&&-1===d?c.push(e):c.push(e/d|0),b.pc++)},a.ldiv=function(a,b){var c=b.stack,d=e(c),f=e(c);d.isZero()?i(a,b,"Ljava/lang/ArithmeticException;","/ by zero"):(c.push(f.div(d),null),b.pc++)},a.fdiv=function(a,b){var c=b.stack,d=c.pop();c.push(k.wrapFloat(c.pop()/d)),b.pc++},a.ddiv=function(a,b){var c=b.stack,d=e(c);c.push(e(c)/d,null),b.pc++},a.irem=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();0===d?i(a,b,"Ljava/lang/ArithmeticException;","/ by zero"):(c.push(e%d),b.pc++)},a.lrem=function(a,b){var c=b.stack,d=e(c),f=e(c);d.isZero()?i(a,b,"Ljava/lang/ArithmeticException;","/ by zero"):(c.push(f.modulo(d),null),b.pc++)},a.frem=function(a,b){var c=b.stack,d=c.pop();c.push(c.pop()%d),b.pc++},a.drem=function(a,b){var c=b.stack,d=e(c);c.push(e(c)%d,null),b.pc++},a.ineg=function(a,b){var c=b.stack;c.push(0|-c.pop()),b.pc++},a.lneg=function(a,b){var c=b.stack;c.push(e(c).negate(),null),b.pc++},a.fneg=function(a,b){var c=b.stack;c.push(-c.pop()),b.pc++},a.dneg=function(a,b){var c=b.stack;c.push(-e(c),null),b.pc++},a.ishl=function(a,b){var c=b.stack,d=c.pop();c.push(c.pop()<<d),b.pc++},a.lshl=function(a,b){var c=b.stack,d=c.pop();c.push(e(c).shiftLeft(j.fromInt(d)),null),b.pc++},a.ishr=function(a,b){var c=b.stack,d=c.pop();c.push(c.pop()>>d),b.pc++},a.lshr=function(a,b){var c=b.stack,d=c.pop();c.push(e(c).shiftRight(j.fromInt(d)),null),b.pc++},a.iushr=function(a,b){var c=b.stack,d=c.pop();c.push(c.pop()>>>d|0),b.pc++},a.lushr=function(a,b){var c=b.stack,d=c.pop();c.push(e(c).shiftRightUnsigned(j.fromInt(d)),null),b.pc++},a.iand=function(a,b){var c=b.stack;c.push(c.pop()&c.pop()),b.pc++},a.land=function(a,b){var c=b.stack;c.push(e(c).and(e(c)),null),b.pc++},a.ior=function(a,b){var c=b.stack;c.push(c.pop()|c.pop()),b.pc++},a.lor=function(a,b){var c=b.stack;c.push(e(c).or(e(c)),null),b.pc++},a.ixor=function(a,b){var c=b.stack;c.push(c.pop()^c.pop()),b.pc++},a.lxor=function(a,b){var c=b.stack;c.push(e(c).xor(e(c)),null),b.pc++},a.iinc=function(a,b,c,d){var e=c.readUInt8(d+1),f=c.readInt8(d+2);b.locals[e]=b.locals[e]+f|0,b.pc+=3},a.i2l=function(a,b){var c=b.stack;c.push(j.fromInt(c.pop()),null),b.pc++},a.i2f=function(a,b){b.pc++},a.i2d=function(a,b){b.stack.push(null),b.pc++},a.l2i=function(a,b){var c=b.stack;c.pop(),c.push(c.pop().toInt()),b.pc++},a.l2f=function(a,b){var c=b.stack;c.pop(),c.push(c.pop().toNumber()),b.pc++},a.l2d=function(a,b){var c=b.stack;c.pop(),c.push(c.pop().toNumber(),null),b.pc++},a.f2i=function(a,b){var c=b.stack;c.push(k.float2int(c.pop())),b.pc++},a.f2l=function(a,b){var c=b.stack;c.push(j.fromNumber(c.pop()),null),b.pc++},a.f2d=function(a,b){b.stack.push(null),b.pc++},a.d2i=function(a,b){var c=b.stack;c.pop(),c.push(k.float2int(c.pop())),b.pc++},a.d2l=function(a,b){var c=b.stack,d=e(c);d===Number.POSITIVE_INFINITY?c.push(j.MAX_VALUE,null):d===Number.NEGATIVE_INFINITY?c.push(j.MIN_VALUE,null):c.push(j.fromNumber(d),null),b.pc++},a.d2f=function(a,b){var c=b.stack;c.pop(),c.push(k.wrapFloat(c.pop())),b.pc++},a.i2b=function(a,b){var c=b.stack;c.push(c.pop()<<24>>24),b.pc++},a.i2c=function(a,b){var c=b.stack;c.push(65535&c.pop()),b.pc++},a.i2s=function(a,b){var c=b.stack;c.push(c.pop()<<16>>16),b.pc++},a.lcmp=function(a,b){var c=b.stack,d=e(c);c.push(e(c).compare(d)),b.pc++},a.fcmpl=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();e===d?c.push(0):e>d?c.push(1):c.push(-1),b.pc++},a.fcmpg=function(a,b){var c=b.stack,d=c.pop(),e=c.pop();e===d?c.push(0):d>e?c.push(-1):c.push(1),b.pc++},a.dcmpl=function(a,b){var c=b.stack,d=e(c),f=e(c);f===d?c.push(0):f>d?c.push(1):c.push(-1),b.pc++},a.dcmpg=function(a,b){var c=b.stack,d=e(c),f=e(c);f===d?c.push(0):d>f?c.push(-1):c.push(1),b.pc++},a.ifeq=function(a,b,c,d){0===b.stack.pop()?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.ifne=function(a,b,c,d){0!==b.stack.pop()?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.iflt=function(a,b,c,d){b.stack.pop()<0?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.ifge=function(a,b,c,d){b.stack.pop()>=0?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.ifgt=function(a,b,c,d){b.stack.pop()>0?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.ifle=function(a,b,c,d){b.stack.pop()<=0?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_icmpeq=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();f===e?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_icmpne=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();f!==e?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_icmplt=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();e>f?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_icmpge=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();f>=e?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_icmpgt=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();f>e?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_icmple=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();e>=f?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_acmpeq=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();f===e?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.if_acmpne=function(a,b,c,d){var e=b.stack.pop(),f=b.stack.pop();f!==e?b.pc+=c.readInt16BE(d+1):b.pc+=3},a["goto"]=function(a,b,c,d){b.pc+=c.readInt16BE(d+1)},a.jsr=function(a,b,c,d){b.stack.push(b.pc+3),b.pc+=c.readInt16BE(d+1)},a.ret=function(a,b,c,d){b.pc=b.locals[c.readUInt8(d+1)]},a.tableswitch=function(a,b,c,d){d+=(4-(d+1)%4)%4+1;var e=c.readInt32BE(d),f=c.readInt32BE(d+4),g=c.readInt32BE(d+8),h=b.stack.pop();h>=f&&g>=h?b.pc+=c.readInt32BE(d+12+4*(h-f)):b.pc+=e},a.lookupswitch=function(a,b,c,d){d+=(4-(d+1)%4)%4+1;var e,f=c.readInt32BE(d),g=c.readInt32BE(d+4),h=b.stack.pop();for(d+=8,e=0;g>e;e++){if(c.readInt32BE(d)===h)return void(b.pc+=c.readInt32BE(d+4));d+=8}b.pc+=f},a["return"]=function(a,b){b.returnToThreadLoop=!0,(!b.method.accessFlags.isSynchronized()||b.method.methodLock(a,b).exit(a))&&a.asyncReturn()},a._return_32=function(a,b){b.returnToThreadLoop=!0,(!b.method.accessFlags.isSynchronized()||b.method.methodLock(a,b).exit(a))&&a.asyncReturn(b.stack[0])},a._return_64=function(a,b){b.returnToThreadLoop=!0,(!b.method.accessFlags.isSynchronized()||b.method.methodLock(a,b).exit(a))&&a.asyncReturn(b.stack[0],null)},a.getstatic=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));if(e.isResolved()){var h=e.field.cls;h.isInitialized(a)?("J"===e.nameAndTypeInfo.descriptor||"D"===e.nameAndTypeInfo.descriptor?c.writeUInt8(l.OpCode.GETSTATIC_FAST64,d):c.writeUInt8(l.OpCode.GETSTATIC_FAST32,d),e.fieldOwnerConstructor=h.getConstructor(a)):g(a,b,h)}else f(a,b,e)},a.getstatic_fast32=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));b.stack.push(e.fieldOwnerConstructor[e.fullFieldName]),b.pc+=3},a.getstatic_fast64=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));b.stack.push(e.fieldOwnerConstructor[e.fullFieldName],null),b.pc+=3},a.putstatic=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));if(e.isResolved()){var h=e.field.cls;h.isInitialized(a)?("J"===e.nameAndTypeInfo.descriptor||"D"===e.nameAndTypeInfo.descriptor?c.writeUInt8(l.OpCode.PUTSTATIC_FAST64,d):c.writeUInt8(l.OpCode.PUTSTATIC_FAST32,d),e.fieldOwnerConstructor=h.getConstructor(a)):g(a,b,h)}else f(a,b,e)},a.putstatic_fast32=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.fieldOwnerConstructor[e.fullFieldName]=b.stack.pop(),b.pc+=3},a.putstatic_fast64=function(a,b,c,d){var f=b.method.cls.constantPool.get(c.readUInt16BE(d+1));f.fieldOwnerConstructor[f.fullFieldName]=e(b.stack),b.pc+=3},a.getfield=function(a,b,c,e){var g=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),h=(b.getLoader(),b.stack[b.stack.length-1]);if(!d(a,b,h))if(g.isResolved()){var i=g.field;"J"==i.rawDescriptor||"D"==i.rawDescriptor?c.writeUInt8(l.OpCode.GETFIELD_FAST64,e):c.writeUInt8(l.OpCode.GETFIELD_FAST32,e)}else f(a,b,g)},a.getfield_fast32=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=b.stack,h=g.pop();d(a,b,h)||(g.push(h[f.fullFieldName]),b.pc+=3)},a.getfield_fast64=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=b.stack,h=g.pop();d(a,b,h)||(g.push(h[f.fullFieldName],null),b.pc+=3)},a.putfield=function(a,b,c,e){var g=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),h=(b.getLoader(),"J"==g.nameAndTypeInfo.descriptor||"D"==g.nameAndTypeInfo.descriptor),i=b.stack[b.stack.length-(h?3:2)];if(!d(a,b,i))if(g.isResolved()){var j=g.field;h?c.writeUInt8(l.OpCode.PUTFIELD_FAST64,e):c.writeUInt8(l.OpCode.PUTFIELD_FAST32,e),g.fullFieldName=k.descriptor2typestr(j.cls.getInternalName())+"/"+g.nameAndTypeInfo.name}else f(a,b,g)},a.putfield_fast32=function(a,b,c,e){var f=b.stack,g=f.pop(),h=f.pop(),i=b.method.cls.constantPool.get(c.readUInt16BE(e+1));d(a,b,h)||(h[i.fullFieldName]=g,b.pc+=3)},a.putfield_fast64=function(a,b,c,f){var g=b.stack,h=e(g),i=g.pop(),j=b.method.cls.constantPool.get(c.readUInt16BE(f+1));d(a,b,i)||(i[j.fullFieldName]=h,b.pc+=3)},a.invokevirtual=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));if(e.isResolved()){var g=e.method;if(g.isSignaturePolymorphic())switch(g.name){case"invokeBasic":c.writeUInt8(l.OpCode.INVOKEBASIC,d);break;case"invoke":case"invokeExact":c.writeUInt8(l.OpCode.INVOKEHANDLE,d);break;default:i(a,b,"Ljava/lang/AbstractMethodError;","Invalid signature polymorphic method: "+g.cls.getExternalName()+"."+g.name)}else c.writeUInt8(l.OpCode.INVOKEVIRTUAL_FAST,d)}else f(a,b,e)},a.invokeinterface=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?e.method.cls.isInitialized(a)?c.writeUInt8(l.OpCode.INVOKEINTERFACE_FAST,d):h(a,b,e.classInfo):f(a,b,e)},a.invokedynamic=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));a.setStatus(l.ThreadStatus.ASYNC_WAITING),e.constructCallSiteObject(a,b.getLoader(),b.method.cls,d,function(b){b&&(c.writeUInt8(l.OpCode.INVOKEDYNAMIC_FAST,d),a.setStatus(l.ThreadStatus.RUNNABLE))}),b.returnToThreadLoop=!0},a.invokespecial=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?c.writeUInt8(l.OpCode.INVOKENONVIRTUAL_FAST,d):f(a,b,e)},a.invokestatic=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));if(e.isResolved()){var h=e.method;if(h.cls.isInitialized(a)){var i=l.OpCode.INVOKESTATIC_FAST;if(e.method.isSignaturePolymorphic())switch(e.method.name){case"linkToInterface":case"linkToVirtual":i=l.OpCode.LINKTOVIRTUAL;break;case"linkToStatic":case"linkToSpecial":i=l.OpCode.LINKTOSPECIAL}c.writeUInt8(i,d)}else g(a,b,h.cls)}else f(a,b,e)},a.invokenonvirtual_fast=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=b.stack,h=f.paramWordSize,i=g[g.length-h-1],j=g.slice(g.length-h);d(a,b,i)||(g.length-=h+1,i[f.fullSignature](a,j),b.returnToThreadLoop=!0)},a.invokestatic_fast=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1)),f=b.stack,g=e.paramWordSize,h=f.slice(f.length-g);f.length-=g,e.jsConstructor[e.fullSignature](a,h),b.returnToThreadLoop=!0},a.invokevirtual_fast=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=f.getParamWordSize(),h=b.stack,i=h[h.length-g-1];d(a,b,i)||(i[f.signature](a,h.slice(h.length-g)),h.length-=g+1,b.returnToThreadLoop=!0)},a.invokedynamic_fast=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1)),f=e.getCallSiteObject(d),g=f[1],h=f[0].vmtarget,i=b.stack,j=e.paramWordSize,k=i.slice(i.length-j);i.length-=j,null!==g&&k.push(g),h(a,null,k),b.returnToThreadLoop=!0},a.invokehandle=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=b.stack,h=f.memberName.vmtarget,i=f.paramWordSize+1,j=f.appendix,k=g.slice(g.length-i);null!==j&&k.push(j),d(a,b,k[0])||(g.length-=i,h(a,null,k),b.returnToThreadLoop=!0)},a.invokebasic=function(a,b,c,e){var f,g,h=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),i=h.getParamWordSize(),j=b.stack,k=j[j.length-i-1],l=j.slice(j.length-i-1);d(a,b,k)||(j.length-=i+1,f=k["java/lang/invoke/MethodHandle/form"],g=f["java/lang/invoke/LambdaForm/vmentry"],g.vmtarget(a,h.nameAndTypeInfo.descriptor,l),b.returnToThreadLoop=!0)},a.linktospecial=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=b.stack,h=f.paramWordSize,i=g.slice(g.length-h),j=i.pop(),k=f.nameAndTypeInfo.descriptor;d(a,b,j)||(g.length-=h,j.vmtarget(a,k.replace("Ljava/lang/invoke/MemberName;)",")"),i),b.returnToThreadLoop=!0)},a.linktovirtual=function(a,b,c,e){var f=b.method.cls.constantPool.get(c.readUInt16BE(e+1)),g=f.paramWordSize,h=b.stack,i=h.slice(h.length-g),j=i.pop(),k=f.nameAndTypeInfo.descriptor;d(a,b,j)||(h.length-=g,j.vmtarget(a,k.replace("Ljava/lang/invoke/MemberName;)",")"),i),b.returnToThreadLoop=!0)},a.breakpoint=function(a,b){i(a,b,"Ljava/lang/Error;","breakpoint not implemented.")},a["new"]=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));if(e.isResolved()){var h=e.cls;h.isInitialized(a)?c.writeUInt8(l.OpCode.NEW_FAST,d):g(a,b,h)}else f(a,b,e)},a.new_fast=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));b.stack.push(new e.clsConstructor(a)),b.pc+=3},a.newarray=function(a,b,d,e){var f=b.stack,g="["+c.ArrayTypes[d.readUInt8(e+1)],h=b.getLoader().getInitializedClass(a,g),j=f.pop();j>=0?(f.push(new(h.getConstructor(a))(a,j)),b.pc+=2):i(a,b,"Ljava/lang/NegativeArraySizeException;","Tried to init "+g+" array with length "+j)},a.anewarray=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?(c.writeUInt8(l.OpCode.ANEWARRAY_FAST,d),e.arrayClass=b.getLoader().getInitializedClass(a,"["+e.cls.getInternalName()),e.arrayClassConstructor=e.arrayClass.getConstructor(a)):f(a,b,e)},a.anewarray_fast=function(a,b,c,d){var e=b.stack,f=b.method.cls.constantPool.get(c.readUInt16BE(d+1)),g=e.pop();g>=0?(e.push(new f.arrayClassConstructor(a,g)),b.pc+=3):i(a,b,"Ljava/lang/NegativeArraySizeException;","Tried to init "+f.arrayClass.getInternalName()+" array with length "+g)},a.arraylength=function(a,b){var c=b.stack,e=c.pop();d(a,b,e)||(c.push(e.array.length),b.pc++)},a.athrow=function(a,b){a.throwException(b.stack.pop()),b.returnToThreadLoop=!0},a.checkcast=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?c.writeUInt8(l.OpCode.CHECKCAST_FAST,d):f(a,b,e)},a.checkcast_fast=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1)),f=e.cls,g=b.stack,h=g[g.length-1];if(null==h||h.getClass().isCastable(f))b.pc+=3;else{var j=f.getExternalName(),k=h.getClass().getExternalName();i(a,b,"Ljava/lang/ClassCastException;",k+" cannot be cast to "+j)}},a["instanceof"]=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?c.writeUInt8(l.OpCode.INSTANCEOF_FAST,d):f(a,b,e)},a.instanceof_fast=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1)),f=e.cls,g=b.stack,h=g.pop();g.push(null!==h&&h.getClass().isCastable(f)?1:0),b.pc+=3},a.monitorenter=function(a,b){var c=b.stack,d=c.pop(),e=function(){b.pc++};d.getMonitor().enter(a,e)?e():b.returnToThreadLoop=!0},a.monitorexit=function(a,b){var c=b.stack.pop();c.getMonitor().exit(a)?b.pc++:b.returnToThreadLoop=!0},a.multianewarray=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?c.writeUInt8(l.OpCode.MULTIANEWARRAY_FAST,d):f(a,b,e)},a.multianewarray_fast=function(a,b,c,d){var e,f,g=b.method.cls.constantPool.get(c.readUInt16BE(d+1)),h=b.stack,j=c.readUInt8(d+3),k=new Array(j);for(e=0;j>e;e++)if(f=h.pop(),k[j-e-1]=f,0>f)return void i(a,b,"Ljava/lang/NegativeArraySizeException;","Tried to init "+g.cls.getInternalName()+" array with a dimension of length "+f);h.push(new(g.cls.getConstructor(a))(a,k)),b.pc+=4},a.ifnull=function(a,b,c,d){null==b.stack.pop()?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.ifnonnull=function(a,b,c,d){null!=b.stack.pop()?b.pc+=c.readInt16BE(d+1):b.pc+=3},a.goto_w=function(a,b,c,d){b.pc+=c.readInt32BE(d+1)},a.jsr_w=function(a,b,c,d){b.stack.push(b.pc+5),b.pc+=c.readInt32BE(d+1)},a.nop=function(a,b){b.pc+=1},a.ldc=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt8(d+1));e.isResolved()?(b.stack.push(e.getConstant(a)),b.pc+=2):f(a,b,e)},a.ldc_w=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));e.isResolved()?(b.stack.push(e.getConstant(a)),b.pc+=3):f(a,b,e)},a.ldc2_w=function(a,b,c,d){var e=b.method.cls.constantPool.get(c.readUInt16BE(d+1));b.stack.push(e.value,null),b.pc+=3},a.wide=function(a,b,c,d){var e=c.readUInt16BE(d+2);switch(b.pc+=4,c.readUInt8(d+1)){case l.OpCode.ILOAD:case l.OpCode.FLOAD:case l.OpCode.ALOAD:b.stack.push(b.locals[e]);break;case l.OpCode.LLOAD:case l.OpCode.DLOAD:b.stack.push(b.locals[e],null);break;case l.OpCode.ISTORE:case l.OpCode.FSTORE:case l.OpCode.ASTORE:b.locals[e]=b.stack.pop();break;case l.OpCode.LSTORE:case l.OpCode.DSTORE:b.locals[e+1]=b.stack.pop(),b.locals[e]=b.stack.pop();break;case l.OpCode.RET:b.pc=b.locals[e];break;case l.OpCode.IINC:var f=c.readInt16BE(d+4);b.locals[e]=b.locals[e]+f|0,b.pc+=2}},a.iaload=a._aload_32,a.faload=a._aload_32,a.aaload=a._aload_32,a.baload=a._aload_32,a.caload=a._aload_32,a.saload=a._aload_32,a.daload=a._aload_64,a.laload=a._aload_64,a.iastore=a._astore_32,a.fastore=a._astore_32,a.aastore=a._astore_32,a.bastore=a._astore_32,a.castore=a._astore_32,a.sastore=a._astore_32,a.lastore=a._astore_64,a.dastore=a._astore_64,a.iconst_0=a._const_0_32,a.iconst_1=a._const_1_32,a.iconst_2=a._const_2_32,a.fconst_0=a._const_0_32,a.fconst_1=a._const_1_32,a.fconst_2=a._const_2_32,a.iload=a._load_32,a.iload_0=a._load_0_32,a.iload_1=a._load_1_32,a.iload_2=a._load_2_32,a.iload_3=a._load_3_32,a.fload=a._load_32,a.fload_0=a._load_0_32,a.fload_1=a._load_1_32,a.fload_2=a._load_2_32,a.fload_3=a._load_3_32,a.aload=a._load_32,a.aload_0=a._load_0_32,a.aload_1=a._load_1_32,a.aload_2=a._load_2_32,a.aload_3=a._load_3_32,a.lload=a._load_64,a.lload_0=a._load_0_64,a.lload_1=a._load_1_64,a.lload_2=a._load_2_64,a.lload_3=a._load_3_64,a.dload=a._load_64,a.dload_0=a._load_0_64,a.dload_1=a._load_1_64,a.dload_2=a._load_2_64,a.dload_3=a._load_3_64,a.istore=a._store_32,a.istore_0=a._store_0_32,a.istore_1=a._store_1_32,a.istore_2=a._store_2_32,a.istore_3=a._store_3_32,a.fstore=a._store_32,a.fstore_0=a._store_0_32,a.fstore_1=a._store_1_32,a.fstore_2=a._store_2_32,a.fstore_3=a._store_3_32,a.astore=a._store_32,a.astore_0=a._store_0_32,a.astore_1=a._store_1_32,a.astore_2=a._store_2_32,a.astore_3=a._store_3_32,a.lstore=a._store_64,a.lstore_0=a._store_0_64,a.lstore_1=a._store_1_64,a.lstore_2=a._store_2_64,a.lstore_3=a._store_3_64,a.dstore=a._store_64,a.dstore_0=a._store_0_64,a.dstore_1=a._store_1_64,a.dstore_2=a._store_2_64,a.dstore_3=a._store_3_64,a.ireturn=a._return_32,a.freturn=a._return_32,a.areturn=a._return_32,a.lreturn=a._return_64,a.dreturn=a._return_64,a.invokeinterface_fast=a.invokevirtual_fast,a}();c.Opcodes=m,c.LookupTable=new Array(255),function(){for(var a=0;255>a;a++)l.OpCode.hasOwnProperty(""+a)&&(c.LookupTable[a]=m[l.OpCode[a].toLowerCase()])}()},{"./assert":26,"./enums":31,"./gLong":32,"./util":47}],42:[function(a,b,c){function d(a,b){return"default"!==a?""+a+b:b}function e(a,b){for(var c=a,d=b-a.length;d-- >0;)c+=" ";return c}function f(a,b){var c={},d=13;return Object.keys(a).forEach(function(d){var e=a[d];if(!e.stopParsing){var f=[d];null!=e.alias&&f.push(e.alias);var g;g=e.optDesc?f.map(function(a){return"-"+b+a+e.optDesc}).join("\n"):f.map(function(a){return"-"+b+a}).join(" | "),c[g]=e}}),Object.keys(c).map(function(a){var b=c[a];if(b.optDesc){var f=a.split("\n"),g=f.map(function(a){return"    "+a});return g.join("\n")+"\n                  "+b.desc}var h=e(a,d);return h.length===d?"    "+h+" "+b.desc:"    "+h+"\n                  "+b.desc}).join("\n")+"\n"}var g=function(){function a(a,b){void 0===b&&(b=[]),this._result=a,this._unparsedArgs=b}return a.prototype.unparsedArgs=function(){return this._unparsedArgs},a.prototype.flag=function(a,b){var c=this._result[a];return"boolean"==typeof c?c:b},a.prototype.stringOption=function(a,b){var c=this._result[a];return"string"==typeof c?c:b},a.prototype.mapOption=function(a){var b=this._result[a];return"object"==typeof b?b:{}},a}();c.PrefixParseResult=g;var h=function(){function a(a){var b=this;this._parseMap={},this._prefixes=[],this._mapArgs=[],this._rawDesc=a,this._prefixes=Object.keys(a),this._prefixes.forEach(function(c){var e=a[c],f=Object.keys(e);f.slice(0).forEach(function(a){var g=e[a];g.type||(g.type=0),4===g.type&&b._mapArgs.push(a),g.prefix=c,g.name=a,b._parseMap[d(c,a)]=g,g.alias&&(f.push(g.alias),b._parseMap[d(c,g.alias)]=g)})})}return a.prototype.parse=function(a){var b,c=this,d={},e=0;for(this._prefixes.forEach(function(a){return d[a]={}}),a=a.map(function(a){return a.trim()}).filter(function(a){return""!==a}),b=a.length;b>e;){var f=a[e];if("-"!==f[0])break;f=f.slice(1);var h;if(h=this._parseMap[f])switch(h.type){case 0:case 2:d[h.prefix][h.name]=!0;break;case 3:case 1:if(e++,!(b>e))throw new Error("-"+f+" requires an argument.");d[h.prefix][h.name]=a[e];break;case 4:break;default:throw new Error("INTERNAL ERROR: Invalid parse type for -"+f+".")}else if(this._mapArgs.filter(function(a){return f.slice(0,a.length)===a?(h=c._parseMap[a],!0):!1}).length>0){var i=f.slice(h.name.length),j=d[h.prefix][h.name];j||(j=d[h.prefix][h.name]={});var k=i.indexOf("=");-1!==k?j[i.slice(0,k)]=i.slice(k+1):j[i]=""}else{if(-1===f.indexOf(":")||!(h=this._parseMap[f.slice(0,f.indexOf(":"))]))throw new Error("Unrecognized option: -"+f);if(1!==h.type&&2!==h.type)throw new Error("Unrecognized option: -"+f);d[h.prefix][h.name]=f.slice(f.indexOf(":")+1)}if(h.stopParsing){e++;break}e++}var l=a.slice(e),m={};return Object.keys(d).forEach(function(a){m[a]=new g(d[a],l)}),m},a.prototype.help=function(a){return f(this._rawDesc[a],"default"===a?"":a)},a}();c.OptionParser=h},{}],43:[function(a,b,c){var d=a("./enums"),e=(a("./assert"),function(){function a(){this._parkCounts={},this._parkCallbacks={}}return a.prototype.park=function(a,b){var c=a.getRef();this._parkCallbacks[c]=b,this._mutateParkCount(a,1),this.isParked(a)&&a.setStatus(d.ThreadStatus.PARKED)},a.prototype.unpark=function(a){this._mutateParkCount(a,-1)},a.prototype.completelyUnpark=function(a){var b=a.getRef(),c=this._parkCounts[b];c&&this._mutateParkCount(a,-c)},a.prototype._mutateParkCount=function(a,b){var c,e=a.getRef();this._parkCounts[e]||(this._parkCounts[e]=0),0===(this._parkCounts[e]+=b)&&(c=this._parkCallbacks[e],delete this._parkCounts[e],delete this._parkCallbacks[e],a.getStatus()===d.ThreadStatus.PARKED&&(a.setStatus(d.ThreadStatus.ASYNC_WAITING),c()))},a.prototype.isParked=function(a){return!!this._parkCounts[a.getRef()]},a}());b.exports=e},{"./assert":26,"./enums":31}],44:[function(a,b,c){(function(b){"use strict";function d(a,b,c){var d=new Error(a);return d.originalError=b,d.fatal=c,d}function e(a,b){var c=l.resolve(a,l.join("classes","test"));m.readdir(c,function(a,c){b(a?[]:c.filter(function(a){return".java"===l.extname(a)}).map(function(a){return l.join("classes","test",l.basename(a,".java"))}))})}function f(a,b){var c=a.testClasses;null==c||0===c.length?e(a.doppioHomePath,function(c){a.testClasses=c,f(a,b)}):b(c.map(function(b){return new o(a,b)}))}function g(a,b){var c=a.split(/\n/),d=b.split(/\n/),e=k.text_diff(c,d,2);return e.length>0?"Doppio | Java\n"+e.join("\n"):null}function h(a,c,d,e,g,h){function i(a){c||b.stdout.write(a)}f(a,function(a){j.asyncForEach(a,function(a,b){i("["+a.cls+"]: Running... "),a.run(g,function(c,f,g,h){c&&!e&&h&&(c.message+="\n"+h),c?(i("fail.\n	"+c.message+"\n"),c.originalError&&c.originalError.stack&&i(c.stack+"\n"),!d||c.fatal?(c.message="Failed "+a.cls+": "+c.message,b(c)):b()):(i("pass.\n"),b())})},h)})}var i=a("./jvm"),j=a("./util"),k=a("./difflib"),l=a("path"),m=a("fs"),n=function(){function a(){this._stdoutWrite=b.stdout.write,this._stderrWrite=b.stderr.write,this._data="",this._isCapturing=!1}return a.prototype.debugWrite=function(a){this._stdoutWrite.apply(b.stdout,[a,"utf8"])},a.prototype.start=function(a){var c=this;if(this._isCapturing)throw new Error("Already capturing.");this._isCapturing=!0,a&&(this._data=""),b.stderr.write=b.stdout.write=function(a,b,d){return"string"!=typeof a&&(a=a.toString()),c._data+=a,!0}},a.prototype.stop=function(){this._isCapturing&&(this._isCapturing=!1,b.stderr.write=this._stderrWrite,b.stdout.write=this._stdoutWrite)},a.prototype.getOutput=function(a){var b=this._data;return a&&(this._data=""),b},a}(),o=function(){function a(a,b){
this.outputCapturer=new n,this.opts=a,-1!==b.indexOf(".")&&(b=j.descriptor2typestr(j.int_classname(b))),this.cls=b,this.outFile=l.resolve(a.doppioHomePath,b)+".runout"}return a.prototype.constructJVM=function(a){new i(j.merge(i.getDefaultOptions(this.opts.doppioHomePath),this.opts,{classpath:[this.opts.doppioHomePath],enableAssertions:!0,enableSystemAssertions:!0}),a)},a.prototype.run=function(a,b){var c=this,e=this.outputCapturer,f=null,h=!1,i=!1,j=!1;a(function(a){if(f)try{f.halt(1)}catch(c){a.message+="\n\nAdditionally, test runner received the following error while trying to halt the JVM: "+c+(c.stack?"\n\n"+c.stack:"")+"\n\nOriginal error's stack trace:"}e.stop(),b(d("Uncaught error. Aborting further tests.\n	"+a+(a.stack?"\n\n"+a.stack:""),a,!0))}),this.constructJVM(function(a,k){if(f=k,!h){if(i)return b(d("constructJVM returned twice. Aborting further tests.",null,!0));i=!0,a?b(d("Could not construct JVM:\n"+a,a)):(e.start(!0),k.runClass(c.cls,[],function(a){if(!h){if(e.stop(),j)return b(d("JVM triggered completion callback twice. Aborting further tests.",null,!0));j=!0;var f=e.getOutput(!0);m.readFile(c.outFile,{encoding:"utf8"},function(a,c){if(a)b(d("Could not read runout file:\n"+a,a));else{var e=g(f,c),h=null;null!==e&&(h="Output does not match native JVM."),b(h?d(h):null,f,c,e)}})}}))}})},a}();c.DoppioTest=o,c.getTests=f,c.diff=g,c.runTests=h}).call(this,BrowserFS.BFSRequire("process"))},{"./difflib":29,"./jvm":38,"./util":47,fs:13,path:14}],45:[function(a,b,c){function d(a){switch(a.getType()){case e.ConstantPoolItemType.METHODREF:var b=a;return h.ext_classname(b.classInfo.name)+"."+b.signature;case e.ConstantPoolItemType.INTERFACE_METHODREF:var c=a;return h.ext_classname(c.classInfo.name)+"."+c.signature;case e.ConstantPoolItemType.FIELDREF:var d=a;return h.ext_classname(d.classInfo.name)+"."+d.nameAndTypeInfo.name+":"+h.ext_classname(d.nameAndTypeInfo.descriptor);case e.ConstantPoolItemType.NAME_AND_TYPE:var f=a;return f.name+":"+f.descriptor;case e.ConstantPoolItemType.CLASS:var i=a;return h.ext_classname(i.name);default:return g.debug_var(a.value)}}var e=a("./enums"),f=(a("./assert"),a("./gLong"),a("./opcodes")),g=a("./logging"),h=a("./util"),i=e.ThreadStatus,j=(a("./global"),g.debug,g.vtrace,g.trace,1e4),k=j,l=1,m=function(){function a(a,b){this.pc=0,this.stack=[],this.returnToThreadLoop=!1,this.lockedMethodLock=!1,this.type=e.StackFrameType.BYTECODE,this.method=a,this.locals=b}return a.prototype.run=function(a){var b=this,c=this.method,d=this.method.getCodeAttribute().getCode(),e=f.LookupTable;if(!c.accessFlags.isSynchronized()||this.lockedMethodLock||(this.lockedMethodLock=c.methodLock(a,this).enter(a,function(){b.lockedMethodLock=!0}),this.lockedMethodLock))for(this.returnToThreadLoop=!1;!this.returnToThreadLoop;){var g=d.readUInt8(this.pc);e[g](a,this,d,this.pc)}},a.prototype.scheduleResume=function(a,b,c){var d=this.method.getCodeAttribute().getCode().readUInt8(this.pc);switch(d){case e.OpCode.INVOKEINTERFACE:case e.OpCode.INVOKEINTERFACE_FAST:this.pc+=5;break;case e.OpCode.INVOKESPECIAL:case e.OpCode.INVOKESTATIC:case e.OpCode.INVOKEVIRTUAL:case e.OpCode.INVOKESTATIC_FAST:case e.OpCode.INVOKENONVIRTUAL_FAST:case e.OpCode.INVOKEVIRTUAL_FAST:case e.OpCode.INVOKEHANDLE:case e.OpCode.INVOKEBASIC:case e.OpCode.LINKTOSPECIAL:case e.OpCode.LINKTOVIRTUAL:case e.OpCode.INVOKEDYNAMIC:case e.OpCode.INVOKEDYNAMIC_FAST:this.pc+=3}void 0!==b&&this.stack.push(b),void 0!==c&&this.stack.push(c)},a.prototype.scheduleException=function(a,b){for(var c,d=this.method.getCodeAttribute(),e=this.pc,f=this.method,g=d.exceptionHandlers,h=b.getClass(),j=0;j<g.length;j++){var k=g[j];if(k.startPC<=e&&e<k.endPC){if("<any>"===k.catchType){c=k;break}var l=f.cls.getLoader().getResolvedClass(k.catchType);if(null==l){for(var m=[],n=0;n<g.length;n++){var o=g[n];"<any>"!==o.catchType&&m.push(o.catchType)}return a.setStatus(i.ASYNC_WAITING),f.cls.getLoader().resolveClasses(a,m,function(c){null!==c&&a.throwException(b)}),!0}if(h.isCastable(l)){c=k;break}}}return null!=c?(this.stack=[b],this.pc=c.handlerPC,!0):(f.accessFlags.isSynchronized()&&f.methodLock(a,this).exit(a),!1)},a.prototype.getLoader=function(){return this.method.cls.getLoader()},a.prototype.getStackTraceFrame=function(){return{method:this.method,pc:this.pc,stack:this.stack.slice(0),locals:this.locals.slice(0)}},a}();c.BytecodeStackFrame=m;var n=function(){function a(a,b){this.type=e.StackFrameType.NATIVE,this.method=a,this.args=b,this.nativeMethod=a.getNativeFunction()}return a.prototype.run=function(a){var b=this.nativeMethod.apply(null,this.method.convertArgs(a,this.args));if(a.getStatus()===i.RUNNABLE&&a.currentMethod()===this.method){var c=this.method.returnType;switch(c){case"J":case"D":a.asyncReturn(b,null);break;case"Z":a.asyncReturn(b?1:0);break;default:a.asyncReturn(b)}}},a.prototype.scheduleResume=function(a,b,c){},a.prototype.scheduleException=function(a,b){return!1},a.prototype.getStackTraceFrame=function(){return{method:this.method,pc:-1,stack:[],locals:[]}},a.prototype.getLoader=function(){return this.method.cls.getLoader()},a}();c.NativeStackFrame=n;var o=function(){function a(a){this.isException=!1,this.type=e.StackFrameType.INTERNAL,this.cb=a}return a.prototype.run=function(a){a.framePop(),a.setStatus(i.ASYNC_WAITING),this.isException?this.cb(this.val):this.cb(null,this.val)},a.prototype.scheduleResume=function(a,b){this.isException=!1,this.val=b},a.prototype.scheduleException=function(a,b){return this.isException=!0,this.val=b,!0},a.prototype.getStackTraceFrame=function(){return null},a.prototype.getLoader=function(){throw new Error("Internal stack frames have no loader.")},a}();c.InternalStackFrame=o;var p=function(){function a(a,b,c){this.status=i.NEW,this.stack=[],this.interrupted=!1,this.monitor=null,this.jvm=a,this.bsCl=a.getBootstrapClassLoader(),this.tpool=b,this.jvmThreadObj=c}return a.prototype.getJVMObject=function(){return this.jvmThreadObj},a.prototype.isDaemon=function(){return 0!==this.jvmThreadObj["java/lang/Thread/daemon"]},a.prototype.getPriority=function(){return this.jvmThreadObj["java/lang/Thread/priority"]},a.prototype.setJVMObject=function(a){a["java/lang/Thread/threadStatus"]=this.jvmThreadObj["java/lang/Thread/threadStatus"],this.jvmThreadObj=a},a.prototype.getRef=function(){return this.jvmThreadObj.ref},a.prototype.isInterrupted=function(){return this.interrupted},a.prototype.currentMethod=function(){for(var a,b=this.stack,c=b.length;--c>=0;)if(a=b[c].getStackTraceFrame().method,null!==a)return a;return null},a.prototype.setInterrupted=function(a){this.interrupted=a},a.prototype.getBsCl=function(){return this.bsCl},a.prototype.getLoader=function(){var a=this.stack[this.stack.length-1].getLoader();if(a)return a;for(var b=this.stack.length,c=2;b>=c;c++)if(a=this.stack[b-c].getLoader())return a;throw new Error("Unable to find loader.")},a.prototype["import"]=function(a,b,c){var d=this;void 0===c&&(c=!0);var e=this.getLoader();if(this.setStatus(i.ASYNC_WAITING),Array.isArray(a)){var f=[];h.asyncForEach(a,function(a,b){d._import(a,e,function(a){f.push(a),b()},c)},function(a){b(f)})}else this._import(a,e,b,c)},a.prototype._import=function(a,b,c,d){var e=this,f=b.getInitializedClass(this,a);f?setImmediate(function(){return c(f.getConstructor(e))}):b.initializeClass(this,a,function(a){a&&c(a.getConstructor(e))},d)},a.prototype.getJVM=function(){return this.jvm},a.prototype.getThreadPool=function(){return this.tpool},a.prototype.getStackTrace=function(){var a,b,c=[];for(a=0;a<this.stack.length;a++)b=this.stack[a].getStackTraceFrame(),null!=b&&c.push(b);return c},a.prototype.getPrintableStackTrace=function(){var a="";return this.getStackTrace().reverse().forEach(function(b){if(a+="	at "+h.ext_classname(b.method.cls.getInternalName())+"::"+b.method.name+"(",b.pc>=0){var c=b.method.getCodeAttribute(),d=c.getAttribute("LineNumberTable"),e=b.method.cls.getAttribute("SourceFile");if(a+=null!=e?e.filename:"unknown",null!=d){var f=d.getLineNumber(b.pc);a+=":"+f,a+=" Bytecode offset: "+b.pc}}else a+="native";a+=")\n"}),a},a.prototype.run=function(){var a=this.stack,b=(new Date).getTime();for(k=j;this.status===i.RUNNABLE&&a.length>0;){var c=a[a.length-1];if(c.run(this),0===--k){var d=(new Date).getTime(),e=d-b,f=j/e*this.jvm.getResponsiveness()|0;j=(f+l*j)/(l+1)|0,0>=j&&(j=10),l++,this.tpool.quantumOver(this);break}}0===a.length&&this.setStatus(i.TERMINATED)},a.prototype.sanityCheck=function(){switch(this.status){case i.NEW:return!0;case i.RUNNABLE:return!0;case i.TIMED_WAITING:return!0;case i.WAITING:return!0;case i.BLOCKED:case i.UNINTERRUPTABLY_BLOCKED:return!0;case i.ASYNC_WAITING:return!0;case i.TERMINATED:return!0;case i.PARKED:return!0;default:return!1}},a.prototype.rawSetStatus=function(a){var b=0,c=this.status;switch(g.log_level===g.VTRACE,this.status=a,a){case i.NEW:b|=e.JVMTIThreadState.ALIVE;break;case i.RUNNABLE:b|=e.JVMTIThreadState.RUNNABLE;break;case i.BLOCKED:case i.UNINTERRUPTABLY_BLOCKED:b|=e.JVMTIThreadState.BLOCKED_ON_MONITOR_ENTER;break;case i.WAITING:case i.ASYNC_WAITING:case i.PARKED:b|=e.JVMTIThreadState.WAITING_INDEFINITELY;break;case i.TIMED_WAITING:b|=e.JVMTIThreadState.WAITING_WITH_TIMEOUT;break;case i.TERMINATED:b|=e.JVMTIThreadState.TERMINATED;break;default:b=e.JVMTIThreadState.RUNNABLE}this.jvmThreadObj["java/lang/Thread/threadStatus"]=b,this.tpool.statusChange(this,c,this.status)},a.prototype.setStatus=function(a,b){if(void 0===b&&(b=null),this.status!==a){this.status;this.monitor=b,a!==i.TERMINATED?this.rawSetStatus(a):this.exit()}},a.prototype.exit=function(){var a=this,b=this.jvmThreadObj.getMonitor();if(!b.isBlocked(this)&&b.getOwner()!==this&&this.status!==i.TERMINATED)if(0===this.stack.length){if(this.setStatus(i.ASYNC_WAITING),this.jvm.hasVMBooted()){var c=function(){a.jvmThreadObj["exit()V"](a,null,function(c){b.notifyAll(a),b.exit(a),a.rawSetStatus(i.TERMINATED)})};b.enter(this,c)&&c()}}else{for(;this.stack.length>0;)this.stack.pop();this.rawSetStatus(i.TERMINATED)}},a.prototype.signalPriorityChange=function(){this.tpool.priorityChange(this)},a.prototype.getMonitorBlock=function(){return this.monitor},a.prototype.getStatus=function(){return this.status},a.prototype.asyncReturn=function(a,b){var c=this.stack,d=c.pop();if(d.type!=e.StackFrameType.INTERNAL){d.type===e.StackFrameType.BYTECODE}var f=c.length-1;f>=0&&c[f].scheduleResume(this,a,b),this.setStatus(i.RUNNABLE)},a.prototype.framePop=function(){this.stack.pop()},a.prototype.throwException=function(a){var b=this.stack,c=b.length-1;if(c>=0)for(b[c].type===e.StackFrameType.INTERNAL&&(b.pop(),c--),this.setStatus(i.RUNNABLE);b.length>0&&!b[c].scheduleException(this,a);)b.pop(),c--;0===b.length&&this.handleUncaughtException(a)},a.prototype.throwNewException=function(a,b){var c=this,d=this.bsCl.getInitializedClass(this,a),e=function(){var a=d.getConstructor(c),e=new a(c);e["<init>(Ljava/lang/String;)V"](c,[h.initString(c.bsCl,b)],function(a){a?c.throwException(a):c.throwException(e)})};null!=d?e():(this.setStatus(i.ASYNC_WAITING),this.bsCl.initializeClass(this,a,function(a){null!=a&&(d=a,e())},!1))},a.prototype.handleUncaughtException=function(a){this.jvmThreadObj["dispatchUncaughtException(Ljava/lang/Throwable;)V"](this,[a])},a}();c.JVMThread=p,c.validTransitions={},c.validTransitions[i.NEW]={},c.validTransitions[i.NEW][i.RUNNABLE]="RunMethod invoked on new thread",c.validTransitions[i.NEW][i.ASYNC_WAITING]="[JVM bootup only] Internal operation occurs on new thread",c.validTransitions[i.NEW][i.TERMINATED]="[JVM halt0 only] When the JVM shuts down, it terminates all threads, including those that have never been run.",c.validTransitions[i.ASYNC_WAITING]={},c.validTransitions[i.ASYNC_WAITING][i.RUNNABLE]="Async operation completes",c.validTransitions[i.ASYNC_WAITING][i.TERMINATED]="RunMethod completes and callstack is empty",c.validTransitions[i.BLOCKED]={},c.validTransitions[i.BLOCKED][i.RUNNABLE]="Acquires monitor, or is interrupted",c.validTransitions[i.BLOCKED][i.TERMINATED]="Thread is terminated whilst blocked.",c.validTransitions[i.PARKED]={},c.validTransitions[i.PARKED][i.ASYNC_WAITING]="Balancing unpark, or is interrupted",c.validTransitions[i.PARKED][i.TERMINATED]="Thread is terminated whilst parked.",c.validTransitions[i.RUNNABLE]={},c.validTransitions[i.RUNNABLE][i.ASYNC_WAITING]="Thread performs an asynchronous JavaScript operation",c.validTransitions[i.RUNNABLE][i.TERMINATED]="Callstack is empty",c.validTransitions[i.RUNNABLE][i.BLOCKED]="Thread waits to acquire monitor",c.validTransitions[i.RUNNABLE][i.WAITING]="Thread waits on monitor (Object.wait)",c.validTransitions[i.RUNNABLE][i.TIMED_WAITING]="Thread waits on monitor with timeout (Object.wait)",c.validTransitions[i.RUNNABLE][i.PARKED]="Thread parks itself",c.validTransitions[i.TERMINATED]={},c.validTransitions[i.TERMINATED][i.NEW]="Thread is resurrected for re-use",c.validTransitions[i.TERMINATED][i.RUNNABLE]="Thread is resurrected for re-use",c.validTransitions[i.TERMINATED][i.ASYNC_WAITING]="[JVM Bootup] Thread is resurrected for internal operation",c.validTransitions[i.TIMED_WAITING]={},c.validTransitions[i.TIMED_WAITING][i.RUNNABLE]="Timer expires, or thread is interrupted, and thread immediately acquires lock",c.validTransitions[i.TIMED_WAITING][i.UNINTERRUPTABLY_BLOCKED]="Thread is interrupted or notified, or timer expires, and lock already owned",c.validTransitions[i.TIMED_WAITING][i.TERMINATED]="Thread is terminated whilst waiting.",c.validTransitions[i.UNINTERRUPTABLY_BLOCKED]={},c.validTransitions[i.UNINTERRUPTABLY_BLOCKED][i.RUNNABLE]="Thread acquires monitor",c.validTransitions[i.UNINTERRUPTABLY_BLOCKED][i.TERMINATED]="Thread is terminated whilst blocked.",c.validTransitions[i.WAITING]={},c.validTransitions[i.WAITING][i.RUNNABLE]="Thread is interrupted, and immediately acquires lock",c.validTransitions[i.WAITING][i.UNINTERRUPTABLY_BLOCKED]="Thread is notified or interrupted, and does not immediately acquire lock",c.validTransitions[i.WAITING][i.TERMINATED]="Thread is terminated whilst waiting.",c.OpcodeLayoutPrinters={},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.OPCODE_ONLY]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.CONSTANT_POOL]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+d(a.method.cls.constantPool.get(b.readUInt16BE(c+1)))},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.CONSTANT_POOL_UINT8]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+d(a.method.cls.constantPool.get(b.readUInt8(c+1)))},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.CONSTANT_POOL_AND_UINT8_VALUE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+d(a.method.cls.constantPool.get(b.readUInt16BE(c+1)))+" "+b.readUInt8(c+3)},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.UINT8_VALUE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+b.readUInt8(c+1)},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.UINT8_AND_INT8_VALUE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+b.readUInt8(c+1)+" "+b.readInt8(c+2)},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.INT8_VALUE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+b.readInt8(c+1)},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.INT16_VALUE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+b.readInt16BE(c+1)},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.INT32_VALUE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+b.readInt32BE(c+1)},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.ARRAY_TYPE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()+" "+f.ArrayTypes[b.readUInt8(c+1)]},c.OpcodeLayoutPrinters[e.OpcodeLayoutType.WIDE]=function(a,b,c){return e.OpCode[b.readUInt8(c)].toLowerCase()}},{"./assert":26,"./enums":31,"./gLong":32,"./global":33,"./logging":39,"./opcodes":41,"./util":47}],46:[function(a,b,c){function d(a){return a===e.ThreadStatus.RUNNABLE}var e=a("./enums"),f=(a("./assert"),function(){function a(){this._count=0,this._queue=[],this._threadScheduled=!1}return a.prototype.scheduleThread=function(a){this._queue.push(a),1===this._queue.length&&this.runThread()},a.prototype.runThread=function(){var a=this;this._threadScheduled||(this._threadScheduled=!0,setImmediate(function(){var b=a._queue;if(a._threadScheduled=!1,b.length>0){var c=a._queue[0];c.run()}}))},a.prototype.unscheduleThread=function(a){var b=this._queue,c=b[0]===a;c?(b.shift(),this._count=0,this.runThread()):b.splice(b.indexOf(a),1)},a.prototype.getRunningThread=function(){var a=this._queue;return a.length>0?a[0]:null},a.prototype.priorityChange=function(a){},a.prototype.quantumOver=function(a){this._count++,(this._count>=a.getPriority()||a.getStatus()!==e.ThreadStatus.RUNNABLE)&&(this._count=0,this._queue.push(this._queue.shift())),this.runThread()},a}()),g=function(){function a(a){this.threads=[],this.scheduler=new f,this.emptyCallback=a}return a.prototype.getThreads=function(){return this.threads.slice(0)},a.prototype.anyNonDaemonicThreads=function(){for(var a=0;a<this.threads.length;a++){var b=this.threads[a];if(!b.isDaemon()){var c=b.getStatus();if(c!==e.ThreadStatus.NEW&&c!==e.ThreadStatus.TERMINATED)return!0}}return!1},a.prototype.threadTerminated=function(a){var b=this.threads.indexOf(a);this.threads.splice(b,1),this.anyNonDaemonicThreads()||this.emptyCallback()},a.prototype.statusChange=function(a,b,c){var f=d(b),g=d(c);(b===e.ThreadStatus.NEW||b===e.ThreadStatus.TERMINATED)&&-1===this.threads.indexOf(a)&&this.threads.push(a),f!==g&&(f?this.scheduler.unscheduleThread(a):this.scheduler.scheduleThread(a)),c===e.ThreadStatus.TERMINATED&&this.threadTerminated(a)},a.prototype.priorityChange=function(a){this.scheduler.priorityChange(a)},a.prototype.quantumOver=function(a){this.scheduler.quantumOver(a)},a}();c.__esModule=!0,c["default"]=g},{"./assert":26,"./enums":31}],47:[function(a,b,c){(function(b,d){"use strict";function e(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];var c={};return a.forEach(function(a){Object.keys(a).forEach(function(b){c[b]=a[b]})}),c}function f(){return"browser"===b.platform}function g(a){switch(a[0]){case"L":return a.slice(1,a.length-1).replace(/_/g,"__").replace(/[\/.;$<>\[\]:\\=^-]/g,"_");case"[":return"ARR_"+g(a.slice(1));default:return a}}function h(a){return a.replace(/\\/g,"\\\\")}function i(a,b,c){function d(f){f?c(f):(e++,e<a.length?b(a[e],d):c())}var e=-1;d()}function j(a,b){function c(e){e?b(e):(d++,d<a.length?a[d](c):b())}var d=-1;c()}function k(a,b,c){function d(f){f?c(a[e]):(e++,e<a.length?b(a[e],d):c())}var e=-1;d(!1)}function l(a,b,c){return c.isPublic()?!0:c.isProtected()?a.getPackageName()===b.getPackageName()||a.isSubclass(b):c.isPrivate()?a===b:a.getPackageName()===b.getPackageName()}function m(a){return a>$.Constants.INT_MAX?$.Constants.INT_MAX:a<$.Constants.INT_MIN?$.Constants.INT_MIN:0|a}function n(a,b,c){if(void 0===b&&(b=0),void 0===c&&(c=a.length),_&&ArrayBuffer.isView(a)){var e=a.byteOffset;return new d(a.buffer.slice(e,e+a.length))}var f,g=new d(c);for(f=0;c>f;f++)g.writeInt8(a[b+f],f);return g}function o(a){return a>3.4028234663852886e38?Number.POSITIVE_INFINITY:a>0&&1.401298464324817e-45>a?0:-3.4028234663852886e38>a?Number.NEGATIVE_INFINITY:0>a&&a>-1.401298464324817e-45?0:a}function p(a,b,c){void 0===b&&(b=0),void 0===c&&(c=a.array.length);var d,e=a.array,f="",g=b+c;for(d=b;g>d;d++)f+=String.fromCharCode(e[d]);return f}function q(a){for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c));return b}function r(a){for(var b="",c=0;c<a.length;c++)b+=String.fromCharCode(a[c]);return b}function s(a){if("J"===a)return Z.ZERO;var b=a[0];return"["===b||"L"===b?null:0}function t(a){return B(a).replace(/\//g,".")}function u(a){return D(a.replace(/\./g,"/"))}function v(a){var b=a.match(/^\[*/)[0].length;if(b>255)return!1;if(b>0&&(a=a.slice(b)),"L"===a[0]){if(";"!==a[a.length-1])return!1;a=a.slice(1,-1)}if(a in c.internal2external)return!0;if(a.match(/\/{2,}/))return!1;for(var d=a.split("/"),e=0;e<d.length;e++)if(d[e].match(/[^$_a-z0-9]/i))return!1;return!0}function w(a){var b,c=0,d=[];for(c=0;c<a.length;c++)switch(a.charAt(c)){case"(":case")":break;case"L":b=a.indexOf(";",c),d.push(a.slice(c,b+1)),c=b;break;case"[":for(b=c+1;"["===a.charAt(b);)b++;"L"===a.charAt(b)?(b=a.indexOf(";",b),d.push(a.slice(c,b+1))):d.push(a.slice(c,b+1)),c=b;break;default:d.push(a.charAt(c))}return d}function x(a){return a.slice(1)}function y(a){return"["===a[0]}function z(a){return a in c.internal2external}function A(a){return"L"===a[0]}function B(a){var b=a[0];if(b in c.internal2external)return c.internal2external[b];if("L"===b)return a.slice(1,-1);if("["===b)return a;throw new Error("Unrecognized type string: "+a)}function C(a){var b=a.shift();if(null==b)return null;if(void 0!==c.internal2external[b])return b;if("L"===b){for(var d="L";";"!==(b=a.shift());)d+=b;return d+";"}if("["===b)return"["+C(a);throw a.unshift(b),new Error("Unrecognized descriptor: "+a.join(""))}function D(a){return void 0!==c.external2internal[a]?c.external2internal[a]:"["===a[0]?a:"L"+a+";"}function E(a,b,c){var d,e,f,g=[];for(d=0;d<b.length;d++)e=b[d],f=c[d],z(e)?(g.push(f.unbox()),("J"===e||"D"===e)&&g.push(null)):g.push(f);return g}function F(a,b,c,d){b.initializeClass(a,"Ljava/lang/invoke/MethodHandleNatives;",function(e){if(null!==e){var f=e.getConstructor(a),g=w(c);g.push("[Ljava/lang/Class;"),b.resolveClasses(a,g,function(b){var c=g.map(function(c){return b[c].getClassObject(a)});c.pop();var e=c.pop(),h=b["[Ljava/lang/Class;"].getConstructor(a),i=new h(a,c.length);i.array=c,f["java/lang/invoke/MethodHandleNatives/findMethodHandleType(Ljava/lang/Class;[Ljava/lang/Class;)Ljava/lang/invoke/MethodType;"](a,[e,i],d)})}})}function G(a){var b,c,d=w(a),e=d.length-1;for(d.pop(),b=0;b<d.length;b++)c=d[b],("D"===c||"J"===c)&&e++;return e}function H(a,b){var c="(";return void 0!==b&&null!==b&&b.array.forEach(function(a){c+=a.$cls.getInternalName()}),c+=")"+a.$cls.getInternalName()}function I(a,b){return null!=b&&null!=b.$loader?b.$loader:a.getBsCl()}function J(a,b,c,d,e){for(var f=d,g=b+e,h=b;g>h;h++)c.array[f++]=a.array[h]}function K(a,b,c,d,e,f){for(var g=e,h=c+f,i=d.getClass().getComponentClass(),j=c;h>j;j++){if(null!==b.array[j]&&!b.array[j].getClass().isCastable(i))return void a.throwNewException("Ljava/lang/ArrayStoreException;","Array element in src cannot be cast to dest array type.");d.array[g]=b.array[j],g++}}function L(a,b){var c=M(a,b),d=a.getResolvedClass("Ljava/lang/String;").getConstructor(null),e=new d(null);return e["java/lang/String/value"]=c,e}function M(a,b){for(var c=a.getInitializedClass(null,"[C").getConstructor(null),d=new c(null,b.length),e=d.array,f=0;f<b.length;f++)e[f]=b.charCodeAt(f);return d}function N(a,b,c){return new(b.getConstructor(a))(a,c)}function O(a,b,c,d){var e=b.getInitializedClass(a,c);return N(a,e,d)}function P(a,b,c,d){var e=b.getInitializedClass(a,c);return new(e.getConstructor(a))(a,d)}function Q(a,b){return new(b.getConstructor(a))(a)}function R(a,b,c){var d=b.getInitializedClass(a,c);return Q(a,d)}function S(a,b,c){return b.getInitializedClass(a,c).getConstructor(a)}function T(a,b,c){var d=N(a,b,0);return d.array=c,d}function U(a,b,c,d){var e=O(a,b,c,0);return e.array=d,e}function V(a){switch(a){case"B":return"Ljava/lang/Byte;";case"C":return"Ljava/lang/Character;";case"D":return"Ljava/lang/Double;";case"F":return"Ljava/lang/Float;";case"I":return"Ljava/lang/Integer;";case"J":return"Ljava/lang/Long;";case"S":return"Ljava/lang/Short;";case"Z":return"Ljava/lang/Boolean;";case"V":return"Ljava/lang/Void;";default:throw new Error("Tried to box a non-primitive class: "+this.className)}}function W(a,b,c){var d=a.getBsCl().getInitializedClass(a,V(b)),e=d.getConstructor(a);return e.box(c)}function X(a,b,c,d,e,f){void 0===f&&(f=0);var g,h,i=w(c),j=N(a,b,i.length-(e?1:2)-f),k=0,l=j.array;for(i.pop(),e||i.shift(),f>0&&(i=i.slice(f),d=d.slice(f)),g=0;g<i.length;g++){switch(h=i[g],h[0]){case"[":case"L":l[g]=d[k];break;case"J":case"D":l[g]=W(a,h,d[k]),k++;break;default:l[g]=W(a,h,d[k])}k++}return j}function Y(a){return function(b,c){b?a.throwException(b):a.asyncReturn(c)}}var Z=a("./gLong"),$=a("./enums");c.merge=e,c.are_in_browser=f,c.typedArraysSupported="undefined"!=typeof ArrayBuffer,c.jvmName2JSName=g,c.reescapeJVMName=h,c.asyncForEach=i,c.asyncSeries=j,c.asyncFind=k,Math.imul||(Math.imul=function(a,b){var c=a>>>16&65535,d=65535&a,e=b>>>16&65535,f=65535&b;return d*f+(c*f+d*e<<16>>>0)|0}),Math.expm1||(Math.expm1=function(a){return Math.abs(a)<1e-5?a+.5*a*a:Math.exp(a)-1}),Math.sinh||(Math.sinh=function(a){var b=Math.exp(a);return(b-1/b)/2}),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){if(null==this)throw new TypeError;var c=Object(this),d=c.length>>>0;if(0===d)return-1;var e=0;if(void 0!==b&&(e=Number(b),e!=e?e=0:0!=e&&e!=1/0&&e!=-(1/0)&&(e=((e>0?1:0)||-1)*Math.floor(Math.abs(e)))),e>=d)return-1;for(var f=e>=0?e:Math.max(d-Math.abs(e),0);d>f;f++)if(f in c&&c[f]===a)return f;return-1}),c.checkAccess=l,c.float2int=m;var _="undefined"!=typeof ArrayBuffer;c.byteArray2Buffer=n,c.wrapFloat=o,c.chars2jsStr=p,c.bytestr2Array=q,c.array2bytestr=r,function(a){a[a.PUBLIC=1]="PUBLIC",a[a.PRIVATE=2]="PRIVATE",a[a.PROTECTED=4]="PROTECTED",a[a.STATIC=8]="STATIC",a[a.FINAL=16]="FINAL",a[a.SYNCHRONIZED=32]="SYNCHRONIZED",a[a.SUPER=32]="SUPER",a[a.VOLATILE=64]="VOLATILE",a[a.TRANSIENT=128]="TRANSIENT",a[a.VARARGS=128]="VARARGS",a[a.NATIVE=256]="NATIVE",a[a.INTERFACE=512]="INTERFACE",a[a.ABSTRACT=1024]="ABSTRACT",a[a.STRICT=2048]="STRICT"}(c.FlagMasks||(c.FlagMasks={}));var aa=c.FlagMasks,ba=function(){function a(a){this["byte"]=a}return a.prototype.isPublic=function(){return(this["byte"]&aa.PUBLIC)>0},a.prototype.isPrivate=function(){return(this["byte"]&aa.PRIVATE)>0},a.prototype.isProtected=function(){return(this["byte"]&aa.PROTECTED)>0},a.prototype.isStatic=function(){return(this["byte"]&aa.STATIC)>0},a.prototype.isFinal=function(){return(this["byte"]&aa.FINAL)>0},a.prototype.isSynchronized=function(){return(this["byte"]&aa.SYNCHRONIZED)>0},a.prototype.isSuper=function(){return(this["byte"]&aa.SUPER)>0},a.prototype.isVolatile=function(){return(this["byte"]&aa.VOLATILE)>0},a.prototype.isTransient=function(){return(this["byte"]&aa.TRANSIENT)>0},a.prototype.isNative=function(){return(this["byte"]&aa.NATIVE)>0},a.prototype.isInterface=function(){return(this["byte"]&aa.INTERFACE)>0},a.prototype.isAbstract=function(){return(this["byte"]&aa.ABSTRACT)>0},a.prototype.isStrict=function(){return(this["byte"]&aa.STRICT)>0},a.prototype.setNative=function(a){a?this["byte"]=this["byte"]|aa.NATIVE:this["byte"]=this["byte"]&~aa.NATIVE},a.prototype.isVarArgs=function(){return(this["byte"]&aa.VARARGS)>0},a.prototype.getRawByte=function(){return this["byte"]},a}();c.Flags=ba,c.initialValue=s,c.ext_classname=t,c.int_classname=u,c.verify_int_classname=v,c.internal2external={B:"byte",C:"char",D:"double",F:"float",I:"int",J:"long",S:"short",V:"void",Z:"boolean"},c.external2internal={};for(var ca in c.internal2external)c.external2internal[c.internal2external[ca]]=ca;c.getTypes=w,c.get_component_type=x,c.is_array_type=y,c.is_primitive_type=z,c.is_reference_type=A,c.descriptor2typestr=B,c.carr2descriptor=C,c.typestr2descriptor=D,c.unboxArguments=E,c.createMethodType=F,c.getMethodDescriptorWordSize=G,c.getDescriptorString=H,c.getLoader=I,c.arraycopyNoCheck=J,c.arraycopyCheck=K,c.initString=L,c.initCarr=M,c.newArrayFromClass=N,c.newArray=O,c.multiNewArray=P,c.newObjectFromClass=Q,c.newObject=R,c.getStaticFields=S,c.newArrayFromDataWithClass=T,c.newArrayFromData=U,c.boxClassName=V,c.boxPrimitiveValue=W,c.boxArguments=X,c.forwardResult=Y}).call(this,BrowserFS.BFSRequire("process"),BrowserFS.BFSRequire("buffer").Buffer)},{"./enums":31,"./gLong":32}],48:[function(a,b,c){b.exports={url:"https://github.com/plasma-umass/doppio_jcl/releases/download/v3.2/java_home.tar.gz",classpath:["lib/rt.jar","lib/charsets.jar","lib/doppio.jar","lib/dt.jar","lib/jce.jar","lib/jconsole.jar","lib/jsse.jar","lib/management-agent.jar","lib/resources.jar","lib/sa-jdi.jar","lib/tools.jar"]}},{}]},{},[35])(35)});
//# sourceMappingURL=doppio.js.map